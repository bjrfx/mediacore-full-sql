/*! For license information please see 793.be772fb8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[793],{29521:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(21639).A)("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},31555:(e,s,a)=>{a.d(s,{E:()=>d});var l=a(27051),t=a(53986),i=(a(65043),a(99766)),r=a(70579);const c=["className"];function d(e){let{className:s}=e,a=(0,t.A)(e,c);return(0,r.jsx)("div",(0,l.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",s)},a))}},41793:(e,s,a)=>{a.r(s),a.d(s,{default:()=>E});var l=a(27051),t=a(65043),i=a(73216),r=a(35475),c=a(12265),d=a(81228),n=a(35613),o=a(75088),m=a(29521),x=a(57170),h=a(14918),u=a(48186),g=a(19829),j=a(64830),f=a(88306),N=a(82119),v=a(14459),p=a(18717),y=a(66305),b=a(13390),w=a(5949),A=a(31555),k=a(17484),_=a(99766),C=a(70579);function E(){const{artistId:e}=(0,i.g)(),{playTrack:s,setQueue:a}=(0,p.ut)(),{toggleFavorite:m,isFavorite:E}=(0,p.CA)(),{data:q,isLoading:F,isError:z,error:M}=(0,c.I)({queryKey:["artist",e],queryFn:()=>y.O0.getArtistById(e),enabled:!!e}),{data:O,isLoading:T}=(0,c.I)({queryKey:["artist",e,"albums"],queryFn:()=>y.O0.getArtistAlbums(e),enabled:!!e}),S=null===q||void 0===q?void 0:q.data,$=(0,t.useMemo)(()=>(null===O||void 0===O?void 0:O.data)||[],[null===O||void 0===O?void 0:O.data]),{data:D,isLoading:P}=(0,c.I)({queryKey:["artist",e,"allAlbumMedia",$.map(e=>e.id).join(",")],queryFn:async()=>{const e=$.map(e=>y.O0.getAlbumMedia(e.id).then(e=>(null===e||void 0===e?void 0:e.data)||[]));return(await Promise.all(e)).flat()},enabled:$.length>0}),K=(0,t.useMemo)(()=>(D||[]).map(e=>{const s=$.find(s=>s.id===e.albumId);return(0,l.A)((0,l.A)({},e),{},{artistName:(null===S||void 0===S?void 0:S.name)||"",artistId:null===S||void 0===S?void 0:S.id,albumTitle:(null===s||void 0===s?void 0:s.title)||"",albumCover:(null===s||void 0===s?void 0:s.coverImage)||""})}),[D,S,$]),L=(0,t.useMemo)(()=>{let e=0;return K.forEach(s=>{s.duration&&(e+=s.duration)}),{trackCount:K.length,albumCount:$.length,totalDuration:e}},[K,$]);return F?(0,C.jsxs)("div",{className:"space-y-8 pb-32",children:[(0,C.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-6 py-8",children:[(0,C.jsx)(A.E,{className:"w-48 h-48 md:w-56 md:h-56 rounded-full"}),(0,C.jsxs)("div",{className:"flex-1 text-center md:text-left space-y-4",children:[(0,C.jsx)(A.E,{className:"h-4 w-16"}),(0,C.jsx)(A.E,{className:"h-12 w-64"}),(0,C.jsx)(A.E,{className:"h-6 w-20"}),(0,C.jsx)(A.E,{className:"h-4 w-48"})]})]}),(0,C.jsxs)("div",{className:"flex gap-4",children:[(0,C.jsx)(A.E,{className:"h-12 w-28 rounded-full"}),(0,C.jsx)(A.E,{className:"h-12 w-28 rounded-full"})]})]}):z||!S?(0,C.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:[z?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.A,{className:"h-16 w-16 text-destructive mb-4"}),(0,C.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Failed to load artist"}),(0,C.jsx)("p",{className:"text-muted-foreground mb-4",children:(null===M||void 0===M?void 0:M.message)||"An error occurred"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v.A,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,C.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Artist not found"}),(0,C.jsx)("p",{className:"text-muted-foreground mb-4",children:"This artist doesn't exist or has been removed"})]}),(0,C.jsx)(b.$,{asChild:!0,children:(0,C.jsx)(r.N_,{to:"/",children:"Go Home"})})]}):(0,C.jsxs)("div",{className:"space-y-8 pb-32",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("div",{className:(0,_.cn)("absolute inset-0 -z-10 opacity-30 blur-3xl","bg-gradient-to-br ".concat((0,_.O3)(S.id)))}),(0,C.jsxs)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row items-center md:items-end gap-6 py-8",children:[(0,C.jsx)("div",{className:(0,_.cn)("w-48 h-48 md:w-56 md:h-56 rounded-full shadow-2xl overflow-hidden shrink-0",!S.image&&"bg-gradient-to-br ".concat((0,_.O3)(S.id))),children:S.image?(0,C.jsx)("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"}):(0,C.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,C.jsx)(v.A,{className:"h-24 w-24 text-white/50"})})}),(0,C.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,C.jsx)("p",{className:"text-sm font-medium text-primary mb-2",children:"Artist"}),(0,C.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:S.name}),S.genre&&(0,C.jsx)(w.E,{variant:"secondary",className:"mb-4",children:S.genre}),S.bio&&(0,C.jsx)("p",{className:"text-muted-foreground max-w-2xl mb-4 line-clamp-3",children:S.bio}),(0,C.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-muted-foreground",children:[(0,C.jsxs)("span",{children:[L.albumCount," albums"]}),(0,C.jsx)("span",{children:"\u2022"}),(0,C.jsxs)("span",{children:[L.trackCount," tracks"]})]})]})]}),(0,C.jsxs)(d.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex items-center gap-4 mt-6",children:[(0,C.jsxs)(b.$,{size:"lg",variant:"spotify",className:"rounded-full px-8",onClick:()=>{K.length>0&&(a(K,0),s(K[0],K))},disabled:0===K.length,children:[(0,C.jsx)(j.A,{className:"h-5 w-5 mr-2 ml-1"}),"Play"]}),(0,C.jsxs)(b.$,{size:"lg",variant:"outline",className:"rounded-full",onClick:()=>{if(K.length>0){const e=[...K].sort(()=>Math.random()-.5);a(e,0),s(e[0],e)}},disabled:0===K.length,children:[(0,C.jsx)(N.A,{className:"h-5 w-5 mr-2"}),"Shuffle"]}),(0,C.jsxs)(k.rI,{children:[(0,C.jsx)(k.ty,{asChild:!0,children:(0,C.jsx)(b.$,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,C.jsx)(u.A,{className:"h-5 w-5"})})}),(0,C.jsx)(k.SQ,{children:(0,C.jsxs)(k._2,{onClick:()=>{var e,s;null===(e=(s=navigator).share)||void 0===e||e.call(s,{title:S.name,url:window.location.href})},children:[(0,C.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Share"]})})]})]})]}),T?(0,C.jsxs)("section",{children:[(0,C.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Albums"}),(0,C.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Array.from({length:4}).map((e,s)=>(0,C.jsxs)("div",{className:"p-4",children:[(0,C.jsx)(A.E,{className:"aspect-square rounded-lg mb-4"}),(0,C.jsx)(A.E,{className:"h-4 w-3/4 mb-2"}),(0,C.jsx)(A.E,{className:"h-3 w-1/2"})]},s))})]}):$.length>0&&(0,C.jsxs)("section",{children:[(0,C.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Albums"}),(0,C.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:$.map((e,s)=>(0,C.jsx)(I,{album:e,index:s},e.id))})]}),(0,C.jsxs)("section",{children:[(0,C.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"All Tracks"}),P?(0,C.jsx)("div",{className:"space-y-2",children:Array.from({length:5}).map((e,s)=>(0,C.jsx)(A.E,{className:"h-16 w-full"},s))}):0===K.length?(0,C.jsxs)("div",{className:"text-center py-12 bg-card rounded-lg",children:[(0,C.jsx)(g.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,C.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No tracks yet"}),(0,C.jsx)("p",{className:"text-muted-foreground",children:"This artist doesn't have any tracks yet"})]}):(0,C.jsxs)("div",{className:"bg-card rounded-lg overflow-hidden",children:[(0,C.jsxs)("div",{className:"grid grid-cols-[auto_1fr_auto_auto] md:grid-cols-[auto_1fr_1fr_auto_auto] gap-4 px-4 py-2 border-b text-sm text-muted-foreground",children:[(0,C.jsx)("span",{className:"w-8 text-center",children:"#"}),(0,C.jsx)("span",{children:"Title"}),(0,C.jsx)("span",{className:"hidden md:block",children:"Album"}),(0,C.jsx)("span",{className:"w-12"}),(0,C.jsx)("span",{className:"w-16 text-right",children:(0,C.jsx)(o.A,{className:"h-4 w-4 inline"})})]}),K.map((e,a)=>{const l=E(e.id),t=$.find(s=>s.id===e.albumId);return(0,C.jsxs)(d.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.02*a},className:"group grid grid-cols-[auto_1fr_auto_auto] md:grid-cols-[auto_1fr_1fr_auto_auto] gap-4 px-4 py-2 hover:bg-muted/50 items-center",children:[(0,C.jsxs)("div",{className:"w-8 text-center text-muted-foreground",children:[(0,C.jsx)("span",{className:"group-hover:hidden",children:a+1}),(0,C.jsx)(b.$,{variant:"ghost",size:"iconSm",className:"hidden group-hover:flex mx-auto",onClick:()=>((e,a)=>{s(e,a)})(e,K),children:(0,C.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,C.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,C.jsx)("div",{className:(0,_.cn)("w-10 h-10 rounded shrink-0","bg-gradient-to-br ".concat((0,_.O3)(e.id))),children:e.thumbnail&&(0,C.jsx)("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover rounded"})}),(0,C.jsxs)("div",{className:"min-w-0",children:[(0,C.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,C.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:["video"===e.type?(0,C.jsx)(x.A,{className:"h-3 w-3"}):(0,C.jsx)(g.A,{className:"h-3 w-3"}),(0,C.jsx)("span",{children:e.type})]})]})]}),(0,C.jsx)("div",{className:"hidden md:block text-sm text-muted-foreground truncate",children:t?(0,C.jsx)(r.N_,{to:"/album/".concat(t.id),className:"hover:underline hover:text-foreground",children:t.title}):(0,C.jsx)("span",{className:"italic",children:"Single"})}),(0,C.jsx)(b.$,{variant:"ghost",size:"iconSm",className:(0,_.cn)("opacity-0 group-hover:opacity-100 transition-opacity",l&&"opacity-100"),onClick:()=>m(e),children:(0,C.jsx)(h.A,{className:(0,_.cn)("h-4 w-4",l&&"fill-primary text-primary")})}),(0,C.jsx)("span",{className:"w-16 text-right text-sm text-muted-foreground",children:e.duration?(0,_.a3)(e.duration):"--:--"})]},e.id)})]})]})]})}function I(e){let{album:s,index:a}=e;const{playTrack:l,setQueue:t}=(0,p.ut)(),{data:i}=(0,c.I)({queryKey:["album",s.id,"media"],queryFn:()=>y.O0.getAlbumMedia(s.id),staleTime:3e5}),n=(null===i||void 0===i?void 0:i.data)||[];return(0,C.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:(0,C.jsx)(r.N_,{to:"/album/".concat(s.id),children:(0,C.jsxs)("div",{className:"group p-4 rounded-lg bg-card hover:bg-card/80 transition-colors",children:[(0,C.jsxs)("div",{className:(0,_.cn)("aspect-square rounded-lg mb-4 relative overflow-hidden shadow-lg",!s.coverImage&&"bg-gradient-to-br ".concat((0,_.O3)(s.id))),children:[s.coverImage?(0,C.jsx)("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover"}):(0,C.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,C.jsx)(m.A,{className:"h-12 w-12 text-white/50"})}),(0,C.jsx)(b.$,{size:"icon",variant:"spotify",className:"absolute bottom-2 right-2 rounded-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all shadow-lg",onClick:e=>{e.preventDefault(),n.length>0&&(t(n,0),l(n[0],n))},disabled:0===n.length,children:(0,C.jsx)(j.A,{className:"h-5 w-5 ml-0.5"})})]}),(0,C.jsx)("h3",{className:"font-semibold truncate",children:s.title}),(0,C.jsxs)("p",{className:"text-sm text-muted-foreground",children:[n.length," tracks",s.releaseDate&&" \u2022 ".concat(new Date(s.releaseDate).getFullYear())]})]})})})}},48186:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},88306:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(21639).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])}}]);
//# sourceMappingURL=793.be772fb8.chunk.js.map