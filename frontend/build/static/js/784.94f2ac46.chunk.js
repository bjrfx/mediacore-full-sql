/*! For license information please see 784.94f2ac46.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[784],{9855:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},31555:(e,s,a)=>{a.d(s,{E:()=>c});var t=a(27051),l=a(53986),i=(a(65043),a(99766)),n=a(70579);const r=["className"];function c(e){let{className:s}=e,a=(0,l.A)(e,r);return(0,n.jsx)("div",(0,t.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",s)},a))}},34537:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},47097:(e,s,a)=>{a.d(s,{n:()=>b});var t,l,i,n,r,c=a(27051),d=a(65043),o=a(39790),m=a(55149),h=a(38458),u=a(26562),x=a(24558),p=a(25239),y=a(11454),v=a(60329),j=a(99723),f=(t=new WeakMap,l=new WeakMap,i=new WeakMap,n=new WeakMap,r=new WeakSet,class extends v.Q{constructor(e,s){super(),(0,o.A)(this,r),(0,m.A)(this,t,void 0),(0,m.A)(this,l,void 0),(0,m.A)(this,i,void 0),(0,m.A)(this,n,void 0),(0,x.A)(t,this,e),this.setOptions(s),this.bindMethods(),(0,u.A)(r,this,A).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const a=this.options;this.options=(0,h.A)(t,this).defaultMutationOptions(e),(0,j.f8)(this.options,a)||(0,h.A)(t,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,h.A)(i,this),observer:this}),null!==a&&void 0!==a&&a.mutationKey&&this.options.mutationKey&&(0,j.EN)(a.mutationKey)!==(0,j.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(s=(0,h.A)(i,this))||void 0===s?void 0:s.state.status)&&(0,h.A)(i,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=(0,h.A)(i,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){(0,u.A)(r,this,A).call(this),(0,u.A)(r,this,N).call(this,e)}getCurrentResult(){return(0,h.A)(l,this)}reset(){var e;null===(e=(0,h.A)(i,this))||void 0===e||e.removeObserver(this),(0,x.A)(i,this,void 0),(0,u.A)(r,this,A).call(this),(0,u.A)(r,this,N).call(this)}mutate(e,s){var a;return(0,x.A)(n,this,s),null===(a=(0,h.A)(i,this))||void 0===a||a.removeObserver(this),(0,x.A)(i,this,(0,h.A)(t,this).getMutationCache().build((0,h.A)(t,this),this.options)),(0,h.A)(i,this).addObserver(this),(0,h.A)(i,this).execute(e)}});function A(){var e,s;const a=null!==(e=null===(s=(0,h.A)(i,this))||void 0===s?void 0:s.state)&&void 0!==e?e:(0,p.$)();(0,x.A)(l,this,(0,c.A)((0,c.A)({},a),{},{isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}))}function N(e){y.jG.batch(()=>{if((0,h.A)(n,this)&&this.hasListeners()){const u=(0,h.A)(l,this).variables,x=(0,h.A)(l,this).context,p={client:(0,h.A)(t,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var s,a,i,r;if("success"===(null===e||void 0===e?void 0:e.type))null===(s=(a=(0,h.A)(n,this)).onSuccess)||void 0===s||s.call(a,e.data,u,x,p),null===(i=(r=(0,h.A)(n,this)).onSettled)||void 0===i||i.call(r,e.data,null,u,x,p);else if("error"===(null===e||void 0===e?void 0:e.type)){var c,d,o,m;null===(c=(d=(0,h.A)(n,this)).onError)||void 0===c||c.call(d,e.error,u,x,p),null===(o=(m=(0,h.A)(n,this)).onSettled)||void 0===o||o.call(m,void 0,e.error,u,x,p)}}this.listeners.forEach(e=>{e((0,h.A)(l,this))})})}var g=a(63248);function b(e,s){const a=(0,g.jE)(s),[t]=d.useState(()=>new f(a,e));d.useEffect(()=>{t.setOptions(e)},[t,e]);const l=d.useSyncExternalStore(d.useCallback(e=>t.subscribe(y.jG.batchCalls(e)),[t]),()=>t.getCurrentResult(),()=>t.getCurrentResult()),i=d.useCallback((e,s)=>{t.mutate(e,s).catch(j.lQ)},[t]);if(l.error&&(0,j.GU)(t.options.throwOnError,[l.error]))throw l.error;return(0,c.A)((0,c.A)({},l),{},{mutate:i,mutateAsync:l.mutate})}},48186:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},71360:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},77737:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},84370:(e,s,a)=>{a.d(s,{bq:()=>N,eb:()=>k,gC:()=>w,l6:()=>f,yv:()=>A});var t=a(27051),l=a(53986),i=a(65043),n=a(22095),r=a(36210),c=a(92382),d=a(15711),o=a(99766),m=a(70579);const h=["className","children"],u=["className"],x=["className"],p=["className","children","position"],y=["className"],v=["className","children"],j=["className"],f=n.bL,A=(n.YJ,n.WT),N=i.forwardRef((e,s)=>{let{className:a,children:i}=e,r=(0,l.A)(e,h);return(0,m.jsxs)(n.l9,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},r),{},{children:[i,(0,m.jsx)(n.In,{asChild:!0,children:(0,m.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});N.displayName=n.l9.displayName;const g=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,u);return(0,m.jsx)(n.PP,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},i),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});g.displayName=n.PP.displayName;const b=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,x);return(0,m.jsx)(n.wn,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},i),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=n.wn.displayName;const w=i.forwardRef((e,s)=>{let{className:a,children:i,position:r="popper"}=e,c=(0,l.A)(e,p);return(0,m.jsx)(n.ZL,{children:(0,m.jsxs)(n.UC,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r},c),{},{children:[(0,m.jsx)(g,{}),(0,m.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,m.jsx)(b,{})]}))})});w.displayName=n.UC.displayName;i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,y);return(0,m.jsx)(n.JU,(0,t.A)({ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},i))}).displayName=n.JU.displayName;const k=i.forwardRef((e,s)=>{let{className:a,children:i}=e,c=(0,l.A)(e,v);return(0,m.jsxs)(n.q7,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},c),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(n.VF,{children:(0,m.jsx)(r.A,{className:"h-4 w-4"})})}),(0,m.jsx)(n.p4,{children:i})]}))});k.displayName=n.q7.displayName;i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,j);return(0,m.jsx)(n.wv,(0,t.A)({ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a)},i))}).displayName=n.wv.displayName},91140:(e,s,a)=>{a.d(s,{BT:()=>v,Wu:()=>j,ZB:()=>y,Zp:()=>x,aR:()=>p});var t=a(27051),l=a(53986),i=a(65043),n=a(99766),r=a(70579);const c=["className"],d=["className"],o=["className","children"],m=["className"],h=["className"],u=["className"],x=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,c);return(0,r.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",a)},i))});x.displayName="Card";const p=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,d);return(0,r.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a)},i))});p.displayName="CardHeader";const y=i.forwardRef((e,s)=>{let{className:a,children:i}=e,c=(0,l.A)(e,o);return(0,r.jsx)("h3",(0,t.A)((0,t.A)({ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a)},c),{},{children:i}))});y.displayName="CardTitle";const v=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,m);return(0,r.jsx)("p",(0,t.A)({ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a)},i))});v.displayName="CardDescription";const j=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,h);return(0,r.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("p-6 pt-0",a)},i))});j.displayName="CardContent";i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,u);return(0,r.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a)},i))}).displayName="CardFooter"},97784:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var t=a(27051),l=a(65043),i=a(63248),n=a(12265),r=a(47097),c=a(81228),d=a(71360),o=a(77737),m=a(14319),h=a(34537),u=a(42489),x=a(75088),p=a(48186),y=a(21639);const v=(0,y.A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var j=a(9855);const f=(0,y.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var A=a(66305),N=a(18717),g=a(91140),b=a(92264),w=a(20556),k=a(13390),C=a(5949),P=a(31555),I=a(65598),K=a(17484),M=a(84370),T=a(99766),E=a(70579);function S(){var e,s;const a=(0,i.jE)(),{addToast:y}=(0,N.j_)(),[S,R]=(0,l.useState)(!1),[O,D]=(0,l.useState)(!1),[F,W]=(0,l.useState)(null),[G,L]=(0,l.useState)({name:"",accessType:"read_only",expiresInDays:365}),[U,_]=(0,l.useState)(null),[q,Z]=(0,l.useState)(!1),[$,z]=(0,l.useState)(null),[J,V]=(0,l.useState)(""),[Q,H]=(0,l.useState)(!1),{data:B,isLoading:Y,error:X}=(0,n.I)({queryKey:["admin","api-keys"],queryFn:async()=>{console.log("[AdminApiKeys] Fetching API keys...");const e=await A.ic.getApiKeys();return console.log("[AdminApiKeys] Result:",e),e},retry:1}),ee=(0,r.n)({mutationFn:e=>{let{name:s,accessType:a,expiresInDays:t}=e;return A.ic.generateApiKey(s,a,{expiresInDays:t})},onSuccess:e=>{a.invalidateQueries(["admin","api-keys"]),W(e.data),R(!1),D(!0),L({name:"",accessType:"read_only",expiresInDays:365})},onError:e=>{var s,a;y({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to generate API key",type:"error"})}}),se=(0,r.n)({mutationFn:e=>{let{id:s,hardDelete:a}=e;return A.ic.deleteApiKey(s,a)},onSuccess:()=>{a.invalidateQueries(["admin","api-keys"]),y({message:"API key deleted",type:"success"})},onError:e=>{var s,a;y({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to delete API key",type:"error"})}}),ae=(null===B||void 0===B?void 0:B.data)||[],te=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z(e),H(s),V(""),Z(!0)};return(0,E.jsxs)("div",{className:"space-y-6",children:[(0,E.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("h2",{className:"text-2xl font-bold",children:"API Keys"}),(0,E.jsx)("p",{className:"text-muted-foreground",children:"Manage API keys for public access"})]}),(0,E.jsxs)(k.$,{onClick:()=>R(!0),children:[(0,E.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Generate New Key"]})]}),(0,E.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,E.jsx)(g.Zp,{children:(0,E.jsxs)(g.Wu,{className:"p-4",children:[(0,E.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,E.jsx)(o.A,{className:"h-4 w-4"}),(0,E.jsx)("span",{className:"text-sm",children:"Total Keys"})]}),(0,E.jsx)("p",{className:"text-2xl font-bold",children:ae.length})]})}),(0,E.jsx)(g.Zp,{children:(0,E.jsxs)(g.Wu,{className:"p-4",children:[(0,E.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,E.jsx)(m.A,{className:"h-4 w-4"}),(0,E.jsx)("span",{className:"text-sm",children:"Active"})]}),(0,E.jsx)("p",{className:"text-2xl font-bold text-green-500",children:ae.filter(e=>e.isActive).length})]})}),(0,E.jsx)(g.Zp,{children:(0,E.jsxs)(g.Wu,{className:"p-4",children:[(0,E.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,E.jsx)(h.A,{className:"h-4 w-4"}),(0,E.jsx)("span",{className:"text-sm",children:"Total Usage"})]}),(0,E.jsx)("p",{className:"text-2xl font-bold",children:(0,T.ZV)(ae.reduce((e,s)=>e+(s.usageCount||0),0))})]})}),(0,E.jsx)(g.Zp,{children:(0,E.jsxs)(g.Wu,{className:"p-4",children:[(0,E.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,E.jsx)(u.A,{className:"h-4 w-4"}),(0,E.jsx)("span",{className:"text-sm",children:"Full Access"})]}),(0,E.jsx)("p",{className:"text-2xl font-bold",children:ae.filter(e=>"full_access"===e.accessType).length})]})})]}),Y?(0,E.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>(0,E.jsx)(P.E,{className:"h-24 w-full"},s))}):X?(0,E.jsxs)("div",{className:"text-center py-12",children:[(0,E.jsx)("p",{className:"text-destructive mb-2",children:"Failed to load API keys."}),(0,E.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:(null===(e=X.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||X.message||"Unknown error"}),(0,E.jsx)(k.$,{variant:"outline",onClick:()=>window.location.reload(),children:"Try Again"})]}):0===ae.length?(0,E.jsx)(g.Zp,{children:(0,E.jsxs)(g.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,E.jsx)(o.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,E.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No API keys yet"}),(0,E.jsx)("p",{className:"text-muted-foreground mb-4",children:"Generate your first API key to enable public access"}),(0,E.jsxs)(k.$,{onClick:()=>R(!0),children:[(0,E.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Generate Key"]})]})}):(0,E.jsx)("div",{className:"space-y-4",children:ae.map(e=>{var s;return(0,E.jsx)(c.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:(0,E.jsx)(g.Zp,{children:(0,E.jsx)(g.Wu,{className:"p-4",children:(0,E.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,E.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,E.jsxs)("div",{className:"flex items-center gap-2",children:[(0,E.jsx)("h3",{className:"font-semibold",children:e.name}),(0,E.jsx)(C.E,{variant:e.isActive?"success":"secondary",children:e.isActive?"Active":"Inactive"}),(0,E.jsx)(C.E,{variant:"full_access"===e.accessType?"default":"outline",children:"full_access"===e.accessType?"Full Access":"Read Only"})]}),(0,E.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,E.jsx)("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:e.keyPreview}),(0,E.jsxs)("span",{children:[(0,E.jsx)(h.A,{className:"inline h-3 w-3 mr-1"}),(0,T.ZV)(e.usageCount||0)," requests"]}),e.lastUsedAt&&(0,E.jsxs)("span",{children:[(0,E.jsx)(x.A,{className:"inline h-3 w-3 mr-1"}),"Last used ",(0,T.Yq)(e.lastUsedAt)]})]}),(0,E.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Permissions: ",(null===(s=e.permissions)||void 0===s?void 0:s.join(", "))||"None"]})]}),(0,E.jsxs)(K.rI,{children:[(0,E.jsx)(K.ty,{asChild:!0,children:(0,E.jsx)(k.$,{variant:"ghost",size:"icon",children:(0,E.jsx)(p.A,{className:"h-4 w-4"})})}),(0,E.jsxs)(K.SQ,{align:"end",children:[(0,E.jsxs)(K._2,{onClick:()=>te(e,!1),children:[(0,E.jsx)(v,{className:"mr-2 h-4 w-4"}),"Deactivate"]}),(0,E.jsx)(K.mB,{}),(0,E.jsxs)(K._2,{onClick:()=>te(e,!0),className:"text-destructive",children:[(0,E.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Delete Permanently"]})]})]})]})})})},e.id)})}),(0,E.jsx)(I.lG,{open:S,onOpenChange:R,children:(0,E.jsxs)(I.Cf,{children:[(0,E.jsxs)(I.c7,{children:[(0,E.jsx)(I.L3,{children:"Generate API Key"}),(0,E.jsx)(I.rr,{children:"Create a new API key for public access"})]}),(0,E.jsxs)("div",{className:"space-y-4 py-4",children:[(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(w.J,{children:"Name"}),(0,E.jsx)(b.p,{placeholder:"e.g., Mobile App Production",value:G.name,onChange:e=>L(s=>(0,t.A)((0,t.A)({},s),{},{name:e.target.value}))})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(w.J,{children:"Access Type"}),(0,E.jsxs)(M.l6,{value:G.accessType,onValueChange:e=>L(s=>(0,t.A)((0,t.A)({},s),{},{accessType:e})),children:[(0,E.jsx)(M.bq,{children:(0,E.jsx)(M.yv,{})}),(0,E.jsxs)(M.gC,{children:[(0,E.jsx)(M.eb,{value:"read_only",children:"Read Only (read:media, read:settings)"}),(0,E.jsx)(M.eb,{value:"full_access",children:"Full Access (all permissions)"})]})]})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(w.J,{children:"Expires In"}),(0,E.jsxs)(M.l6,{value:String(G.expiresInDays),onValueChange:e=>L(s=>(0,t.A)((0,t.A)({},s),{},{expiresInDays:parseInt(e)})),children:[(0,E.jsx)(M.bq,{children:(0,E.jsx)(M.yv,{})}),(0,E.jsxs)(M.gC,{children:[(0,E.jsx)(M.eb,{value:"30",children:"30 days"}),(0,E.jsx)(M.eb,{value:"90",children:"90 days"}),(0,E.jsx)(M.eb,{value:"365",children:"1 year"}),(0,E.jsx)(M.eb,{value:"730",children:"2 years"})]})]})]})]}),(0,E.jsxs)(I.Es,{children:[(0,E.jsx)(k.$,{variant:"ghost",onClick:()=>R(!1),children:"Cancel"}),(0,E.jsx)(k.$,{onClick:()=>{G.name.trim()?ee.mutate(G):y({message:"Please enter a name for the API key",type:"error"})},disabled:ee.isPending,children:ee.isPending?"Generating...":"Generate Key"})]})]})}),(0,E.jsx)(I.lG,{open:O,onOpenChange:D,children:(0,E.jsxs)(I.Cf,{children:[(0,E.jsxs)(I.c7,{children:[(0,E.jsxs)(I.L3,{className:"flex items-center gap-2",children:[(0,E.jsx)(m.A,{className:"h-5 w-5 text-green-500"}),"API Key Created"]}),(0,E.jsx)(I.rr,{children:"Copy this key now. You won't be able to see it again!"})]}),(0,E.jsx)("div",{className:"py-4",children:(0,E.jsx)("div",{className:"bg-muted p-4 rounded-lg font-mono text-sm break-all",children:(null===F||void 0===F?void 0:F.apiKey)||(null===F||void 0===F?void 0:F.key)})}),(0,E.jsx)(I.Es,{children:(0,E.jsx)(k.$,{onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),_(e),setTimeout(()=>_(null),2e3),y({message:"Copied to clipboard",type:"success"})}catch(X){y({message:"Failed to copy",type:"error"})}})((null===F||void 0===F?void 0:F.apiKey)||(null===F||void 0===F?void 0:F.key)),className:"w-full",children:U===((null===F||void 0===F?void 0:F.apiKey)||(null===F||void 0===F?void 0:F.key))?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Copied!"]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(f,{className:"h-4 w-4 mr-2"}),"Copy to Clipboard"]})})})]})}),(0,E.jsx)(I.lG,{open:q,onOpenChange:e=>{Z(e),e||(z(null),V(""))},children:(0,E.jsxs)(I.Cf,{children:[(0,E.jsxs)(I.c7,{children:[(0,E.jsxs)(I.L3,{className:"flex items-center gap-2 text-destructive",children:[(0,E.jsx)(j.A,{className:"h-5 w-5"}),Q?"Permanently Delete":"Deactivate"," API Key"]}),(0,E.jsx)(I.rr,{children:Q?"This action cannot be undone. The API key will be permanently removed.":"This will deactivate the API key. It can be reactivated later."})]}),(0,E.jsxs)("div",{className:"py-4 space-y-4",children:[(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(w.J,{className:"text-muted-foreground",children:"Key Name"}),(0,E.jsxs)("div",{className:"flex items-center gap-2 bg-muted p-3 rounded-lg",children:[(0,E.jsx)("span",{className:"font-medium flex-1",children:null===$||void 0===$?void 0:$.name}),(0,E.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),y({message:"Key name copied to clipboard",type:"success"})}catch(X){y({message:"Failed to copy",type:"error"})}})(null===$||void 0===$?void 0:$.name),children:(0,E.jsx)(f,{className:"h-4 w-4"})})]})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsxs)(w.J,{children:["Type ",(0,E.jsxs)("span",{className:"font-semibold text-foreground",children:['"',null===$||void 0===$?void 0:$.name,'"']})," to confirm"]}),(0,E.jsx)(b.p,{placeholder:"Enter the key name to confirm",value:J,onChange:e=>V(e.target.value),className:J&&J!==(null===$||void 0===$?void 0:$.name)?"border-destructive":""})]})]}),(0,E.jsxs)(I.Es,{children:[(0,E.jsx)(k.$,{variant:"ghost",onClick:()=>Z(!1),children:"Cancel"}),(0,E.jsx)(k.$,{variant:"destructive",onClick:()=>{J===(null===$||void 0===$?void 0:$.name)?(se.mutate({id:$.id,hardDelete:Q}),Z(!1),z(null),V("")):y({message:"Key name does not match",type:"error"})},disabled:J!==(null===$||void 0===$?void 0:$.name)||se.isPending,children:se.isPending?"Deleting...":Q?"Delete Permanently":"Deactivate"})]})]})})]})}}}]);
//# sourceMappingURL=784.94f2ac46.chunk.js.map