{"version":3,"file":"static/js/9131.cd326d80.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/more-vertical.ts","../node_modules/lucide-react/src/icons/check-circle-2.ts","pages/Downloads.jsx","../node_modules/lucide-react/src/icons/hard-drive.ts","../node_modules/lucide-react/src/icons/folder-open.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MoreVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iNSIgcj0iMSIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/more-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MoreVertical = createLucideIcon('MoreVertical', [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '12', cy: '5', r: '1', key: 'gxeob9' }],\n  ['circle', { cx: '12', cy: '19', r: '1', key: 'lyex9k' }],\n]);\n\nexport default MoreVertical;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CheckCircle2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/check-circle-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCircle2 = createLucideIcon('CheckCircle2', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default CheckCircle2;\n","import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Download, \n  Trash2, \n  Play, \n  HardDrive,\n  AlertCircle,\n  RefreshCw,\n  MoreVertical,\n  CheckCircle2,\n  Loader2,\n  FolderOpen,\n} from 'lucide-react';\nimport { cn } from '../lib/utils';\nimport useDownloadStore, { DownloadStatus } from '../store/downloadStore';\nimport { usePlayerStore, useAuthStore } from '../store';\nimport { Button } from '../components/ui/button';\nimport { ThumbnailFallback } from '../components/media';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '../components/ui/dropdown-menu';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '../components/ui/alert-dialog';\nimport { Navigate } from 'react-router-dom';\n\n// Format bytes to human readable\nconst formatBytes = (bytes) => {\n  if (bytes === 0) return '0 B';\n  const k = 1024;\n  const sizes = ['B', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\n\n// Format date\nconst formatDate = (dateString) => {\n  if (!dateString) return '';\n  const date = new Date(dateString);\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n};\n\nfunction DownloadItem({ download, onPlay, onRemove, onRetry }) {\n  const { media, status, progress, size, downloadedAt, error } = download;\n  const isVideo = media?.type === 'video';\n\n  const getStatusIcon = () => {\n    switch (status) {\n      case DownloadStatus.COMPLETED:\n        return <CheckCircle2 className=\"w-4 h-4 text-green-500\" />;\n      case DownloadStatus.DOWNLOADING:\n        return <Loader2 className=\"w-4 h-4 text-primary animate-spin\" />;\n      case DownloadStatus.FAILED:\n        return <AlertCircle className=\"w-4 h-4 text-red-500\" />;\n      default:\n        return null;\n    }\n  };\n\n  const getStatusText = () => {\n    switch (status) {\n      case DownloadStatus.COMPLETED:\n        return `Downloaded ${formatDate(downloadedAt)}`;\n      case DownloadStatus.DOWNLOADING:\n        return `Downloading ${progress}%`;\n      case DownloadStatus.FAILED:\n        return error || 'Download failed';\n      default:\n        return 'Pending';\n    }\n  };\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, x: -100 }}\n      className={cn(\n        'flex items-center gap-4 p-4 rounded-lg bg-card hover:bg-card/80 transition-colors group',\n        status === DownloadStatus.FAILED && 'border border-red-500/20'\n      )}\n    >\n      {/* Thumbnail */}\n      <div \n        className={cn(\n          'relative w-16 h-16 rounded-md overflow-hidden shrink-0 cursor-pointer',\n          status === DownloadStatus.COMPLETED && 'group-hover:ring-2 ring-primary'\n        )}\n        onClick={() => status === DownloadStatus.COMPLETED && onPlay(media)}\n      >\n        {media?.thumbnail ? (\n          <img\n            src={media.thumbnail}\n            alt={media.title}\n            className=\"w-full h-full object-cover\"\n          />\n        ) : (\n          <ThumbnailFallback\n            title={media?.title || 'Unknown'}\n            id={media?.id || '0'}\n            isVideo={isVideo}\n            size=\"small\"\n          />\n        )}\n        \n        {/* Play overlay */}\n        {status === DownloadStatus.COMPLETED && (\n          <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\n            <Play className=\"w-6 h-6 text-white\" fill=\"white\" />\n          </div>\n        )}\n\n        {/* Progress overlay */}\n        {status === DownloadStatus.DOWNLOADING && (\n          <div className=\"absolute inset-0 bg-black/70 flex items-center justify-center\">\n            <div className=\"relative w-10 h-10\">\n              <svg className=\"w-full h-full -rotate-90\" viewBox=\"0 0 36 36\">\n                <circle\n                  cx=\"18\"\n                  cy=\"18\"\n                  r=\"14\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"3\"\n                  className=\"text-white/20\"\n                />\n                <circle\n                  cx=\"18\"\n                  cy=\"18\"\n                  r=\"14\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"3\"\n                  strokeDasharray={`${progress * 0.88} 88`}\n                  strokeLinecap=\"round\"\n                  className=\"text-primary transition-all duration-300\"\n                />\n              </svg>\n              <span className=\"absolute inset-0 flex items-center justify-center text-xs font-medium text-white\">\n                {progress}%\n              </span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Info */}\n      <div className=\"flex-1 min-w-0\">\n        <h3 className=\"font-medium truncate\">{media?.title || 'Unknown'}</h3>\n        <div className=\"flex items-center gap-2 mt-1 text-sm text-muted-foreground\">\n          {getStatusIcon()}\n          <span>{getStatusText()}</span>\n          {size > 0 && status === DownloadStatus.COMPLETED && (\n            <>\n              <span>•</span>\n              <span>{formatBytes(size)}</span>\n            </>\n          )}\n        </div>\n        {media?.artist && (\n          <p className=\"text-sm text-muted-foreground truncate mt-0.5\">\n            {media.artist}\n          </p>\n        )}\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex items-center gap-2 shrink-0\">\n        {status === DownloadStatus.COMPLETED && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => onPlay(media)}\n            className=\"text-primary hover:text-primary\"\n          >\n            <Play className=\"w-5 h-5\" fill=\"currentColor\" />\n          </Button>\n        )}\n        \n        {status === DownloadStatus.FAILED && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => onRetry(media.id)}\n            className=\"text-yellow-500 hover:text-yellow-400\"\n          >\n            <RefreshCw className=\"w-5 h-5\" />\n          </Button>\n        )}\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\">\n              <MoreVertical className=\"w-5 h-5\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            {status === DownloadStatus.COMPLETED && (\n              <DropdownMenuItem onClick={() => onPlay(media)}>\n                <Play className=\"w-4 h-4 mr-2\" />\n                Play\n              </DropdownMenuItem>\n            )}\n            {status === DownloadStatus.FAILED && (\n              <DropdownMenuItem onClick={() => onRetry(media.id)}>\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n                Retry Download\n              </DropdownMenuItem>\n            )}\n            <DropdownMenuItem \n              onClick={() => onRemove(media.id)}\n              className=\"text-red-500 focus:text-red-500\"\n            >\n              <Trash2 className=\"w-4 h-4 mr-2\" />\n              Remove\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </motion.div>\n  );\n}\n\nexport default function Downloads() {\n  const { user } = useAuthStore();\n  const { downloads, removeDownload, retryDownload, clearAllDownloads, getTotalDownloadSize } = useDownloadStore();\n  const { playTrack, getDownloadedUrl, isDownloaded } = useDownloadStore.getState();\n  const { playTrack: playerPlayTrack } = usePlayerStore();\n  const [showClearDialog, setShowClearDialog] = useState(false);\n\n  // Redirect if not logged in\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  const downloadList = Object.values(downloads);\n  const completedDownloads = downloadList.filter(d => d.status === DownloadStatus.COMPLETED);\n  const downloadingItems = downloadList.filter(d => d.status === DownloadStatus.DOWNLOADING);\n  const failedDownloads = downloadList.filter(d => d.status === DownloadStatus.FAILED);\n  const totalSize = getTotalDownloadSize();\n\n  const handlePlay = async (media) => {\n    // Try to get downloaded URL\n    const downloadedUrl = await useDownloadStore.getState().getDownloadedUrl(media.id);\n    \n    if (downloadedUrl) {\n      // Play from local storage\n      playerPlayTrack({ ...media, fileUrl: downloadedUrl, isOffline: true }, null, false);\n    } else {\n      // Fallback to server or prompt redownload\n      playerPlayTrack(media, null, false);\n    }\n  };\n\n  const handleRemove = (mediaId) => {\n    removeDownload(mediaId);\n  };\n\n  const handleRetry = (mediaId) => {\n    retryDownload(mediaId);\n  };\n\n  const handleClearAll = () => {\n    clearAllDownloads();\n    setShowClearDialog(false);\n  };\n\n  return (\n    <div className=\"min-h-full pb-32\">\n      {/* Header */}\n      <div className=\"px-6 pt-6 pb-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold flex items-center gap-3\">\n              <Download className=\"w-8 h-8 text-primary\" />\n              Downloads\n            </h1>\n            <p className=\"text-muted-foreground mt-1\">\n              {completedDownloads.length} items • {formatBytes(totalSize)}\n            </p>\n          </div>\n          \n          {downloadList.length > 0 && (\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowClearDialog(true)}\n              className=\"text-red-500 hover:text-red-400 hover:border-red-500/50\"\n            >\n              <Trash2 className=\"w-4 h-4 mr-2\" />\n              Clear All\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Stats Bar */}\n      {(downloadingItems.length > 0 || failedDownloads.length > 0) && (\n        <div className=\"px-6 pb-4\">\n          <div className=\"flex gap-4\">\n            {downloadingItems.length > 0 && (\n              <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary/10 text-primary text-sm\">\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                {downloadingItems.length} downloading\n              </div>\n            )}\n            {failedDownloads.length > 0 && (\n              <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-red-500/10 text-red-500 text-sm\">\n                <AlertCircle className=\"w-4 h-4\" />\n                {failedDownloads.length} failed\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Download List */}\n      <div className=\"px-6\">\n        {downloadList.length === 0 ? (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"flex flex-col items-center justify-center py-20 text-center\"\n          >\n            <div className=\"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-4\">\n              <FolderOpen className=\"w-10 h-10 text-muted-foreground\" />\n            </div>\n            <h3 className=\"text-xl font-semibold mb-2\">No Downloads Yet</h3>\n            <p className=\"text-muted-foreground max-w-md\">\n              Download videos and audio to watch or listen offline. \n              Look for the download button on any media item.\n            </p>\n          </motion.div>\n        ) : (\n          <div className=\"space-y-2\">\n            <AnimatePresence mode=\"popLayout\">\n              {/* Downloading items first */}\n              {downloadingItems.map((download) => (\n                <DownloadItem\n                  key={download.media.id}\n                  download={download}\n                  onPlay={handlePlay}\n                  onRemove={handleRemove}\n                  onRetry={handleRetry}\n                />\n              ))}\n              \n              {/* Failed items */}\n              {failedDownloads.map((download) => (\n                <DownloadItem\n                  key={download.media.id}\n                  download={download}\n                  onPlay={handlePlay}\n                  onRemove={handleRemove}\n                  onRetry={handleRetry}\n                />\n              ))}\n              \n              {/* Completed items */}\n              {completedDownloads.map((download) => (\n                <DownloadItem\n                  key={download.media.id}\n                  download={download}\n                  onPlay={handlePlay}\n                  onRemove={handleRemove}\n                  onRetry={handleRetry}\n                />\n              ))}\n            </AnimatePresence>\n          </div>\n        )}\n      </div>\n\n      {/* Storage Info */}\n      {completedDownloads.length > 0 && (\n        <div className=\"px-6 mt-8\">\n          <div className=\"p-4 rounded-lg bg-muted/50 flex items-center gap-4\">\n            <HardDrive className=\"w-8 h-8 text-muted-foreground\" />\n            <div>\n              <p className=\"font-medium\">Storage Used</p>\n              <p className=\"text-sm text-muted-foreground\">\n                {formatBytes(totalSize)} used for offline content\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Clear All Dialog */}\n      <AlertDialog open={showClearDialog} onOpenChange={setShowClearDialog}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Clear All Downloads?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This will remove all downloaded content ({formatBytes(totalSize)}). \n              You can always download them again later.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleClearAll}\n              className=\"bg-red-500 hover:bg-red-600\"\n            >\n              Clear All\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name HardDrive\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMjIiIHgyPSIyIiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8cGF0aCBkPSJNNS40NSA1LjExIDIgMTJ2NmEyIDIgMCAwIDAgMiAyaDE2YTIgMiAwIDAgMCAyLTJ2LTZsLTMuNDUtNi44OUEyIDIgMCAwIDAgMTYuNzYgNEg3LjI0YTIgMiAwIDAgMC0xLjc5IDEuMTF6IiAvPgogIDxsaW5lIHgxPSI2IiB4Mj0iNi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iMTAuMDEiIHkxPSIxNiIgeTI9IjE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/hard-drive\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst HardDrive = createLucideIcon('HardDrive', [\n  ['line', { x1: '22', x2: '2', y1: '12', y2: '12', key: '1y58io' }],\n  [\n    'path',\n    {\n      d: 'M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z',\n      key: 'oot6mr',\n    },\n  ],\n  ['line', { x1: '6', x2: '6.01', y1: '16', y2: '16', key: 'sgf278' }],\n  ['line', { x1: '10', x2: '10.01', y1: '16', y2: '16', key: '1l4acy' }],\n]);\n\nexport default HardDrive;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FolderOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiAxNCAxLjUtMi45QTIgMiAwIDAgMSA5LjI0IDEwSDIwYTIgMiAwIDAgMSAxLjk0IDIuNWwtMS41NCA2YTIgMiAwIDAgMS0xLjk1IDEuNUg0YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDMuOWEyIDIgMCAwIDEgMS42OS45bC44MSAxLjJhMiAyIDAgMCAwIDEuNjcuOUgxOGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/folder-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FolderOpen = createLucideIcon('FolderOpen', [\n  [\n    'path',\n    {\n      d: 'm6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2',\n      key: 'usdka0',\n    },\n  ],\n]);\n\nexport default FolderOpen;\n"],"names":["MoreVertical","createLucideIcon","cx","cy","r","key","CheckCircle2","d","formatBytes","bytes","i","Math","floor","log","parseFloat","pow","toFixed","formatDate","dateString","Date","toLocaleDateString","month","day","year","DownloadItem","_ref","download","onPlay","onRemove","onRetry","media","status","progress","size","downloadedAt","error","isVideo","type","_jsxs","motion","div","layout","initial","opacity","y","animate","exit","x","className","cn","DownloadStatus","FAILED","children","COMPLETED","onClick","thumbnail","_jsx","src","alt","title","ThumbnailFallback","id","Play","fill","DOWNLOADING","viewBox","stroke","strokeWidth","strokeDasharray","concat","strokeLinecap","getStatusIcon","Loader2","AlertCircle","getStatusText","_Fragment","artist","Button","variant","RefreshCw","DropdownMenu","DropdownMenuTrigger","asChild","DropdownMenuContent","align","DropdownMenuItem","Trash2","Downloads","user","useAuthStore","downloads","removeDownload","retryDownload","clearAllDownloads","getTotalDownloadSize","useDownloadStore","playTrack","getDownloadedUrl","isDownloaded","getState","playerPlayTrack","usePlayerStore","showClearDialog","setShowClearDialog","useState","Navigate","to","replace","downloadList","Object","values","completedDownloads","filter","downloadingItems","failedDownloads","totalSize","handlePlay","async","downloadedUrl","_objectSpread","fileUrl","isOffline","handleRemove","mediaId","handleRetry","Download","length","FolderOpen","AnimatePresence","mode","map","HardDrive","AlertDialog","open","onOpenChange","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","handleClearAll","x1","x2","y1","y2"],"ignoreList":[],"sourceRoot":""}