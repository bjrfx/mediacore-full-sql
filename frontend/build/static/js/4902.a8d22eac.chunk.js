/*! For license information please see 4902.a8d22eac.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[4902],{1313:(e,s,a)=>{a.d(s,{m:()=>c});var t=a(34930);class i{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,s){this.componentControls.forEach(a=>{a.start(e.nativeEvent||e,s)})}}const l=()=>new i;function c(){return(0,t.M)(l)}},9855:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},31837:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]])},48186:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},53714:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]])},72313:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},77165:(e,s,a)=>{a.r(s),a.d(s,{default:()=>A});var t=a(65043),i=a(73216),l=a(12265),c=a(81228),r=a(9463),n=a(75088),d=a(14918),o=a(19829),m=a(19340),x=a(64830),h=a(14459),u=a(9333),j=a(94505),p=a(18717),f=a(13390),y=a(31555),g=a(41812),b=a(54957),N=a(32347),v=a(24490),w=a(99766),k=a(70579);function A(){const{id:e}=(0,i.g)(),s=(0,i.Zp)(),a=(0,i.zy)(),{user:A}=(0,p.nc)(),{currentTrack:C,isPlaying:P,playTrack:M,togglePlay:z}=(0,p.ut)(),{isFavorite:F,toggleFavorite:E}=(0,p.CA)(),$=a.pathname.startsWith("/watch")?"video":"audio",{data:T,isLoading:S,error:H,refetch:q}=(0,l.I)({queryKey:["publicMedia",e],queryFn:()=>j.O0.getMediaById(e),enabled:!!e,retry:2,staleTime:3e5}),V=null===T||void 0===T?void 0:T.data,D=(null===C||void 0===C?void 0:C.id)===(null===V||void 0===V?void 0:V.id),U=!!V&&F(V.id),Z="video"===(null===V||void 0===V?void 0:V.type);(0,t.useEffect)(()=>{if(V){const t="video"===V.type?"watch":"listen";t!==(a.pathname.startsWith("/watch")?"watch":"listen")&&s("/".concat(t,"/").concat(e),{replace:!0})}},[V,a.pathname,s,e]);const G=()=>{if(V){if(console.log("[PublicMediaPage] Play button clicked",{media:V,isCurrentTrack:D,isPlaying:P,hasFileUrl:!!V.fileUrl,hasFilePath:!!V.filePath}),D&&P)return console.log("[PublicMediaPage] Pausing current track"),void z({skipSubscriptionCheck:!0});console.log("[PublicMediaPage] Starting playback with skipSubscriptionCheck"),M(V,[V],!0,{skipSubscriptionCheck:!0})}else console.error("[PublicMediaPage] No media data available")};return H?(0,k.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,k.jsxs)("div",{className:"text-center max-w-md px-4",children:[(0,k.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-muted flex items-center justify-center",children:"video"===$?(0,k.jsx)(u.A,{className:"h-10 w-10 text-muted-foreground"}):(0,k.jsx)(o.A,{className:"h-10 w-10 text-muted-foreground"})}),(0,k.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Content Not Found"}),(0,k.jsxs)("p",{className:"text-muted-foreground mb-6",children:["This ","video"===$?"video":"audio"," may have been removed or is not available."]}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,k.jsx)(f.$,{onClick:()=>s("/"),children:"Go Home"}),(0,k.jsx)(f.$,{variant:"outline",onClick:()=>q(),children:"Try Again"})]})]})}):S?(0,k.jsx)("div",{className:"min-h-screen bg-background",children:(0,k.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,k.jsx)(y.E,{className:"w-full aspect-video rounded-xl mb-6"}),(0,k.jsx)(y.E,{className:"h-8 w-2/3 mb-4"}),(0,k.jsx)(y.E,{className:"h-4 w-1/3 mb-8"}),(0,k.jsxs)("div",{className:"flex gap-4",children:[(0,k.jsx)(y.E,{className:"h-12 w-32"}),(0,k.jsx)(y.E,{className:"h-12 w-12"}),(0,k.jsx)(y.E,{className:"h-12 w-12"})]})]})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b.A,{media:V}),(0,k.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-background pb-32",children:[(0,k.jsx)("header",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-lg border-b border-border",children:(0,k.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,k.jsx)(f.$,{variant:"ghost",size:"icon",onClick:()=>s(-1),children:(0,k.jsx)(r.A,{className:"h-5 w-5"})}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(v.wD,{media:V}),(0,k.jsx)(v.aZ,{media:V})]})]})}),(0,k.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,k.jsx)("div",{className:"mb-6",children:Z?(0,k.jsx)("div",{className:"relative aspect-video bg-black rounded-xl overflow-hidden",children:V.thumbnail?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("img",{src:V.thumbnail,alt:V.title,className:"w-full h-full object-cover"}),(0,k.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:(0,k.jsx)(f.$,{variant:"spotify",size:"lg",className:"h-20 w-20 rounded-full",onClick:G,children:D&&P?(0,k.jsx)(m.A,{className:"h-10 w-10"}):(0,k.jsx)(x.A,{className:"h-10 w-10 ml-1"})})})]}):(0,k.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,k.jsx)(f.$,{variant:"spotify",size:"lg",className:"h-20 w-20 rounded-full",onClick:G,children:D&&P?(0,k.jsx)(m.A,{className:"h-10 w-10"}):(0,k.jsx)(x.A,{className:"h-10 w-10 ml-1"})})})}):(0,k.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start",children:[(0,k.jsx)("div",{className:"w-64 h-64 md:w-80 md:h-80 flex-shrink-0 rounded-xl overflow-hidden shadow-2xl",children:V.thumbnail?(0,k.jsx)("img",{src:V.thumbnail,alt:V.title,className:"w-full h-full object-cover"}):(0,k.jsx)(g.A,{title:V.title,id:V.id,isVideo:!1,size:"large"})}),(0,k.jsxs)("div",{className:"flex-1 text-center md:text-left md:py-4",children:[(0,k.jsx)("span",{className:"text-xs font-medium text-primary uppercase tracking-wider",children:"Track"}),(0,k.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mt-2 mb-4",children:V.title}),(0,k.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-2 text-muted-foreground mb-6",children:[(0,k.jsx)(h.A,{className:"h-4 w-4"}),(0,k.jsx)("span",{children:V.artistName||V.subtitle||"Unknown Artist"}),V.duration&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("span",{children:"\u2022"}),(0,k.jsx)(n.A,{className:"h-4 w-4"}),(0,k.jsx)("span",{children:(0,w.a3)(V.duration)})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-4 justify-center md:justify-start",children:[(0,k.jsx)(f.$,{variant:"spotify",size:"lg",className:"px-8",onClick:G,children:D&&P?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m.A,{className:"h-5 w-5 mr-2"}),"Pause"]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.A,{className:"h-5 w-5 mr-2"}),"Play"]})}),(0,k.jsx)(f.$,{variant:"outline",size:"icon",className:(0,w.cn)("h-12 w-12 rounded-full",U&&"text-red-500 border-red-500"),onClick:()=>V&&E(V),children:(0,k.jsx)(d.A,{className:(0,w.cn)("h-5 w-5",U&&"fill-current")})}),(0,k.jsx)(v.wD,{media:V,variant:"outline",size:"icon",className:"h-12 w-12 rounded-full"})]})]})]})}),Z&&(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:V.title}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-muted-foreground mb-4",children:[V.artistName&&(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[(0,k.jsx)(h.A,{className:"h-4 w-4"}),V.artistName]}),V.duration&&(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[(0,k.jsx)(n.A,{className:"h-4 w-4"}),(0,w.a3)(V.duration)]}),V.language&&(0,k.jsx)("span",{className:"px-2 py-1 rounded-full bg-muted text-xs",children:(0,w.OT)(V.language)})]}),(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)(f.$,{variant:"spotify",size:"lg",onClick:G,children:D&&P?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m.A,{className:"h-5 w-5 mr-2"}),"Pause"]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.A,{className:"h-5 w-5 mr-2"}),"Play"]})}),(0,k.jsx)(f.$,{variant:"outline",size:"icon",className:(0,w.cn)(U&&"text-red-500 border-red-500"),onClick:()=>V&&E(V),children:(0,k.jsx)(d.A,{className:(0,w.cn)("h-5 w-5",U&&"fill-current")})}),(0,k.jsx)(v.wD,{media:V,variant:"outline"}),(0,k.jsx)(v.aZ,{media:V,variant:"outline"})]})]}),V.description&&(0,k.jsxs)("div",{className:"mb-8 p-4 bg-muted/30 rounded-xl",children:[(0,k.jsx)("h2",{className:"text-sm font-semibold uppercase text-muted-foreground mb-2",children:"About"}),(0,k.jsx)("p",{className:"text-sm text-foreground/80",children:V.description})]}),!A&&(0,k.jsxs)("div",{className:"mt-8 p-6 bg-gradient-to-r from-primary/20 to-accent/20 rounded-xl text-center",children:[(0,k.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Enjoy unlimited streaming"}),(0,k.jsx)("p",{className:"text-muted-foreground mb-4",children:"Sign up for free to save favorites, create playlists, and more."}),(0,k.jsx)(f.$,{onClick:()=>s("/"),className:"px-8",children:"Get Started"})]})]})]}),(0,k.jsx)(N.A,{})]})}},88306:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])}}]);
//# sourceMappingURL=4902.a8d22eac.chunk.js.map