/*! For license information please see 784.1cf5bec9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[784],{9855:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},14319:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},31555:(e,s,a)=>{a.d(s,{E:()=>c});var t=a(27051),l=a(53986),i=(a(65043),a(99766)),r=a(70579);const n=["className"];function c(e){let{className:s}=e,a=(0,l.A)(e,n);return(0,r.jsx)("div",(0,t.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",s)},a))}},34537:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},47097:(e,s,a)=>{a.d(s,{n:()=>b});var t,l,i,r,n,c=a(27051),d=a(65043),o=a(39790),m=a(55149),h=a(38458),u=a(26562),x=a(24558),p=a(25239),f=a(11454),y=a(60329),v=a(99723),j=(t=new WeakMap,l=new WeakMap,i=new WeakMap,r=new WeakMap,n=new WeakSet,class extends y.Q{constructor(e,s){super(),(0,o.A)(this,n),(0,m.A)(this,t,void 0),(0,m.A)(this,l,void 0),(0,m.A)(this,i,void 0),(0,m.A)(this,r,void 0),(0,x.A)(t,this,e),this.setOptions(s),this.bindMethods(),(0,u.A)(n,this,A).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const a=this.options;this.options=(0,h.A)(t,this).defaultMutationOptions(e),(0,v.f8)(this.options,a)||(0,h.A)(t,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,h.A)(i,this),observer:this}),null!==a&&void 0!==a&&a.mutationKey&&this.options.mutationKey&&(0,v.EN)(a.mutationKey)!==(0,v.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(s=(0,h.A)(i,this))||void 0===s?void 0:s.state.status)&&(0,h.A)(i,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=(0,h.A)(i,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){(0,u.A)(n,this,A).call(this),(0,u.A)(n,this,N).call(this,e)}getCurrentResult(){return(0,h.A)(l,this)}reset(){var e;null===(e=(0,h.A)(i,this))||void 0===e||e.removeObserver(this),(0,x.A)(i,this,void 0),(0,u.A)(n,this,A).call(this),(0,u.A)(n,this,N).call(this)}mutate(e,s){var a;return(0,x.A)(r,this,s),null===(a=(0,h.A)(i,this))||void 0===a||a.removeObserver(this),(0,x.A)(i,this,(0,h.A)(t,this).getMutationCache().build((0,h.A)(t,this),this.options)),(0,h.A)(i,this).addObserver(this),(0,h.A)(i,this).execute(e)}});function A(){var e,s;const a=null!==(e=null===(s=(0,h.A)(i,this))||void 0===s?void 0:s.state)&&void 0!==e?e:(0,p.$)();(0,x.A)(l,this,(0,c.A)((0,c.A)({},a),{},{isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}))}function N(e){f.jG.batch(()=>{if((0,h.A)(r,this)&&this.hasListeners()){const u=(0,h.A)(l,this).variables,x=(0,h.A)(l,this).context,p={client:(0,h.A)(t,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var s,a,i,n;if("success"===(null===e||void 0===e?void 0:e.type))null===(s=(a=(0,h.A)(r,this)).onSuccess)||void 0===s||s.call(a,e.data,u,x,p),null===(i=(n=(0,h.A)(r,this)).onSettled)||void 0===i||i.call(n,e.data,null,u,x,p);else if("error"===(null===e||void 0===e?void 0:e.type)){var c,d,o,m;null===(c=(d=(0,h.A)(r,this)).onError)||void 0===c||c.call(d,e.error,u,x,p),null===(o=(m=(0,h.A)(r,this)).onSettled)||void 0===o||o.call(m,void 0,e.error,u,x,p)}}this.listeners.forEach(e=>{e((0,h.A)(l,this))})})}var g=a(63248);function b(e,s){const a=(0,g.jE)(s),[t]=d.useState(()=>new j(a,e));d.useEffect(()=>{t.setOptions(e)},[t,e]);const l=d.useSyncExternalStore(d.useCallback(e=>t.subscribe(f.jG.batchCalls(e)),[t]),()=>t.getCurrentResult(),()=>t.getCurrentResult()),i=d.useCallback((e,s)=>{t.mutate(e,s).catch(v.lQ)},[t]);if(l.error&&(0,v.GU)(t.options.throwOnError,[l.error]))throw l.error;return(0,c.A)((0,c.A)({},l),{},{mutate:i,mutateAsync:l.mutate})}},48186:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},59938:(e,s,a)=>{a.d(s,{J:()=>h});var t=a(27051),l=a(53986),i=a(65043),r=a(65131),n=a(10917),c=a(99766),d=a(70579);const o=["className"],m=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,o);return(0,d.jsx)(r.b,(0,t.A)({ref:s,className:(0,c.cn)(m(),a)},i))});h.displayName=r.b.displayName},65131:(e,s,a)=>{a.d(s,{b:()=>m});var t=a(27051),l=a(65043),i=a(53986),r=(a(97950),a(16851)),n=a(70579);const c=["asChild"];var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{const a=(0,r.TL)("Primitive.".concat(s)),d=l.forwardRef((e,l)=>{const{asChild:r}=e,d=(0,i.A)(e,c),o=r?a:s;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,(0,t.A)((0,t.A)({},d),{},{ref:l}))});return d.displayName="Primitive.".concat(s),(0,t.A)((0,t.A)({},e),{},{[s]:d})},{});var o=l.forwardRef((e,s)=>(0,n.jsx)(d.label,(0,t.A)((0,t.A)({},e),{},{ref:s,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}})));o.displayName="Label";var m=o},71360:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},77737:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},84370:(e,s,a)=>{a.d(s,{bq:()=>N,eb:()=>k,gC:()=>w,l6:()=>j,yv:()=>A});var t=a(27051),l=a(53986),i=a(65043),r=a(22095),n=a(36210),c=a(92382),d=a(15711),o=a(99766),m=a(70579);const h=["className","children"],u=["className"],x=["className"],p=["className","children","position"],f=["className"],y=["className","children"],v=["className"],j=r.bL,A=(r.YJ,r.WT),N=i.forwardRef((e,s)=>{let{className:a,children:i}=e,n=(0,l.A)(e,h);return(0,m.jsxs)(r.l9,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},n),{},{children:[i,(0,m.jsx)(r.In,{asChild:!0,children:(0,m.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});N.displayName=r.l9.displayName;const g=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,u);return(0,m.jsx)(r.PP,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},i),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});g.displayName=r.PP.displayName;const b=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,x);return(0,m.jsx)(r.wn,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},i),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=r.wn.displayName;const w=i.forwardRef((e,s)=>{let{className:a,children:i,position:n="popper"}=e,c=(0,l.A)(e,p);return(0,m.jsx)(r.ZL,{children:(0,m.jsxs)(r.UC,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n},c),{},{children:[(0,m.jsx)(g,{}),(0,m.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,m.jsx)(b,{})]}))})});w.displayName=r.UC.displayName;i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,f);return(0,m.jsx)(r.JU,(0,t.A)({ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},i))}).displayName=r.JU.displayName;const k=i.forwardRef((e,s)=>{let{className:a,children:i}=e,c=(0,l.A)(e,y);return(0,m.jsxs)(r.q7,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},c),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(r.VF,{children:(0,m.jsx)(n.A,{className:"h-4 w-4"})})}),(0,m.jsx)(r.p4,{children:i})]}))});k.displayName=r.q7.displayName;i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,v);return(0,m.jsx)(r.wv,(0,t.A)({ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a)},i))}).displayName=r.wv.displayName},91140:(e,s,a)=>{a.d(s,{BT:()=>y,Wu:()=>v,ZB:()=>f,Zp:()=>x,aR:()=>p});var t=a(27051),l=a(53986),i=a(65043),r=a(99766),n=a(70579);const c=["className"],d=["className"],o=["className","children"],m=["className"],h=["className"],u=["className"],x=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,c);return(0,n.jsx)("div",(0,t.A)({ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",a)},i))});x.displayName="Card";const p=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,d);return(0,n.jsx)("div",(0,t.A)({ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a)},i))});p.displayName="CardHeader";const f=i.forwardRef((e,s)=>{let{className:a,children:i}=e,c=(0,l.A)(e,o);return(0,n.jsx)("h3",(0,t.A)((0,t.A)({ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a)},c),{},{children:i}))});f.displayName="CardTitle";const y=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,m);return(0,n.jsx)("p",(0,t.A)({ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a)},i))});y.displayName="CardDescription";const v=i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,h);return(0,n.jsx)("div",(0,t.A)({ref:s,className:(0,r.cn)("p-6 pt-0",a)},i))});v.displayName="CardContent";i.forwardRef((e,s)=>{let{className:a}=e,i=(0,l.A)(e,u);return(0,n.jsx)("div",(0,t.A)({ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a)},i))}).displayName="CardFooter"},92264:(e,s,a)=>{a.d(s,{p:()=>d});var t=a(27051),l=a(53986),i=a(65043),r=a(99766),n=a(70579);const c=["className","type"],d=i.forwardRef((e,s)=>{let{className:a,type:i}=e,d=(0,l.A)(e,c);return(0,n.jsx)("input",(0,t.A)({type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",a),ref:s},d))});d.displayName="Input"},97784:(e,s,a)=>{a.r(s),a.d(s,{default:()=>T});var t=a(27051),l=a(65043),i=a(63248),r=a(12265),n=a(47097),c=a(81228),d=a(71360),o=a(77737),m=a(14319),h=a(34537),u=a(42489),x=a(75088),p=a(48186),f=a(21639);const y=(0,f.A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var v=a(9855);const j=(0,f.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var A=a(66305),N=a(18717),g=a(91140),b=a(92264),w=a(59938),k=a(13390),C=a(5949),P=a(31555),I=a(65598),M=a(17484),R=a(84370),E=a(99766),K=a(70579);function T(){var e,s;const a=(0,i.jE)(),{addToast:f}=(0,N.j_)(),[T,S]=(0,l.useState)(!1),[F,O]=(0,l.useState)(!1),[D,L]=(0,l.useState)(null),[W,q]=(0,l.useState)({name:"",accessType:"read_only",expiresInDays:365}),[U,_]=(0,l.useState)(null),{data:G,isLoading:Z,error:V}=(0,r.I)({queryKey:["admin","api-keys"],queryFn:async()=>{console.log("[AdminApiKeys] Fetching API keys...");const e=await A.ic.getApiKeys();return console.log("[AdminApiKeys] Result:",e),e},retry:1}),z=(0,n.n)({mutationFn:e=>{let{name:s,accessType:a,expiresInDays:t}=e;return A.ic.generateApiKey(s,a,{expiresInDays:t})},onSuccess:e=>{a.invalidateQueries(["admin","api-keys"]),L(e.data),S(!1),O(!0),q({name:"",accessType:"read_only",expiresInDays:365})},onError:e=>{var s,a;f({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to generate API key",type:"error"})}}),$=(0,n.n)({mutationFn:e=>{let{id:s,hardDelete:a}=e;return A.ic.deleteApiKey(s,a)},onSuccess:()=>{a.invalidateQueries(["admin","api-keys"]),f({message:"API key deleted",type:"success"})},onError:e=>{var s,a;f({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to delete API key",type:"error"})}}),J=(null===G||void 0===G?void 0:G.data)||[],Q=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.confirm("".concat(s?"Permanently delete":"Deactivate",' API key "').concat(e.name,'"?'))&&$.mutate({id:e.id,hardDelete:s})};return(0,K.jsxs)("div",{className:"space-y-6",children:[(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("h2",{className:"text-2xl font-bold",children:"API Keys"}),(0,K.jsx)("p",{className:"text-muted-foreground",children:"Manage API keys for public access"})]}),(0,K.jsxs)(k.$,{onClick:()=>S(!0),children:[(0,K.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Generate New Key"]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,K.jsx)(g.Zp,{children:(0,K.jsxs)(g.Wu,{className:"p-4",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,K.jsx)(o.A,{className:"h-4 w-4"}),(0,K.jsx)("span",{className:"text-sm",children:"Total Keys"})]}),(0,K.jsx)("p",{className:"text-2xl font-bold",children:J.length})]})}),(0,K.jsx)(g.Zp,{children:(0,K.jsxs)(g.Wu,{className:"p-4",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,K.jsx)(m.A,{className:"h-4 w-4"}),(0,K.jsx)("span",{className:"text-sm",children:"Active"})]}),(0,K.jsx)("p",{className:"text-2xl font-bold text-green-500",children:J.filter(e=>e.isActive).length})]})}),(0,K.jsx)(g.Zp,{children:(0,K.jsxs)(g.Wu,{className:"p-4",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,K.jsx)(h.A,{className:"h-4 w-4"}),(0,K.jsx)("span",{className:"text-sm",children:"Total Usage"})]}),(0,K.jsx)("p",{className:"text-2xl font-bold",children:(0,E.ZV)(J.reduce((e,s)=>e+(s.usageCount||0),0))})]})}),(0,K.jsx)(g.Zp,{children:(0,K.jsxs)(g.Wu,{className:"p-4",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[(0,K.jsx)(u.A,{className:"h-4 w-4"}),(0,K.jsx)("span",{className:"text-sm",children:"Full Access"})]}),(0,K.jsx)("p",{className:"text-2xl font-bold",children:J.filter(e=>"full_access"===e.accessType).length})]})})]}),Z?(0,K.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>(0,K.jsx)(P.E,{className:"h-24 w-full"},s))}):V?(0,K.jsxs)("div",{className:"text-center py-12",children:[(0,K.jsx)("p",{className:"text-destructive mb-2",children:"Failed to load API keys."}),(0,K.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:(null===(e=V.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||V.message||"Unknown error"}),(0,K.jsx)(k.$,{variant:"outline",onClick:()=>window.location.reload(),children:"Try Again"})]}):0===J.length?(0,K.jsx)(g.Zp,{children:(0,K.jsxs)(g.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,K.jsx)(o.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,K.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No API keys yet"}),(0,K.jsx)("p",{className:"text-muted-foreground mb-4",children:"Generate your first API key to enable public access"}),(0,K.jsxs)(k.$,{onClick:()=>S(!0),children:[(0,K.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Generate Key"]})]})}):(0,K.jsx)("div",{className:"space-y-4",children:J.map(e=>{var s;return(0,K.jsx)(c.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:(0,K.jsx)(g.Zp,{children:(0,K.jsx)(g.Wu,{className:"p-4",children:(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,K.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)("h3",{className:"font-semibold",children:e.name}),(0,K.jsx)(C.E,{variant:e.isActive?"success":"secondary",children:e.isActive?"Active":"Inactive"}),(0,K.jsx)(C.E,{variant:"full_access"===e.accessType?"default":"outline",children:"full_access"===e.accessType?"Full Access":"Read Only"})]}),(0,K.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,K.jsx)("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:e.keyPreview}),(0,K.jsxs)("span",{children:[(0,K.jsx)(h.A,{className:"inline h-3 w-3 mr-1"}),(0,E.ZV)(e.usageCount||0)," requests"]}),e.lastUsedAt&&(0,K.jsxs)("span",{children:[(0,K.jsx)(x.A,{className:"inline h-3 w-3 mr-1"}),"Last used ",(0,E.Yq)(e.lastUsedAt)]})]}),(0,K.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Permissions: ",(null===(s=e.permissions)||void 0===s?void 0:s.join(", "))||"None"]})]}),(0,K.jsxs)(M.rI,{children:[(0,K.jsx)(M.ty,{asChild:!0,children:(0,K.jsx)(k.$,{variant:"ghost",size:"icon",children:(0,K.jsx)(p.A,{className:"h-4 w-4"})})}),(0,K.jsxs)(M.SQ,{align:"end",children:[(0,K.jsxs)(M._2,{onClick:()=>Q(e,!1),children:[(0,K.jsx)(y,{className:"mr-2 h-4 w-4"}),"Deactivate"]}),(0,K.jsx)(M.mB,{}),(0,K.jsxs)(M._2,{onClick:()=>Q(e,!0),className:"text-destructive",children:[(0,K.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Delete Permanently"]})]})]})]})})})},e.id)})}),(0,K.jsx)(I.lG,{open:T,onOpenChange:S,children:(0,K.jsxs)(I.Cf,{children:[(0,K.jsxs)(I.c7,{children:[(0,K.jsx)(I.L3,{children:"Generate API Key"}),(0,K.jsx)(I.rr,{children:"Create a new API key for public access"})]}),(0,K.jsxs)("div",{className:"space-y-4 py-4",children:[(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)(w.J,{children:"Name"}),(0,K.jsx)(b.p,{placeholder:"e.g., Mobile App Production",value:W.name,onChange:e=>q(s=>(0,t.A)((0,t.A)({},s),{},{name:e.target.value}))})]}),(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)(w.J,{children:"Access Type"}),(0,K.jsxs)(R.l6,{value:W.accessType,onValueChange:e=>q(s=>(0,t.A)((0,t.A)({},s),{},{accessType:e})),children:[(0,K.jsx)(R.bq,{children:(0,K.jsx)(R.yv,{})}),(0,K.jsxs)(R.gC,{children:[(0,K.jsx)(R.eb,{value:"read_only",children:"Read Only (read:media, read:settings)"}),(0,K.jsx)(R.eb,{value:"full_access",children:"Full Access (all permissions)"})]})]})]}),(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsx)(w.J,{children:"Expires In"}),(0,K.jsxs)(R.l6,{value:String(W.expiresInDays),onValueChange:e=>q(s=>(0,t.A)((0,t.A)({},s),{},{expiresInDays:parseInt(e)})),children:[(0,K.jsx)(R.bq,{children:(0,K.jsx)(R.yv,{})}),(0,K.jsxs)(R.gC,{children:[(0,K.jsx)(R.eb,{value:"30",children:"30 days"}),(0,K.jsx)(R.eb,{value:"90",children:"90 days"}),(0,K.jsx)(R.eb,{value:"365",children:"1 year"}),(0,K.jsx)(R.eb,{value:"730",children:"2 years"})]})]})]})]}),(0,K.jsxs)(I.Es,{children:[(0,K.jsx)(k.$,{variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),(0,K.jsx)(k.$,{onClick:()=>{W.name.trim()?z.mutate(W):f({message:"Please enter a name for the API key",type:"error"})},disabled:z.isPending,children:z.isPending?"Generating...":"Generate Key"})]})]})}),(0,K.jsx)(I.lG,{open:F,onOpenChange:O,children:(0,K.jsxs)(I.Cf,{children:[(0,K.jsxs)(I.c7,{children:[(0,K.jsxs)(I.L3,{className:"flex items-center gap-2",children:[(0,K.jsx)(m.A,{className:"h-5 w-5 text-green-500"}),"API Key Created"]}),(0,K.jsx)(I.rr,{children:"Copy this key now. You won't be able to see it again!"})]}),(0,K.jsx)("div",{className:"py-4",children:(0,K.jsx)("div",{className:"bg-muted p-4 rounded-lg font-mono text-sm break-all",children:null===D||void 0===D?void 0:D.key})}),(0,K.jsx)(I.Es,{children:(0,K.jsx)(k.$,{onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),_(e),setTimeout(()=>_(null),2e3),f({message:"Copied to clipboard",type:"success"})}catch(V){f({message:"Failed to copy",type:"error"})}})(null===D||void 0===D?void 0:D.key),className:"w-full",children:U===(null===D||void 0===D?void 0:D.key)?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Copied!"]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(j,{className:"h-4 w-4 mr-2"}),"Copy to Clipboard"]})})})]})})]})}}}]);
//# sourceMappingURL=784.1cf5bec9.chunk.js.map