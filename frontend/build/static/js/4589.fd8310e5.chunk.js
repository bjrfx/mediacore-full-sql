/*! For license information please see 4589.fd8310e5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[4589],{29521:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(21639).A)("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},31555:(e,s,a)=>{a.d(s,{E:()=>n});var l=a(27051),t=a(53986),i=(a(65043),a(99766)),r=a(70579);const c=["className"];function n(e){let{className:s}=e,a=(0,t.A)(e,c);return(0,r.jsx)("div",(0,l.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",s)},a))}},48186:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},54589:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var l=a(27051),t=a(65043),i=a(73216),r=a(35475),c=a(12265),n=a(81228),d=a(35613),m=a(75088),o=a(29521),x=a(57170),h=a(14918),u=a(48186),j=a(19829),g=a(64830),N=a(88306),f=a(82119),v=a(14459),p=a(18717),y=a(94505),b=a(13390),w=a(31555),A=a(17484),k=a(99766),I=a(70579);function C(){const{albumId:e}=(0,i.g)(),{playTrack:s,setQueue:a}=(0,p.ut)(),{toggleFavorite:C,isFavorite:_}=(0,p.CA)(),{data:E,isLoading:F,isError:z,error:O}=(0,c.I)({queryKey:["album",e],queryFn:()=>y.O0.getAlbumById(e),enabled:!!e}),{data:q,isLoading:M}=(0,c.I)({queryKey:["album",e,"media"],queryFn:()=>y.O0.getAlbumMedia(e),enabled:!!e}),S=null===E||void 0===E?void 0:E.data,T=(null===S||void 0===S?void 0:S.artist)||(null!==S&&void 0!==S&&S.artistId?{id:S.artistId,name:S.artistName||"",image:null}:null),$=(0,t.useMemo)(()=>((null===q||void 0===q?void 0:q.data)||[]).map(e=>(0,l.A)((0,l.A)({},e),{},{artistName:e.artistName||(null===T||void 0===T?void 0:T.name)||(null===S||void 0===S?void 0:S.artistName)||"",artistId:e.artistId||(null===T||void 0===T?void 0:T.id)||(null===S||void 0===S?void 0:S.artistId),albumTitle:e.albumTitle||(null===S||void 0===S?void 0:S.title)||(null===S||void 0===S?void 0:S.name)||"",albumCover:e.albumCover||(null===S||void 0===S?void 0:S.coverImage)||""})),[null===q||void 0===q?void 0:q.data,T,S]),D=(0,t.useMemo)(()=>{let e=0;return $.forEach(s=>{s.duration&&(e+=s.duration)}),e},[$]);return F?(0,I.jsxs)("div",{className:"space-y-8 pb-32",children:[(0,I.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-6 py-8",children:[(0,I.jsx)(w.E,{className:"w-48 h-48 md:w-56 md:h-56 rounded-lg"}),(0,I.jsxs)("div",{className:"flex-1 text-center md:text-left space-y-4",children:[(0,I.jsx)(w.E,{className:"h-4 w-16"}),(0,I.jsx)(w.E,{className:"h-12 w-64"}),(0,I.jsx)(w.E,{className:"h-4 w-48"})]})]}),(0,I.jsxs)("div",{className:"flex gap-4",children:[(0,I.jsx)(w.E,{className:"h-12 w-28 rounded-full"}),(0,I.jsx)(w.E,{className:"h-12 w-28 rounded-full"})]}),(0,I.jsx)("div",{className:"space-y-2",children:Array.from({length:5}).map((e,s)=>(0,I.jsx)(w.E,{className:"h-16 w-full"},s))})]}):z||!S?(0,I.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:[z?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(d.A,{className:"h-16 w-16 text-destructive mb-4"}),(0,I.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Failed to load album"}),(0,I.jsx)("p",{className:"text-muted-foreground mb-4",children:(null===O||void 0===O?void 0:O.message)||"An error occurred"})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(o.A,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,I.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Album not found"}),(0,I.jsx)("p",{className:"text-muted-foreground mb-4",children:"This album doesn't exist or has been removed"})]}),(0,I.jsx)(b.$,{asChild:!0,children:(0,I.jsx)(r.N_,{to:"/",children:"Go Home"})})]}):(0,I.jsxs)("div",{className:"space-y-8 pb-32",children:[(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)("div",{className:(0,k.cn)("absolute inset-0 -z-10 opacity-30 blur-3xl","bg-gradient-to-br ".concat((0,k.O3)(S.id)))}),(0,I.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row items-center md:items-end gap-6 py-8",children:[(0,I.jsx)("div",{className:(0,k.cn)("w-48 h-48 md:w-56 md:h-56 rounded-lg shadow-2xl overflow-hidden shrink-0",!S.coverImage&&"bg-gradient-to-br ".concat((0,k.O3)(S.id))),children:S.coverImage?(0,I.jsx)("img",{src:S.coverImage,alt:S.title,className:"w-full h-full object-cover"}):(0,I.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,I.jsx)(o.A,{className:"h-24 w-24 text-white/50"})})}),(0,I.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,I.jsx)("p",{className:"text-sm font-medium text-primary mb-2",children:S.type?"album"===S.type?"Album":S.type.charAt(0).toUpperCase()+S.type.slice(1):"Album"}),(0,I.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:S.title}),S.description&&(0,I.jsx)("p",{className:"text-muted-foreground max-w-2xl mb-4 line-clamp-2",children:S.description}),(0,I.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-2 text-sm",children:[T&&(0,I.jsxs)(I.Fragment,{children:[T.image?(0,I.jsx)("img",{src:T.image,alt:T.name,className:"w-6 h-6 rounded-full"}):(0,I.jsx)("div",{className:(0,k.cn)("w-6 h-6 rounded-full flex items-center justify-center","bg-gradient-to-br ".concat((0,k.O3)(T.id))),children:(0,I.jsx)(v.A,{className:"h-3 w-3 text-white"})}),(0,I.jsx)(r.N_,{to:"/artist/".concat(T.id),className:"font-semibold hover:underline",children:T.name}),(0,I.jsx)("span",{className:"text-muted-foreground",children:"\u2022"})]}),S.releaseDate&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{className:"text-muted-foreground",children:new Date(S.releaseDate).getFullYear()}),(0,I.jsx)("span",{className:"text-muted-foreground",children:"\u2022"})]}),(0,I.jsxs)("span",{className:"text-muted-foreground",children:[$.length," tracks",D>0&&", ".concat((0,k.a3)(D))]})]})]})]}),(0,I.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex items-center gap-4 mt-6",children:[(0,I.jsxs)(b.$,{size:"lg",variant:"spotify",className:"rounded-full px-8",onClick:()=>{$.length>0&&(a($,0),s($[0],$))},disabled:0===$.length,children:[(0,I.jsx)(g.A,{className:"h-5 w-5 mr-2 ml-1"}),"Play"]}),(0,I.jsxs)(b.$,{size:"lg",variant:"outline",className:"rounded-full",onClick:()=>{if($.length>0){const e=[...$].sort(()=>Math.random()-.5);a(e,0),s(e[0],e)}},disabled:0===$.length,children:[(0,I.jsx)(f.A,{className:"h-5 w-5 mr-2"}),"Shuffle"]}),(0,I.jsxs)(A.rI,{children:[(0,I.jsx)(A.ty,{asChild:!0,children:(0,I.jsx)(b.$,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,I.jsx)(u.A,{className:"h-5 w-5"})})}),(0,I.jsx)(A.SQ,{children:(0,I.jsxs)(A._2,{onClick:()=>{var e,s;null===(e=(s=navigator).share)||void 0===e||e.call(s,{title:S.title,url:window.location.href})},children:[(0,I.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Share"]})})]})]})]}),(0,I.jsx)("section",{children:M?(0,I.jsx)("div",{className:"space-y-2",children:Array.from({length:5}).map((e,s)=>(0,I.jsx)(w.E,{className:"h-16 w-full"},s))}):0===$.length?(0,I.jsxs)("div",{className:"text-center py-12 bg-card rounded-lg",children:[(0,I.jsx)(j.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,I.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No tracks yet"}),(0,I.jsx)("p",{className:"text-muted-foreground",children:"This album doesn't have any tracks yet"})]}):(0,I.jsxs)("div",{className:"bg-card rounded-lg overflow-hidden",children:[(0,I.jsxs)("div",{className:"grid grid-cols-[auto_1fr_auto_auto] gap-4 px-4 py-2 border-b text-sm text-muted-foreground",children:[(0,I.jsx)("span",{className:"w-8 text-center",children:"#"}),(0,I.jsx)("span",{children:"Title"}),(0,I.jsx)("span",{className:"w-12"}),(0,I.jsx)("span",{className:"w-16 text-right",children:(0,I.jsx)(m.A,{className:"h-4 w-4 inline"})})]}),$.map((e,l)=>{const t=_(e.id),i=e.trackNumber||l+1;return(0,I.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.02*l},className:"group grid grid-cols-[auto_1fr_auto_auto] gap-4 px-4 py-2 hover:bg-muted/50 items-center",children:[(0,I.jsxs)("div",{className:"w-8 text-center text-muted-foreground",children:[(0,I.jsx)("span",{className:"group-hover:hidden",children:i}),(0,I.jsx)(b.$,{variant:"ghost",size:"iconSm",className:"hidden group-hover:flex mx-auto",onClick:()=>((e,l)=>{a($,l),s(e,$)})(e,l),children:(0,I.jsx)(g.A,{className:"h-4 w-4"})})]}),(0,I.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,I.jsx)("div",{className:(0,k.cn)("w-10 h-10 rounded shrink-0","bg-gradient-to-br ".concat((0,k.O3)(e.id))),children:e.thumbnail&&(0,I.jsx)("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover rounded"})}),(0,I.jsxs)("div",{className:"min-w-0",children:[(0,I.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,I.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:["video"===e.type?(0,I.jsx)(x.A,{className:"h-3 w-3"}):(0,I.jsx)(j.A,{className:"h-3 w-3"}),(0,I.jsx)("span",{children:e.type}),e.subtitle&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{children:"\u2022"}),(0,I.jsx)("span",{className:"truncate",children:e.subtitle})]})]})]})]}),(0,I.jsx)(b.$,{variant:"ghost",size:"iconSm",className:(0,k.cn)("opacity-0 group-hover:opacity-100 transition-opacity",t&&"opacity-100"),onClick:()=>C(e),children:(0,I.jsx)(h.A,{className:(0,k.cn)("h-4 w-4",t&&"fill-primary text-primary")})}),(0,I.jsx)("span",{className:"w-16 text-right text-sm text-muted-foreground",children:e.duration?(0,k.a3)(e.duration):"--:--"})]},e.id)})]})}),T&&(0,I.jsxs)("section",{children:[(0,I.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["More from ",T.name]}),(0,I.jsx)(r.N_,{to:"/artist/".concat(T.id),children:(0,I.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-card rounded-lg hover:bg-card/80 transition-colors",children:[T.image?(0,I.jsx)("img",{src:T.image,alt:T.name,className:"w-16 h-16 rounded-full object-cover"}):(0,I.jsx)("div",{className:(0,k.cn)("w-16 h-16 rounded-full flex items-center justify-center","bg-gradient-to-br ".concat((0,k.O3)(T.id))),children:(0,I.jsx)(v.A,{className:"h-8 w-8 text-white/50"})}),(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"font-semibold",children:T.name}),(0,I.jsx)("p",{className:"text-sm text-muted-foreground",children:"View artist profile"})]})]})})]})]})}},88306:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(21639).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])}}]);
//# sourceMappingURL=4589.fd8310e5.chunk.js.map