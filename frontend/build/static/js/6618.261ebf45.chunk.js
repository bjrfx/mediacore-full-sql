"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[6618],{24490:(e,t,a)=>{a.d(t,{aZ:()=>X,wD:()=>G});var n=a(65043),s=a(35327),o=a(64830),i=a(14918),c=a(31837),l=a(9855),r=a(7104),d=a(88306),m=a(36210),u=a(72313),h=a(53714),x=a(48186),p=a(99766),f=a(13390),g=a(65598),v=a(27051),j=a(53986),N=a(96938),y=a(81228),w=a(1313),b=a(40614),C=a(70579);const A=["className"],k=["className","children","showHandle"],S=["className"],R=["className"],z=["className"],B=["className"],E=["className"],U=["className"],D=["className","icon","children","destructive"],F=["className"],M=n.createContext({}),O=e=>{let{children:t,open:a,onOpenChange:n}=e;return(0,C.jsx)(M.Provider,{value:{open:a,onOpenChange:n},children:(0,C.jsx)(N.N,{children:a&&t})})},P=n.forwardRef((e,t)=>{let{className:a}=e,s=(0,j.A)(e,A);const{onOpenChange:o}=n.useContext(M);return(0,C.jsx)(y.P.div,(0,v.A)({ref:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:()=>null===o||void 0===o?void 0:o(!1),className:(0,p.cn)("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",a)},s))});P.displayName="BottomSheetOverlay";const q=n.forwardRef((e,t)=>{let{className:a,children:s,showHandle:o=!0}=e,i=(0,j.A)(e,k);const{onOpenChange:c}=n.useContext(M),l=(0,w.m)(),r=n.useRef(null);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(P,{}),(0,C.jsx)("div",{ref:r,className:"fixed inset-0 z-50 pointer-events-none"}),(0,C.jsxs)(y.P.div,(0,v.A)((0,v.A)({ref:t,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300,mass:.8},drag:"y",dragControls:l,dragConstraints:{top:0,bottom:0},dragElastic:{top:0,bottom:.5},onDragEnd:(e,t)=>{(t.offset.y>100||t.velocity.y>500)&&(null===c||void 0===c||c(!1))},className:(0,p.cn)("fixed inset-x-0 bottom-0 z-50 max-h-[90vh] rounded-t-2xl","bg-card border-t border-border shadow-2xl","pointer-events-auto",a)},i),{},{children:[o&&(0,C.jsx)("div",{className:"flex justify-center py-4 cursor-grab active:cursor-grabbing",onPointerDown:e=>l.start(e),children:(0,C.jsx)("div",{className:"w-12 h-1.5 rounded-full bg-muted-foreground/30"})}),(0,C.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-56px)] pb-safe",children:s})]}))]})});q.displayName="BottomSheetContent";n.forwardRef((e,t)=>{let{className:a}=e,n=(0,j.A)(e,S);return(0,C.jsx)("div",(0,v.A)({ref:t,className:(0,p.cn)("px-6 pb-4",a)},n))}).displayName="BottomSheetHeader";n.forwardRef((e,t)=>{let{className:a}=e,n=(0,j.A)(e,R);return(0,C.jsx)("h2",(0,v.A)({ref:t,className:(0,p.cn)("text-lg font-semibold text-foreground",a)},n))}).displayName="BottomSheetTitle";n.forwardRef((e,t)=>{let{className:a}=e,n=(0,j.A)(e,z);return(0,C.jsx)("p",(0,v.A)({ref:t,className:(0,p.cn)("text-sm text-muted-foreground mt-1",a)},n))}).displayName="BottomSheetDescription";n.forwardRef((e,t)=>{let{className:a}=e,s=(0,j.A)(e,B);const{onOpenChange:o}=n.useContext(M);return(0,C.jsxs)("button",(0,v.A)((0,v.A)({ref:t,onClick:()=>null===o||void 0===o?void 0:o(!1),className:(0,p.cn)("absolute right-4 top-4 rounded-full p-2","text-muted-foreground hover:text-foreground","hover:bg-muted/50 transition-colors",a)},s),{},{children:[(0,C.jsx)(b.A,{className:"h-5 w-5"}),(0,C.jsx)("span",{className:"sr-only",children:"Close"})]}))}).displayName="BottomSheetClose";n.forwardRef((e,t)=>{let{className:a}=e,n=(0,j.A)(e,E);return(0,C.jsx)("div",(0,v.A)({ref:t,className:(0,p.cn)("px-6 py-2",a)},n))}).displayName="BottomSheetBody";n.forwardRef((e,t)=>{let{className:a}=e,n=(0,j.A)(e,U);return(0,C.jsx)("div",(0,v.A)({ref:t,className:(0,p.cn)("px-6 py-4 border-t border-border",a)},n))}).displayName="BottomSheetFooter";const I=n.forwardRef((e,t)=>{let{className:a,icon:n,children:s,destructive:o=!1}=e,i=(0,j.A)(e,D);return(0,C.jsxs)("button",(0,v.A)((0,v.A)({ref:t,className:(0,p.cn)("w-full flex items-center gap-4 px-6 py-4","text-left transition-colors","hover:bg-muted/50 active:bg-muted","focus:outline-none focus-visible:ring-2 focus-visible:ring-primary",o&&"text-destructive hover:bg-destructive/10",a)},i),{},{children:[n&&(0,C.jsx)(n,{className:"h-5 w-5 flex-shrink-0"}),(0,C.jsx)("span",{className:"text-sm font-medium",children:s})]}))});I.displayName="BottomSheetAction";const L=n.forwardRef((e,t)=>{let{className:a}=e,n=(0,j.A)(e,F);return(0,C.jsx)("div",(0,v.A)({ref:t,className:(0,p.cn)("h-px bg-border my-2",a)},n))});L.displayName="BottomSheetSeparator";var T=a(2340),$=a(77024),_=a(19273),H=a(16347),V=a(51149);const Z="https://app.mediacore.in";function W(e){let{media:t,open:a,onOpenChange:x,showActions:v=!0,initialView:j="actions",queue:N=[]}=e;const[y,w]=(0,n.useState)(j),[b,A]=(0,n.useState)(null),[k,S]=(0,n.useState)(!1),{playTrack:R,togglePlay:z,currentTrack:B,isPlaying:E}=(0,T.A)(),{isFavorite:U,toggleFavorite:D}=(0,$.A)(),{openModal:F}=(0,_.A)(),{user:M}=(0,V.A)(),{startDownload:P,removeDownload:W,isDownloaded:G}=(0,H.default)(),X=(null===B||void 0===B?void 0:B.id)===(null===t||void 0===t?void 0:t.id),J=!!t&&U(t.id),K=!!t&&G(t.id);(0,n.useEffect)(()=>{const e=()=>S(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{a&&(w(j),A(null))},[a,j]);const Q=(0,n.useCallback)(()=>{if(!t)return"";const e="video"===t.type?"watch":"listen";return"".concat(Z,"/").concat(e,"/").concat(t.id)},[t]),Y=(0,n.useCallback)(()=>t?"".concat(Z,"/embed/").concat(t.id):"",[t]),ee=(0,n.useCallback)(()=>{if(!t)return"";const e=Y(),a="video"===t.type?"560":"100%",n="video"===t.type?"315":"152";return'<iframe src="'.concat(e,'" width="').concat(a,'" height="').concat(n,'" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>')},[t,Y]),te=(0,n.useCallback)(async(e,t)=>{try{await navigator.clipboard.writeText(e),A(t),setTimeout(()=>A(null),2e3)}catch(a){console.error("Failed to copy:",a)}},[]),ae=(0,n.useCallback)(async()=>{if(t&&navigator.share)try{await navigator.share({title:t.title,text:'Check out "'.concat(t.title,'" on MediaCore'),url:Q()})}catch(e){"AbortError"!==e.name&&(console.error("Share failed:",e),te(Q(),"link"))}},[t,Q,te]),ne=[{name:"WhatsApp",icon:()=>(0,C.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 fill-current",children:(0,C.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),color:"#25D366",getUrl:()=>"https://wa.me/?text=".concat(encodeURIComponent('Check out "'.concat(null===t||void 0===t?void 0:t.title,'" on MediaCore: ').concat(Q())))},{name:"Telegram",icon:()=>(0,C.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 fill-current",children:(0,C.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),color:"#0088cc",getUrl:()=>"https://t.me/share/url?url=".concat(encodeURIComponent(Q()),"&text=").concat(encodeURIComponent('Check out "'.concat(null===t||void 0===t?void 0:t.title,'" on MediaCore')))},{name:"X",icon:()=>(0,C.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 fill-current",children:(0,C.jsx)("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})}),color:"#000",getUrl:()=>"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent('Check out "'.concat(null===t||void 0===t?void 0:t.title,'" on MediaCore')),"&url=").concat(encodeURIComponent(Q()))},{name:"Email",icon:s.A,color:"#EA4335",getUrl:()=>"mailto:?subject=".concat(encodeURIComponent('Check out "'.concat(null===t||void 0===t?void 0:t.title,'" on MediaCore')),"&body=").concat(encodeURIComponent("I thought you might enjoy this: ".concat(Q())))}],se=(0,n.useCallback)(()=>{t&&(X?z():R(t,N.length>0?N:[t]),x(!1))},[t,X,z,R,N,x]),oe=(0,n.useCallback)(()=>{t&&D(t)},[t,D]),ie=(0,n.useCallback)(()=>{t&&(F("addToPlaylist",t),x(!1))},[t,F,x]),ce=(0,n.useCallback)(()=>{t&&(K?W(t.id):P(t))},[t,K,W,P]);if(!t)return null;const le=()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flex items-center gap-4 px-6 py-4 bg-muted/30",children:[(0,C.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:t.thumbnail?(0,C.jsx)("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover"}):(0,C.jsx)("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:(0,C.jsx)(o.A,{className:"h-6 w-6 text-muted-foreground"})})}),(0,C.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,C.jsx)("h3",{className:"font-semibold text-sm line-clamp-2",children:t.title}),(0,C.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:t.artistName||t.subtitle||"Unknown artist"})]})]}),(0,C.jsxs)("div",{className:"py-2",children:[(0,C.jsx)(I,{icon:X&&E?()=>(0,C.jsx)("span",{className:"w-5 h-5 flex items-center justify-center",children:(0,C.jsxs)("span",{className:"flex gap-0.5",children:[(0,C.jsx)("span",{className:"audio-bar-mini",style:{animationDelay:"0s"}}),(0,C.jsx)("span",{className:"audio-bar-mini",style:{animationDelay:"0.1s"}}),(0,C.jsx)("span",{className:"audio-bar-mini",style:{animationDelay:"0.2s"}})]})}):o.A,onClick:se,children:X&&E?"Now Playing":"Play Now"}),(0,C.jsx)(I,{icon:i.A,onClick:oe,className:(0,p.cn)(J&&"text-red-500"),children:J?"Remove from Favorites":"Add to Favorites"}),(0,C.jsx)(I,{icon:c.A,onClick:ie,children:"Add to Playlist"}),M&&(0,C.jsx)(I,{icon:K?l.A:r.A,onClick:ce,children:K?"Remove Download":"Download"}),(0,C.jsx)(L,{}),(0,C.jsx)(I,{icon:d.A,onClick:()=>w("share"),children:"Share"})]})]}),re=()=>(0,C.jsxs)(C.Fragment,{children:[v&&(0,C.jsx)("div",{className:"px-6 py-2",children:(0,C.jsx)(f.$,{variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:()=>w("actions"),children:"\u2190 Back"})}),(0,C.jsxs)("div",{className:"flex items-center gap-4 px-6 py-4 bg-muted/30",children:[(0,C.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:t.thumbnail?(0,C.jsx)("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover"}):(0,C.jsx)("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:(0,C.jsx)(o.A,{className:"h-6 w-6 text-muted-foreground"})})}),(0,C.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,C.jsx)("h3",{className:"font-semibold text-sm line-clamp-2",children:t.title}),(0,C.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:Q()})]})]}),(0,C.jsxs)("div",{className:"px-6 py-4 space-y-4",children:["undefined"!==typeof navigator&&navigator.share&&(0,C.jsxs)(f.$,{onClick:ae,className:"w-full",size:"lg",children:[(0,C.jsx)(d.A,{className:"mr-2 h-5 w-5"}),"Share"]}),(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsx)("div",{className:"flex-1 bg-muted/50 rounded-lg px-4 py-3 text-sm truncate",children:Q()}),(0,C.jsx)(f.$,{variant:"secondary",size:"icon",className:"h-12 w-12",onClick:()=>te(Q(),"link"),children:"link"===b?(0,C.jsx)(m.A,{className:"h-5 w-5 text-green-500"}):(0,C.jsx)(u.A,{className:"h-5 w-5"})})]}),(0,C.jsx)("div",{className:"flex justify-center gap-3",children:ne.map(e=>(0,C.jsxs)("a",{href:e.getUrl(),target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-xl hover:bg-muted/50 transition-colors",title:"Share on ".concat(e.name),children:[(0,C.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white",style:{backgroundColor:e.color},children:"function"===typeof e.icon?(0,C.jsx)(e.icon,{}):(0,C.jsx)(e.icon,{className:"h-5 w-5"})}),(0,C.jsx)("span",{className:"text-xs text-muted-foreground",children:e.name})]},e.name))}),(0,C.jsx)(L,{}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("span",{className:"text-sm font-medium",children:"Embed Code"}),(0,C.jsx)(f.$,{variant:"ghost",size:"sm",onClick:()=>te(ee(),"embed"),children:"embed"===b?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.A,{className:"mr-2 h-4 w-4 text-green-500"}),"Copied!"]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Copy Embed"]})})]}),(0,C.jsx)("div",{className:"bg-muted/50 rounded-lg p-3 text-xs font-mono text-muted-foreground overflow-x-auto whitespace-nowrap",children:ee()})]})]})]});return k?(0,C.jsx)(O,{open:a,onOpenChange:x,children:(0,C.jsx)(q,{children:v&&"actions"===y?(0,C.jsx)(le,{}):(0,C.jsx)(re,{})})}):(0,C.jsx)(g.lG,{open:a,onOpenChange:x,children:(0,C.jsxs)(g.Cf,{className:"max-w-md",children:[(0,C.jsxs)(g.c7,{children:[(0,C.jsx)(g.L3,{children:v&&"actions"===y?"Actions":"Share"}),(0,C.jsxs)(g.rr,{className:"sr-only",children:["Share or perform actions on ",t.title]})]}),v&&"actions"===y?(0,C.jsx)(le,{}):(0,C.jsx)(re,{})]})})}function G(e){let{media:t,queue:a=[],className:s,variant:o="ghost",size:i="icon"}=e;const[c,l]=(0,n.useState)(!1);return t?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(f.$,{variant:o,size:i,className:s,onClick:e=>{e.stopPropagation(),l(!0)},title:"Share",children:(0,C.jsx)(d.A,{className:"h-4 w-4"})}),(0,C.jsx)(W,{media:t,open:c,onOpenChange:l,showActions:!1,initialView:"share",queue:a})]}):null}function X(e){let{media:t,queue:a=[],className:s,variant:o="ghost",size:i="icon",alwaysVisible:c=!0}=e;const[l,r]=(0,n.useState)(!1);return t?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(f.$,{variant:o,size:i,className:(0,p.cn)(!c&&"opacity-0 group-hover:opacity-100 transition-opacity",s),onClick:e=>{e.stopPropagation(),r(!0)},title:"More options",children:(0,C.jsx)(x.A,{className:"h-4 w-4"})}),(0,C.jsx)(W,{media:t,open:l,onOpenChange:r,showActions:!0,initialView:"actions",queue:a})]}):null}},31555:(e,t,a)=>{a.d(t,{E:()=>l});var n=a(27051),s=a(53986),o=(a(65043),a(99766)),i=a(70579);const c=["className"];function l(e){let{className:t}=e,a=(0,s.A)(e,c);return(0,i.jsx)("div",(0,n.A)({className:(0,o.cn)("animate-pulse rounded-md bg-muted",t)},a))}},54957:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(65043);const s="MediaCore",o="https://app.mediacore.in";function i(e){let{media:t,type:a="page"}=e;return(0,n.useEffect)(()=>{if(!t)return;const e="video"===t.type,a=e?"watch":"listen",n="".concat(o,"/").concat(a,"/").concat(t.id),i="".concat(t.title," - ").concat(s),c=t.description||"".concat(e?"Watch":"Listen to",' "').concat(t.title,'" by ').concat(t.artistName||"Unknown"," on ").concat(s),l=t.thumbnail||t.thumbnailUrl||"".concat(o,"/og-default.png"),r="".concat(t.title," thumbnail"),d=document.title;document.title=i;const m={},u=[],h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=a?"property":"name",s=document.querySelector("meta[".concat(n,'="').concat(e,'"]'));m["".concat(n,":").concat(e)]=s?{attr:n,property:e,content:s.getAttribute("content"),existed:!0}:{attr:n,property:e,existed:!1},u.push(function(e,t){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"property":"name";let n=document.querySelector("meta[".concat(a,'="').concat(e,'"]'));return n||(n=document.createElement("meta"),n.setAttribute(a,e),document.head.appendChild(n)),n.setAttribute("content",t),n}(e,t,a))};return h("description",c),h("og:title",i,!0),h("og:description",c,!0),h("og:image",l,!0),h("og:image:alt",r,!0),h("og:url",n,!0),h("og:site_name",s,!0),h("og:type",e?"video.other":"music.song",!0),e?(h("og:video:type","text/html",!0),h("og:video:url","".concat(o,"/embed/").concat(t.id),!0),t.duration&&h("og:video:duration",String(t.duration),!0)):(h("og:audio:type","audio/mpeg",!0),t.duration&&h("og:audio:duration",String(t.duration),!0)),h("twitter:card",e?"player":"summary_large_image"),h("twitter:title",i),h("twitter:description",c),h("twitter:image",l),h("twitter:image:alt",r),e&&(h("twitter:player","".concat(o,"/embed/").concat(t.id)),h("twitter:player:width","560"),h("twitter:player:height","315")),()=>{document.title=d,Object.entries(m).forEach(e=>{let[t,a]=e;const n=document.querySelector("meta[".concat(a.attr,'="').concat(a.property,'"]'));n&&(a.existed?n.setAttribute("content",a.content):n.remove())})}},[t]),null}}}]);
//# sourceMappingURL=6618.261ebf45.chunk.js.map