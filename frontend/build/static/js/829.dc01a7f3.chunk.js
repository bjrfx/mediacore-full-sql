/*! For license information please see 829.dc01a7f3.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[829],{2284:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(21639).A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},13416:(e,a,s)=>{s.d(a,{T:()=>c});var l=s(27051),t=s(53986),i=s(65043),n=s(99766),r=s(70579);const d=["className"],c=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,d);return(0,r.jsx)("textarea",(0,l.A)({className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a},i))});c.displayName="Textarea"},19690:(e,a,s)=>{s.d(a,{Xi:()=>x,av:()=>p,j7:()=>h,tU:()=>m});var l=s(27051),t=s(53986),i=s(65043),n=s(47127),r=s(99766),d=s(70579);const c=["className"],o=["className"],u=["className"],m=n.bL,h=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,c);return(0,d.jsx)(n.B8,(0,l.A)({ref:a,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s)},i))});h.displayName=n.B8.displayName;const x=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,o);return(0,d.jsx)(n.l9,(0,l.A)({ref:a,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s)},i))});x.displayName=n.l9.displayName;const p=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,u);return(0,d.jsx)(n.UC,(0,l.A)({ref:a,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s)},i))});p.displayName=n.UC.displayName},47127:(e,a,s)=>{s.d(a,{B8:()=>U,UC:()=>I,bL:()=>F,l9:()=>z});var l=s(27051),t=s(53986),i=s(65043),n=s(30858),r=s(21862),d=s(96711),c=s(52894),o=s(87914),u=s(14204),m=s(13642),h=s(54490),x=s(70579);const p=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],f=["__scopeTabs","loop"],v=["__scopeTabs","value","disabled"],j=["__scopeTabs","value","forceMount","children"];var g="Tabs",[b,y]=(0,r.A)(g,[d.RG]),N=(0,d.RG)(),[A,w]=b(g),C=i.forwardRef((e,a)=>{const{__scopeTabs:s,value:i,onValueChange:n,defaultValue:r,orientation:d="horizontal",dir:c,activationMode:f="automatic"}=e,v=(0,t.A)(e,p),j=(0,u.jH)(c),[b,y]=(0,m.i)({prop:i,onChange:n,defaultProp:null!==r&&void 0!==r?r:"",caller:g});return(0,x.jsx)(A,{scope:s,baseId:(0,h.B)(),value:b,onValueChange:y,orientation:d,dir:j,activationMode:f,children:(0,x.jsx)(o.sG.div,(0,l.A)((0,l.A)({dir:j,"data-orientation":d},v),{},{ref:a}))})});C.displayName=g;var k="TabsList",_=i.forwardRef((e,a)=>{const{__scopeTabs:s,loop:i=!0}=e,n=(0,t.A)(e,f),r=w(k,s),c=N(s);return(0,x.jsx)(d.bL,(0,l.A)((0,l.A)({asChild:!0},c),{},{orientation:r.orientation,dir:r.dir,loop:i,children:(0,x.jsx)(o.sG.div,(0,l.A)((0,l.A)({role:"tablist","aria-orientation":r.orientation},n),{},{ref:a}))}))});_.displayName=k;var S="TabsTrigger",T=i.forwardRef((e,a)=>{const{__scopeTabs:s,value:i,disabled:r=!1}=e,c=(0,t.A)(e,v),u=w(S,s),m=N(s),h=L(u.baseId,i),p=E(u.baseId,i),f=i===u.value;return(0,x.jsx)(d.q7,(0,l.A)((0,l.A)({asChild:!0},m),{},{focusable:!r,active:f,children:(0,x.jsx)(o.sG.button,(0,l.A)((0,l.A)({type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:h},c),{},{ref:a,onMouseDown:(0,n.mK)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(i)}),onKeyDown:(0,n.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(i)}),onFocus:(0,n.mK)(e.onFocus,()=>{const e="manual"!==u.activationMode;f||r||!e||u.onValueChange(i)})}))}))});T.displayName=S;var M="TabsContent",R=i.forwardRef((e,a)=>{const{__scopeTabs:s,value:n,forceMount:r,children:d}=e,u=(0,t.A)(e,j),m=w(M,s),h=L(m.baseId,n),p=E(m.baseId,n),f=n===m.value,v=i.useRef(f);return i.useEffect(()=>{const e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(c.C,{present:r||f,children:s=>{let{present:t}=s;return(0,x.jsx)(o.sG.div,(0,l.A)((0,l.A)({"data-state":f?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":h,hidden:!t,id:p,tabIndex:0},u),{},{ref:a,style:(0,l.A)((0,l.A)({},e.style),{},{animationDuration:v.current?"0s":void 0}),children:t&&d}))}})});function L(e,a){return"".concat(e,"-trigger-").concat(a)}function E(e,a){return"".concat(e,"-content-").concat(a)}R.displayName=M;var F=C,U=_,z=T,I=R},63829:(e,a,s)=>{s.r(a),s.d(a,{default:()=>K});var l=s(27051),t=s(65043),i=s(63248),n=s(12265),r=s(47097),d=s(2284),c=s(84105),o=s(39292),u=s(57170),m=s(67883),h=s(19829),x=s(48186),p=s(21639);const f=(0,p.A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var v=s(64265),j=s(87015),g=s(9855),b=s(64830);const y=(0,p.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var N=s(36360),A=s(40614),w=s(50797),C=s(66305),k=s(18717),_=s(91140),S=s(92264),T=s(13390),M=s(5949),R=s(31555),L=s(19690),E=s(65598),F=s(17484),U=s(99766),z=s(20556),I=s(13416),P=s(45735),D=s(70579);const G=e=>{let{children:a,className:s}=e;return(0,D.jsx)("div",{className:(0,U.cn)("w-full overflow-auto",s),children:(0,D.jsx)("table",{className:"w-full caption-bottom text-sm",children:a})})},$=e=>{let{children:a}=e;return(0,D.jsx)("thead",{children:a})},q=e=>{let{children:a}=e;return(0,D.jsx)("tbody",{children:a})},V=e=>{let{children:a,className:s}=e;return(0,D.jsx)("tr",{className:(0,U.cn)("border-b transition-colors hover:bg-muted/50",s),children:a})},B=e=>{let{children:a,className:s}=e;return(0,D.jsx)("th",{className:(0,U.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground",s),children:a})},H=e=>{let{children:a,className:s}=e;return(0,D.jsx)("td",{className:(0,U.cn)("p-4 align-middle",s),children:a})};function K(){const e=(0,i.jE)(),{addToast:a}=(0,k.j_)(),[s,p]=(0,t.useState)(""),[K,O]=(0,t.useState)("all"),[Q,Z]=(0,t.useState)("table"),[J,X]=(0,t.useState)(null),[W,Y]=(0,t.useState)(!1),[ee,ae]=(0,t.useState)(!1),[se,le]=(0,t.useState)(null),[te,ie]=(0,t.useState)({title:"",subtitle:""}),[ne,re]=(0,t.useState)(null),[de,ce]=(0,t.useState)(""),[oe,ue]=(0,t.useState)(null),[me,he]=(0,t.useState)(null),[xe,pe]=(0,t.useState)(!1),{data:fe,isLoading:ve,error:je}=(0,n.I)({queryKey:["admin-media"],queryFn:()=>C.O0.getMedia({limit:500})}),ge=(0,r.n)({mutationFn:e=>{let{id:a,data:s}=e;return C.ic.updateMedia(a,s)},onSuccess:()=>{e.invalidateQueries(["media"]),Y(!1),X(null),a({message:"Media updated successfully",type:"success"})},onError:e=>{a({message:e.message||"Failed to update media",type:"error"})}}),be=(0,r.n)({mutationFn:e=>{let{id:a,deleteFile:s}=e;return C.ic.deleteMedia(a,s)},onSuccess:()=>{e.invalidateQueries(["media"]),ae(!1),le(null),a({message:"Media deleted successfully",type:"success"})},onError:e=>{a({message:e.message||"Failed to delete media",type:"error"})}}),ye=((null===fe||void 0===fe?void 0:fe.data)||[]).map(e=>{var a,s,t,i,n,r,d,c,o,u,m,h;return(0,l.A)((0,l.A)({},e),{},{fileSize:null!==(a=null!==(s=e.fileSize)&&void 0!==s?s:e.file_size)&&void 0!==a?a:0,filePath:null!==(t=null!==(i=e.filePath)&&void 0!==i?i:e.file_path)&&void 0!==t?t:"",thumbnailUrl:null!==(n=null!==(r=null!==(d=e.thumbnailUrl)&&void 0!==d?d:e.thumbnail_url)&&void 0!==r?r:e.thumbnail_path)&&void 0!==n?n:"",artistId:null!==(c=e.artistId)&&void 0!==c?c:e.artist_id,albumId:null!==(o=e.albumId)&&void 0!==o?o:e.album_id,contentGroupId:null!==(u=e.contentGroupId)&&void 0!==u?u:e.content_group_id,createdAt:null!==(m=e.createdAt)&&void 0!==m?m:e.created_at,updatedAt:null!==(h=e.updatedAt)&&void 0!==h?h:e.updated_at})}),Ne="all"===K?ye:ye.filter(e=>e.type===K),Ae=s?Ne.filter(e=>{var a,l;return(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(s.toLowerCase()))||(null===(l=e.subtitle)||void 0===l?void 0:l.toLowerCase().includes(s.toLowerCase()))}):Ne,we=e=>{X(e),ie({title:e.title,subtitle:e.subtitle||""}),ue(null),he(null),Y(!0)},Ce=e=>{le(e),ae(!0)},ke=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];se&&be.mutate({id:se.id,deleteFile:e})};return(0,D.jsxs)("div",{className:"space-y-6",children:[(0,D.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("h2",{className:"text-2xl font-bold",children:"Media Library"}),(0,D.jsx)("p",{className:"text-muted-foreground",children:"Manage your uploaded media files"})]}),(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)(T.$,{variant:"table"===Q?"secondary":"ghost",size:"icon",onClick:()=>Z("table"),children:(0,D.jsx)(d.A,{className:"h-4 w-4"})}),(0,D.jsx)(T.$,{variant:"grid"===Q?"secondary":"ghost",size:"icon",onClick:()=>Z("grid"),children:(0,D.jsx)(c.A,{className:"h-4 w-4"})})]})]}),(0,D.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,D.jsxs)("div",{className:"relative flex-1",children:[(0,D.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,D.jsx)(S.p,{placeholder:"Search media...",value:s,onChange:e=>p(e.target.value),className:"pl-10"})]}),(0,D.jsx)(L.tU,{value:K,onValueChange:O,children:(0,D.jsxs)(L.j7,{children:[(0,D.jsx)(L.Xi,{value:"all",children:"All"}),(0,D.jsx)(L.Xi,{value:"video",children:"Videos"}),(0,D.jsx)(L.Xi,{value:"audio",children:"Audio"})]})})]}),(0,D.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[(0,D.jsxs)("span",{children:[Ae.length," items shown"]}),(0,D.jsx)("span",{children:"\u2022"}),(0,D.jsxs)("span",{children:[ye.filter(e=>"video"===e.type).length," videos total"]}),(0,D.jsx)("span",{children:"\u2022"}),(0,D.jsxs)("span",{children:[ye.filter(e=>"audio"===e.type).length," audio total"]})]}),ve?(0,D.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,a)=>(0,D.jsx)(R.E,{className:"h-16 w-full"},a))}):je?(0,D.jsx)("div",{className:"text-center py-12 text-destructive",children:"Failed to load media. Please try again."}):0===Ae.length?(0,D.jsxs)("div",{className:"text-center py-12",children:[(0,D.jsx)(u.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,D.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No media found"}),(0,D.jsx)("p",{className:"text-muted-foreground",children:s?"Try a different search term":"Upload your first media file"})]}):"table"===Q?(0,D.jsx)(_.Zp,{children:(0,D.jsxs)(G,{children:[(0,D.jsx)($,{children:(0,D.jsxs)(V,{children:[(0,D.jsx)(B,{children:"Media"}),(0,D.jsx)(B,{children:"Type"}),(0,D.jsx)(B,{className:"hidden md:table-cell",children:"Size"}),(0,D.jsx)(B,{className:"hidden md:table-cell",children:"Date"}),(0,D.jsx)(B,{className:"text-right",children:"Actions"})]})}),(0,D.jsx)(q,{children:Ae.map(e=>(0,D.jsxs)(V,{children:[(0,D.jsx)(H,{children:(0,D.jsxs)("div",{className:"flex items-center gap-3",children:[(0,D.jsx)("div",{className:(0,U.cn)("w-10 h-10 rounded shrink-0","bg-gradient-to-br ".concat((0,U.O3)(e.id))),children:e.thumbnail&&(0,D.jsx)("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover rounded"})}),(0,D.jsxs)("div",{className:"min-w-0",children:[(0,D.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,D.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.subtitle||"No description"})]})]})}),(0,D.jsx)(H,{children:(0,D.jsxs)("div",{className:"flex items-center gap-1",children:[(0,D.jsxs)(M.E,{variant:"video"===e.type?"default":"secondary",children:[e.isHls?(0,D.jsx)(m.A,{className:"h-3 w-3 mr-1"}):"video"===e.type?(0,D.jsx)(u.A,{className:"h-3 w-3 mr-1"}):(0,D.jsx)(h.A,{className:"h-3 w-3 mr-1"}),e.type]}),e.isHls&&(0,D.jsx)(M.E,{variant:"outline",className:"text-[#22C55E] border-[#22C55E]/20",style:{background:"rgba(34, 197, 94, 0.1)"},children:"HLS"})]})}),(0,D.jsx)(H,{className:"hidden md:table-cell",children:(0,U.v7)(e.fileSize)}),(0,D.jsx)(H,{className:"hidden md:table-cell",children:(0,U.Yq)(e.createdAt)}),(0,D.jsx)(H,{className:"text-right",children:(0,D.jsxs)(F.rI,{children:[(0,D.jsx)(F.ty,{asChild:!0,children:(0,D.jsx)(T.$,{variant:"ghost",size:"iconSm",children:(0,D.jsx)(x.A,{className:"h-4 w-4"})})}),(0,D.jsxs)(F.SQ,{align:"end",children:[(0,D.jsxs)(F._2,{onClick:()=>window.open(e.fileUrl,"_blank"),children:[(0,D.jsx)(f,{className:"mr-2 h-4 w-4"}),"View"]}),(0,D.jsxs)(F._2,{onClick:()=>we(e),children:[(0,D.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,D.jsxs)(F._2,{onClick:()=>{re(e.id),ce(e.title)},children:[(0,D.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Subtitles / Lyrics"]}),(0,D.jsx)(F.mB,{}),(0,D.jsxs)(F._2,{onClick:()=>Ce(e),className:"text-destructive",children:[(0,D.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})}):(0,D.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:Ae.map(e=>(0,D.jsxs)(_.Zp,{className:"group overflow-hidden",children:[(0,D.jsxs)("div",{className:(0,U.cn)("aspect-square relative","bg-gradient-to-br ".concat((0,U.O3)(e.id))),children:[e.thumbnail&&(0,D.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),(0,D.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,D.jsx)(T.$,{size:"icon",variant:"secondary",onClick:()=>window.open(e.fileUrl,"_blank"),title:"Play",children:(0,D.jsx)(b.A,{className:"h-4 w-4"})}),(0,D.jsx)(T.$,{size:"icon",variant:"secondary",onClick:()=>we(e),title:"Edit",children:(0,D.jsx)(v.A,{className:"h-4 w-4"})}),(0,D.jsx)(T.$,{size:"icon",variant:"secondary",onClick:()=>{re(e.id),ce(e.title)},title:"Subtitles / Lyrics",children:(0,D.jsx)(j.A,{className:"h-4 w-4"})}),(0,D.jsx)(T.$,{size:"icon",variant:"destructive",onClick:()=>Ce(e),title:"Delete",children:(0,D.jsx)(g.A,{className:"h-4 w-4"})})]}),(0,D.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1",children:[(0,D.jsx)(M.E,{variant:"video"===e.type?"default":"secondary",children:e.type}),e.isHls&&(0,D.jsx)(M.E,{variant:"outline",className:"text-[#22C55E] border-[#22C55E]/20",style:{background:"rgba(34, 197, 94, 0.1)"},children:"HLS"})]})]}),(0,D.jsxs)(_.Wu,{className:"p-3",children:[(0,D.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,D.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,U.v7)(e.fileSize)})]})]},e.id))}),(0,D.jsx)(E.lG,{open:W,onOpenChange:Y,children:(0,D.jsxs)(E.Cf,{className:"max-w-lg",children:[(0,D.jsxs)(E.c7,{children:[(0,D.jsx)(E.L3,{children:"Edit Media"}),(0,D.jsx)(E.rr,{children:"Update the media metadata"})]}),(0,D.jsxs)("div",{className:"space-y-4 py-4",children:[(0,D.jsxs)("div",{className:"space-y-2",children:[(0,D.jsx)(z.J,{children:"Title"}),(0,D.jsx)(S.p,{value:te.title,onChange:e=>ie(a=>(0,l.A)((0,l.A)({},a),{},{title:e.target.value}))})]}),(0,D.jsxs)("div",{className:"space-y-2",children:[(0,D.jsx)(z.J,{children:"Description"}),(0,D.jsx)(I.T,{value:te.subtitle,onChange:e=>ie(a=>(0,l.A)((0,l.A)({},a),{},{subtitle:e.target.value}))})]}),(0,D.jsxs)("div",{className:"space-y-2",children:[(0,D.jsxs)(z.J,{className:"flex items-center gap-2",children:[(0,D.jsx)(y,{className:"h-4 w-4"}),"Thumbnail"]}),(me||(null===J||void 0===J?void 0:J.thumbnailUrl))&&(0,D.jsxs)("div",{className:"relative inline-block",children:[(0,D.jsx)("img",{src:me||(null===J||void 0===J?void 0:J.thumbnailUrl),alt:"Thumbnail",className:"w-32 h-32 object-cover rounded-lg border"}),(0,D.jsx)(T.$,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:async()=>{if(J){pe(!0);try{await C.ic.removeThumbnail(J.id),a({message:"Thumbnail removed successfully",type:"success"}),X((0,l.A)((0,l.A)({},J),{},{thumbnailUrl:null})),he(null),ue(null),e.invalidateQueries(["media"]),e.invalidateQueries(["admin-media"])}catch(je){a({message:"Failed to remove thumbnail",type:"error"})}pe(!1)}},disabled:xe,children:xe?(0,D.jsx)(N.A,{className:"h-3 w-3 animate-spin"}):(0,D.jsx)(A.A,{className:"h-3 w-3"})})]}),(0,D.jsxs)("div",{className:"flex gap-2",children:[(0,D.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:e=>{var a,s;const l=null===(a=e.target)||void 0===a||null===(s=a.files)||void 0===s?void 0:s[0];if(l){ue(l);const e=URL.createObjectURL(l);he(e)}},className:"hidden",id:"edit-thumbnail-upload"}),(0,D.jsxs)("label",{htmlFor:"edit-thumbnail-upload",className:"flex items-center gap-2 px-3 py-2 text-sm border rounded-lg cursor-pointer hover:bg-muted transition-colors",children:[(0,D.jsx)(w.A,{className:"h-4 w-4"}),me||null!==J&&void 0!==J&&J.thumbnailUrl?"Replace Thumbnail":"Upload Thumbnail"]}),oe&&(0,D.jsx)("span",{className:"text-sm text-muted-foreground self-center",children:oe.name})]}),(0,D.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recommended: Square or 16:9 aspect ratio, JPG/PNG/WebP, max 10MB"})]})]}),(0,D.jsxs)(E.Es,{children:[(0,D.jsx)(T.$,{variant:"ghost",onClick:()=>Y(!1),children:"Cancel"}),(0,D.jsx)(T.$,{onClick:async()=>{if(J&&(ge.mutate({id:J.id,data:te}),oe)){pe(!0);try{await C.ic.uploadThumbnail(J.id,oe),a({message:"Thumbnail updated successfully",type:"success"}),e.invalidateQueries(["media"]),e.invalidateQueries(["admin-media"])}catch(je){a({message:"Failed to upload thumbnail",type:"error"})}pe(!1)}},disabled:ge.isPending||xe,children:ge.isPending||xe?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})}),(0,D.jsx)(E.lG,{open:ee,onOpenChange:ae,children:(0,D.jsxs)(E.Cf,{children:[(0,D.jsxs)(E.c7,{children:[(0,D.jsx)(E.L3,{children:"Delete Media"}),(0,D.jsxs)(E.rr,{children:['Are you sure you want to delete "',null===se||void 0===se?void 0:se.title,'"?']})]}),(0,D.jsx)("div",{className:"py-4",children:(0,D.jsx)("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone. You can choose to keep the file on the server or delete it completely."})}),(0,D.jsxs)(E.Es,{className:"gap-2",children:[(0,D.jsx)(T.$,{variant:"ghost",onClick:()=>ae(!1),children:"Cancel"}),(0,D.jsx)(T.$,{variant:"outline",onClick:()=>ke(!1),disabled:be.isPending,children:"Keep File"}),(0,D.jsx)(T.$,{variant:"destructive",onClick:()=>ke(!0),disabled:be.isPending,children:be.isPending?"Deleting...":"Delete All"})]})]})}),(0,D.jsx)(P.SI,{mediaId:ne,mediaTitle:de,isOpen:!!ne,onClose:()=>{re(null),ce("")}})]})}},64265:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(21639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},67883:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(21639).A)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},84105:(e,a,s)=>{s.d(a,{A:()=>l});const l=(0,s(21639).A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},91140:(e,a,s)=>{s.d(a,{BT:()=>v,Wu:()=>j,ZB:()=>f,Zp:()=>x,aR:()=>p});var l=s(27051),t=s(53986),i=s(65043),n=s(99766),r=s(70579);const d=["className"],c=["className"],o=["className","children"],u=["className"],m=["className"],h=["className"],x=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,d);return(0,r.jsx)("div",(0,l.A)({ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",s)},i))});x.displayName="Card";const p=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,c);return(0,r.jsx)("div",(0,l.A)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s)},i))});p.displayName="CardHeader";const f=i.forwardRef((e,a)=>{let{className:s,children:i}=e,d=(0,t.A)(e,o);return(0,r.jsx)("h3",(0,l.A)((0,l.A)({ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s)},d),{},{children:i}))});f.displayName="CardTitle";const v=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,u);return(0,r.jsx)("p",(0,l.A)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s)},i))});v.displayName="CardDescription";const j=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,m);return(0,r.jsx)("div",(0,l.A)({ref:a,className:(0,n.cn)("p-6 pt-0",s)},i))});j.displayName="CardContent";i.forwardRef((e,a)=>{let{className:s}=e,i=(0,t.A)(e,h);return(0,r.jsx)("div",(0,l.A)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s)},i))}).displayName="CardFooter"}}]);
//# sourceMappingURL=829.dc01a7f3.chunk.js.map