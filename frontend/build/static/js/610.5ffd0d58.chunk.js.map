{"version":3,"file":"static/js/610.5ffd0d58.chunk.js","mappings":"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","sources":["components/ui/skeleton.jsx","../node_modules/lucide-react/src/icons/list-plus.ts","../node_modules/lucide-react/src/icons/more-horizontal.ts","pages/MediaPlayer.jsx","../node_modules/lucide-react/src/icons/share-2.ts"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\n\nfunction Skeleton({ className, ...props }) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ListPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMTJIMyIgLz4KICA8cGF0aCBkPSJNMTYgNkgzIiAvPgogIDxwYXRoIGQ9Ik0xNiAxOEgzIiAvPgogIDxwYXRoIGQ9Ik0xOCA5djYiIC8+CiAgPHBhdGggZD0iTTIxIDEyaC02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/list-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ListPlus = createLucideIcon('ListPlus', [\n  ['path', { d: 'M11 12H3', key: '51ecnj' }],\n  ['path', { d: 'M16 6H3', key: '1wxfjs' }],\n  ['path', { d: 'M16 18H3', key: '12xzn7' }],\n  ['path', { d: 'M18 9v6', key: '1twb98' }],\n  ['path', { d: 'M21 12h-6', key: 'bt1uis' }],\n]);\n\nexport default ListPlus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MoreHorizontal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iNSIgY3k9IjEyIiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/more-horizontal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MoreHorizontal = createLucideIcon('MoreHorizontal', [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '19', cy: '12', r: '1', key: '1wjl8i' }],\n  ['circle', { cx: '5', cy: '12', r: '1', key: '1pcz8c' }],\n]);\n\nexport default MoreHorizontal;\n","import React, { useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport { motion } from 'framer-motion';\nimport {\n  Heart,\n  Share2,\n  MoreHorizontal,\n  ListPlus,\n  Download,\n  Clock,\n  Play,\n  Pause,\n  SkipBack,\n  SkipForward,\n  Repeat,\n  Repeat1,\n  Shuffle,\n  Volume2,\n  VolumeX,\n  ChevronDown,\n  Music,\n} from 'lucide-react';\nimport { publicApi } from '../services/api';\nimport { usePlayerStore, useLibraryStore, useAuthStore } from '../store';\nimport { Button } from '../components/ui/button';\nimport { Slider } from '../components/ui/slider';\nimport { Skeleton } from '../components/ui/skeleton';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n} from '../components/ui/dropdown-menu';\nimport { cn, formatDuration, formatDate } from '../lib/utils';\n\nexport default function MediaPlayer() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuthStore();\n  const {\n    currentTrack,\n    isPlaying,\n    progress,\n    duration,\n    volume,\n    isMuted,\n    repeatMode,\n    shuffleEnabled,\n    playTrack,\n    togglePlayPause,\n    seek,\n    setVolume,\n    toggleMute,\n    toggleRepeat,\n    toggleShuffle,\n    skipNext,\n    skipPrevious,\n  } = usePlayerStore();\n  const { isLiked, toggleLike, addToHistory } = useLibraryStore();\n\n  // Fetch media details\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['media', id],\n    queryFn: () => publicApi.getMediaById(id),\n    enabled: !!id,\n  });\n\n  const media = data?.data;\n\n  // Play media when loaded\n  useEffect(() => {\n    if (media && (!currentTrack || currentTrack.id !== media.id)) {\n      playTrack(media);\n      addToHistory(media);\n    }\n  }, [media?.id, currentTrack?.id, playTrack, addToHistory]);\n\n  const handleSeek = (value) => {\n    const time = (value[0] / 100) * duration;\n    seek(time);\n  };\n\n  const handleShare = async () => {\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: media?.title,\n          text: `Check out ${media?.title}`,\n          url: window.location.href,\n        });\n      } catch (err) {\n        // User cancelled or error\n      }\n    } else {\n      navigator.clipboard.writeText(window.location.href);\n    }\n  };\n\n  const progressPercent = duration > 0 ? (progress / duration) * 100 : 0;\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-lg text-muted-foreground mb-4\">\n            Failed to load media\n          </p>\n          <Button onClick={() => navigate(-1)}>Go Back</Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className={cn(\n        'min-h-screen flex flex-col',\n        media?.mediaType === 'video' ? 'bg-black' : 'bg-gradient-to-b from-card to-background'\n      )}\n    >\n      {/* Header */}\n      <header className=\"flex items-center justify-between p-4 z-10\">\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"text-white\"\n          onClick={() => navigate(-1)}\n        >\n          <ChevronDown className=\"h-6 w-6\" />\n        </Button>\n        <p className=\"text-sm text-white/70 truncate max-w-[200px]\">\n          Now Playing\n        </p>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" className=\"text-white\">\n              <MoreHorizontal className=\"h-5 w-5\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem onClick={handleShare}>\n              <Share2 className=\"h-4 w-4 mr-2\" />\n              Share\n            </DropdownMenuItem>\n            {user && (\n              <>\n                <DropdownMenuItem onClick={() => media && toggleLike(media)}>\n                  <Heart className=\"h-4 w-4 mr-2\" />\n                  {isLiked(media?.id) ? 'Remove from Favorites' : 'Add to Favorites'}\n                </DropdownMenuItem>\n                <DropdownMenuItem>\n                  <ListPlus className=\"h-4 w-4 mr-2\" />\n                  Add to Playlist\n                </DropdownMenuItem>\n              </>\n            )}\n            <DropdownMenuSeparator />\n            <DropdownMenuItem>\n              <Download className=\"h-4 w-4 mr-2\" />\n              Download\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </header>\n\n      {/* Main content */}\n      <div className=\"flex-1 flex flex-col items-center justify-center px-8 py-4\">\n        {isLoading ? (\n          <Skeleton className=\"w-72 h-72 rounded-lg\" />\n        ) : media?.mediaType === 'video' ? (\n          // Video player\n          <div className=\"relative w-full max-w-4xl aspect-video bg-black rounded-lg overflow-hidden\">\n            <video\n              src={media.streamUrl || media.fileUrl}\n              poster={media.thumbnailUrl}\n              className=\"w-full h-full\"\n              controls={false}\n            />\n          </div>\n        ) : (\n          // Audio artwork\n          <motion.div\n            initial={{ scale: 0.9, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            transition={{ type: 'spring', stiffness: 200 }}\n            className=\"relative\"\n          >\n            {media?.thumbnailUrl ? (\n              <img\n                src={media.thumbnailUrl}\n                alt={media.title}\n                className={cn(\n                  'w-72 h-72 rounded-lg shadow-2xl object-cover',\n                  isPlaying && 'animate-pulse'\n                )}\n              />\n            ) : (\n              <div className=\"w-72 h-72 rounded-lg bg-gradient-to-br from-primary/30 to-primary/10 flex items-center justify-center shadow-2xl\">\n                <Music className=\"h-24 w-24 text-primary/50\" />\n              </div>\n            )}\n          </motion.div>\n        )}\n\n        {/* Media info */}\n        <div className=\"mt-8 text-center w-full max-w-md\">\n          <h1 className=\"text-2xl font-bold text-white truncate\">\n            {isLoading ? <Skeleton className=\"h-8 w-48 mx-auto\" /> : media?.title}\n          </h1>\n          <p className=\"text-white/70 mt-2 truncate\">\n            {isLoading ? (\n              <Skeleton className=\"h-5 w-32 mx-auto\" />\n            ) : (\n              media?.artist || media?.description\n            )}\n          </p>\n        </div>\n\n        {/* Progress bar */}\n        <div className=\"w-full max-w-md mt-8\">\n          <Slider\n            value={[progressPercent]}\n            max={100}\n            step={0.1}\n            onValueChange={handleSeek}\n            className=\"cursor-pointer\"\n          />\n          <div className=\"flex justify-between mt-2 text-xs text-white/50\">\n            <span>{formatDuration(progress)}</span>\n            <span>{formatDuration(duration)}</span>\n          </div>\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex items-center justify-center gap-6 mt-6\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className={cn(\n              'text-white/70 hover:text-white',\n              shuffleEnabled && 'text-primary'\n            )}\n            onClick={toggleShuffle}\n          >\n            <Shuffle className=\"h-5 w-5\" />\n          </Button>\n\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"text-white hover:scale-110 transition-transform\"\n            onClick={skipPrevious}\n          >\n            <SkipBack className=\"h-6 w-6\" />\n          </Button>\n\n          <Button\n            size=\"icon\"\n            className=\"h-16 w-16 rounded-full bg-white text-black hover:scale-105 transition-transform\"\n            onClick={togglePlayPause}\n          >\n            {isPlaying ? (\n              <Pause className=\"h-8 w-8\" />\n            ) : (\n              <Play className=\"h-8 w-8 ml-1\" />\n            )}\n          </Button>\n\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"text-white hover:scale-110 transition-transform\"\n            onClick={skipNext}\n          >\n            <SkipForward className=\"h-6 w-6\" />\n          </Button>\n\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className={cn(\n              'text-white/70 hover:text-white',\n              repeatMode !== 'off' && 'text-primary'\n            )}\n            onClick={toggleRepeat}\n          >\n            {repeatMode === 'one' ? (\n              <Repeat1 className=\"h-5 w-5\" />\n            ) : (\n              <Repeat className=\"h-5 w-5\" />\n            )}\n          </Button>\n        </div>\n\n        {/* Volume and actions */}\n        <div className=\"flex items-center justify-between w-full max-w-md mt-8\">\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"text-white/70\"\n              onClick={toggleMute}\n            >\n              {isMuted || volume === 0 ? (\n                <VolumeX className=\"h-5 w-5\" />\n              ) : (\n                <Volume2 className=\"h-5 w-5\" />\n              )}\n            </Button>\n            <div className=\"w-24\">\n              <Slider\n                value={[isMuted ? 0 : volume * 100]}\n                max={100}\n                onValueChange={(v) => setVolume(v[0] / 100)}\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            {user && (\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"text-white/70\"\n                onClick={() => media && toggleLike(media)}\n              >\n                <Heart\n                  className={cn(\n                    'h-5 w-5',\n                    isLiked(media?.id) && 'fill-primary text-primary'\n                  )}\n                />\n              </Button>\n            )}\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"text-white/70\"\n              onClick={handleShare}\n            >\n              <Share2 className=\"h-5 w-5\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Media details */}\n        {media && (\n          <div className=\"mt-8 text-center text-white/50 text-sm\">\n            <p className=\"flex items-center justify-center gap-4\">\n              <span className=\"flex items-center gap-1\">\n                <Clock className=\"h-4 w-4\" />\n                {formatDuration(media.duration)}\n              </span>\n              {media.createdAt && (\n                <span>Added {formatDate(media.createdAt)}</span>\n              )}\n            </p>\n          </div>\n        )}\n      </div>\n    </motion.div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Share2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjUiIHI9IjMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTkiIHI9IjMiIC8+CiAgPGxpbmUgeDE9IjguNTkiIHgyPSIxNS40MiIgeTE9IjEzLjUxIiB5Mj0iMTcuNDkiIC8+CiAgPGxpbmUgeDE9IjE1LjQxIiB4Mj0iOC41OSIgeTE9IjYuNTEiIHkyPSIxMC40OSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/share-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Share2 = createLucideIcon('Share2', [\n  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],\n  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],\n  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],\n  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],\n  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],\n]);\n\nexport default Share2;\n"],"names":["Skeleton","_ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","ListPlus","createLucideIcon","d","key","MoreHorizontal","cx","cy","r","MediaPlayer","id","useParams","navigate","useNavigate","user","useAuthStore","currentTrack","isPlaying","progress","duration","volume","isMuted","repeatMode","shuffleEnabled","playTrack","togglePlayPause","seek","setVolume","toggleMute","toggleRepeat","toggleShuffle","skipNext","skipPrevious","usePlayerStore","isLiked","toggleLike","addToHistory","useLibraryStore","data","isLoading","error","useQuery","queryKey","queryFn","publicApi","getMediaById","enabled","media","useEffect","handleShare","async","navigator","share","title","text","concat","url","window","location","href","err","clipboard","writeText","progressPercent","children","_jsxs","Button","onClick","motion","div","initial","opacity","animate","exit","mediaType","variant","size","ChevronDown","DropdownMenu","DropdownMenuTrigger","asChild","DropdownMenuContent","align","DropdownMenuItem","Share2","_Fragment","Heart","DropdownMenuSeparator","Download","src","streamUrl","fileUrl","poster","thumbnailUrl","controls","scale","transition","type","stiffness","alt","Music","artist","description","Slider","value","max","step","onValueChange","time","formatDuration","Shuffle","SkipBack","Pause","Play","SkipForward","Repeat1","Repeat","VolumeX","Volume2","v","Clock","createdAt","formatDate","x1","x2","y1","y2"],"ignoreList":[],"sourceRoot":""}