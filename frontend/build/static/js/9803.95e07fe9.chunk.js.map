{"version":3,"file":"static/js/9803.95e07fe9.chunk.js","mappings":"2NAGMA,EAAWC,EAAAA,WAAiB,CAAAC,EAA0BC,KAAS,IAAlC,UAAEC,GAAqBF,EAAPG,GAAKC,EAAAA,EAAAA,GAAAJ,EAAAK,GACtD,OACEC,EAAAA,EAAAA,KAAA,YAAAC,EAAAA,EAAAA,GAAA,CACEL,WAAWM,EAAAA,EAAAA,IACT,uSACAN,GAEFD,IAAKA,GACDE,MAIVL,EAASW,YAAc,U,2LCXjBC,EAAOC,EAAAA,GAEPC,EAAWb,EAAAA,WAAiB,CAAAC,EAA0BC,KAAG,IAA5B,UAAEC,GAAqBF,EAAPG,GAAKC,EAAAA,EAAAA,GAAAJ,EAAAK,GAAA,OACtDC,EAAAA,EAAAA,KAACK,EAAAA,IAAkBJ,EAAAA,EAAAA,GAAA,CACjBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,6FACAN,IAEEC,MAGRS,EAASH,YAAcE,EAAAA,GAAmBF,YAE1C,MAAMI,EAAcd,EAAAA,WAAiB,CAAAe,EAA0Bb,KAAG,IAA5B,UAAEC,GAAqBY,EAAPX,GAAKC,EAAAA,EAAAA,GAAAU,EAAAC,GAAA,OACzDT,EAAAA,EAAAA,KAACK,EAAAA,IAAqBJ,EAAAA,EAAAA,GAAA,CACpBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,sYACAN,IAEEC,MAGRU,EAAYJ,YAAcE,EAAAA,GAAsBF,YAEhD,MAAMO,EAAcjB,EAAAA,WAAiB,CAAAkB,EAA0BhB,KAAG,IAA5B,UAAEC,GAAqBe,EAAPd,GAAKC,EAAAA,EAAAA,GAAAa,EAAAC,GAAA,OACzDZ,EAAAA,EAAAA,KAACK,EAAAA,IAAqBJ,EAAAA,EAAAA,GAAA,CACpBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,kIACAN,IAEEC,MAGRa,EAAYP,YAAcE,EAAAA,GAAsBF,W,oHCrChD,SAASU,EAAQnB,GAA2B,IAA1B,UAAEE,GAAqBF,EAAPG,GAAKC,EAAAA,EAAAA,GAAAJ,EAAAK,GACrC,OACEC,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEL,WAAWM,EAAAA,EAAAA,IAAG,oCAAqCN,IAC/CC,GAGV,C,ujBC0BA,MAAMiB,EAAeC,gDAGfC,EAAeC,IACnB,OAAQA,GACN,IAAK,QACH,OAAOC,EAAAA,EACT,IAAK,QACH,OAAOC,EAAAA,EACT,IAAK,QACH,OAAOC,EAAAA,EACT,IAAK,WACH,OAAOC,EAAAA,EACT,IAAK,SACH,OAAOC,EAAAA,EACT,QACE,OAAOC,EAAAA,IAKPC,EAAkBC,IACtB,IAAKA,EAAO,MAAO,MACnB,MAEMC,EAAIC,KAAKC,MAAMD,KAAKE,IAAIJ,GAASE,KAAKE,IAFlC,OAGV,MAAM,GAANC,QAAWL,EAAQE,KAAKI,IAHd,KAGqBL,IAAIM,QAAQ,GAAE,KAAAF,OAF/B,CAAC,IAAK,KAAM,KAAM,MAEuBJ,KAgBlD,SAASO,EAAevC,GAQ3B,IAR4B,KAC9BwC,EAAI,aACJC,EAAY,SACZC,EAAQ,YACRC,GAAc,EAAI,aAClBC,EAAe,KAAI,MACnBC,EAAQ,eAAc,YACtBC,EAAc,uCACf9C,EACC,MAAO+C,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAAYC,IAAiBF,EAAAA,EAAAA,UAAS,QACtCG,EAAaC,IAAkBJ,EAAAA,EAAAA,UAAS,KACxCK,EAAeC,IAAoBN,EAAAA,EAAAA,UAAS,KAG3CO,KAAMC,EAAS,UAAEC,IAAcC,EAAAA,EAAAA,GAAS,CAC9CC,SAAU,CAAC,cAAeb,EAAaG,GACvCW,QAASC,UACP,MAAMC,EAAQC,aAAaC,QAAQ,eAKnC,aAJuBC,EAAAA,EAAMC,IAAI,GAAD/B,OAAIhB,EAAY,cAAc,CAC5DgD,OAAQ,CAAEC,IAAKtB,EAAaxB,KAAM2B,GAClCoB,QAAS,CAAEC,cAAc,UAADnC,OAAY2B,OAEtBP,MAElBgB,QAAShC,IAMLiC,IAHiB,OAAThB,QAAS,IAATA,OAAS,EAATA,EAAWD,OAAQ,IAGLkB,OAAOC,KAE7BA,EAAKC,gBAGLhC,GAAgBA,EAAaiC,OAAS,IACjCjC,EAAakC,SAASH,EAAKpD,QAInCmD,OAAOC,IAEJvB,GACKuB,EAAKI,KAAKC,cAAcF,SAAS1B,EAAY4B,gBAKlDC,EAAuBN,IACvBA,EAAKC,YACP5B,EAAe2B,EAAKO,MAKpB3B,EADEZ,EACewC,GACAA,EAAKC,KAAKC,GAAKA,EAAEC,KAAOX,EAAKW,IAEnCH,EAAKT,OAAOW,GAAKA,EAAEC,KAAOX,EAAKW,IAE/B,IAAIH,EAAMR,GAIJ,CAACA,KAmBhBY,EAAcxC,EAChBA,EAAYyC,MAAM,KAAKd,OAAOe,SAC9B,GAEJ,OACEnF,EAAAA,EAAAA,KAACoF,EAAAA,GAAM,CAAClD,KAAMA,EAAMC,aAAcA,EAAakD,UAC7CC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAC3F,UAAU,yBAAwByF,SAAA,EAC/CC,EAAAA,EAAAA,MAACE,EAAAA,GAAY,CAAAH,SAAA,EACXrF,EAAAA,EAAAA,KAACyF,EAAAA,GAAW,CAAAJ,SAAE9C,KACdvC,EAAAA,EAAAA,KAAC0F,EAAAA,GAAiB,CAAAL,SAAE7C,QAItB8C,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,aAAYyF,SAAA,EACzBC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,kBAAiByF,SAAA,EAC9BrF,EAAAA,EAAAA,KAAC2F,EAAAA,EAAM,CAAC/F,UAAU,4EAClBI,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJC,YAAY,kBACZC,MAAOhD,EACPiD,SAAWC,GAAMjD,EAAeiD,EAAEC,OAAOH,OACzClG,UAAU,cAGd0F,EAAAA,EAAAA,MAACY,EAAAA,GAAM,CAACJ,MAAOlD,EAAYuD,cAAetD,EAAcwC,SAAA,EACtDrF,EAAAA,EAAAA,KAACoG,EAAAA,GAAa,CAACxG,UAAU,YAAWyF,UAClCrF,EAAAA,EAAAA,KAACqG,EAAAA,GAAW,OAEdf,EAAAA,EAAAA,MAACgB,EAAAA,GAAa,CAAAjB,SAAA,EACZrF,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAACT,MAAM,MAAKT,SAAC,eACxBrF,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAACT,MAAM,QAAOT,SAAC,YAC1BrF,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAACT,MAAM,QAAOT,SAAC,WAC1BrF,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAACT,MAAM,WAAUT,SAAC,eAC7BrF,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAACT,MAAM,QAAOT,SAAC,YAC1BrF,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAACT,MAAM,MAAKT,SAAC,kBAM9BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,kCAAiCyF,SAAA,EAC9CrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,QACRC,KAAK,KACLC,QAASA,IAAMjE,EAAe,IAC9B9C,WAAWM,EAAAA,EAAAA,KAAIuC,GAAe,iBAAiB4C,SAChD,SAGAJ,EAAY2B,IAAI,CAACC,EAAMC,KACtBxB,EAAAA,EAAAA,MAAC7F,EAAAA,SAAc,CAAA4F,SAAA,EACbrF,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,wBAAuByF,SAAC,OACxCrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,QACRC,KAAK,KACLC,QAASA,IAAMjE,EAAeuC,EAAY8B,MAAM,EAAGD,EAAQ,GAAGE,KAAK,MACnEpH,WAAWM,EAAAA,EAAAA,IAAG4G,IAAU7B,EAAYV,OAAS,GAAK,iBAAiBc,SAElEwB,MARgBC,OAexB9D,EAAcuB,OAAS,IACtBe,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,uDAAsDyF,SAAA,EACnErF,EAAAA,EAAAA,KAACiH,EAAAA,EAAK,CAACrH,UAAU,0BACjB0F,EAAAA,EAAAA,MAAA,QAAM1F,UAAU,sBAAqByF,SAAA,CAClCrC,EAAcuB,OAAO,QAAMvB,EAAcuB,OAAS,EAAI,IAAM,GAAG,mBAMtEvE,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,kDAAiDyF,SAC7DjC,GACCpD,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,uCAAsCyF,UACnDrF,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACtH,UAAU,wCAEM,IAAzBuE,EAAcI,QAChBe,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,4DAA2DyF,SAAA,EACxErF,EAAAA,EAAAA,KAACsB,EAAAA,EAAM,CAAC1B,UAAU,0CAClBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,gCAA+ByF,SACzCvC,EAAc,iBAAmB,6BAItC9C,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,gBAAeyF,SAC3BlB,EAAcyC,IAAKvC,IAClB,MAAM8C,EAAOnG,EAAYqD,EAAKpD,MACxBmG,EAAapE,EAAc8B,KAAKC,GAAKA,EAAEC,KAAOX,EAAKW,IAEzD,OACEM,EAAAA,EAAAA,MAAA,OAEE1F,WAAWM,EAAAA,EAAAA,IACT,yGACAkH,GAAc,+BAEhBT,QAASA,IAAMhC,EAAoBN,GAAMgB,SAAA,EAEvChB,EAAKC,cACLtE,EAAAA,EAAAA,KAACqH,EAAAA,EAAQ,CACPC,UAAWF,EACXG,gBAAiBA,IAAM5C,EAAoBN,GAC3CsC,QAAUX,GAAMA,EAAEwB,qBAGtBxH,EAAAA,EAAAA,KAACmH,EAAI,CAACvH,WAAWM,EAAAA,EAAAA,IACf,UACc,UAAdmE,EAAKpD,MAAoB,gBACX,UAAdoD,EAAKpD,MAAoB,kBACX,UAAdoD,EAAKpD,MAAoB,iBACX,aAAdoD,EAAKpD,MAAuB,kBACd,WAAdoD,EAAKpD,MAAqB,sBAE5BqE,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BrF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,+BAA8ByF,SAAEhB,EAAKI,QAClDzE,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,gCAA+ByF,SACzChB,EAAKC,YAAW,GAAAxC,OAAMuC,EAAKoD,WAAa,EAAC,UAAWjG,EAAe6C,EAAKqC,YAG7E1G,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAQ,YAAY7G,UAAU,UAASyF,SAC3ChB,EAAKpD,SA7BHoD,EAAKW,WAsCtBM,EAAAA,EAAAA,MAACqC,EAAAA,GAAY,CAAAtC,SAAA,EACXrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQE,QA7IXiB,KACnB3E,EAAiB,IACjBP,EAAe,IACfK,EAAe,IACfZ,GAAa,IAyIuCkD,SAAC,YAG/CC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACG,QAvJMkB,KACpBzF,EAASY,GACTC,EAAiB,IACjBP,EAAe,IACfK,EAAe,KAmJuB+E,SAAmC,IAAzB9E,EAAcuB,OAAac,SAAA,CAAC,UAC5DrC,EAAcuB,OAAS,GAAC,IAAAzC,OAAQkB,EAAcuB,OAAM,eAMxE,CCpPA,MAAMzD,GAAeC,gDAEfgH,GAAc,CAClB,CAAEjC,MAAO,QAASkC,MAAO,SACzB,CAAElC,MAAO,SAAUkC,MAAO,UAC1B,CAAElC,MAAO,KAAMkC,MAAO,MACtB,CAAElC,MAAO,cAAekC,MAAO,eAC/B,CAAElC,MAAO,YAAakC,MAAO,aAC7B,CAAElC,MAAO,UAAWkC,MAAO,mBAGd,SAASC,KACtB,MAAM,SAAEC,IAAaC,EAAAA,EAAAA,KACfC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,OACd,SAAEC,IAAaC,EAAAA,EAAAA,OACf,UAAEC,EAAS,SAAEC,IAAaC,EAAAA,EAAAA,OAGzBC,EAAWC,IAAgBnG,EAAAA,EAAAA,UAAS,WACpCoG,EAAoBC,IAAyBrG,EAAAA,EAAAA,WAAS,IACtDsG,EAAqBC,IAA0BvG,EAAAA,EAAAA,WAAS,IACxDwG,GAAuBC,KAA4BzG,EAAAA,EAAAA,WAAS,IAC5D0G,GAAuBC,KAA4B3G,EAAAA,EAAAA,WAAS,IAC5D4G,GAAuBC,KAA4B7G,EAAAA,EAAAA,WAAS,IAC5D8G,GAAsBC,KAA2B/G,EAAAA,EAAAA,WAAS,IAC1DgH,GAAwBC,KAA6BjH,EAAAA,EAAAA,WAAS,IAC9DkH,GAAeC,KAAoBnH,EAAAA,EAAAA,UAAS,OAC5CoH,GAAkBC,KAAuBrH,EAAAA,EAAAA,UAAS,KAClDsH,GAAgBC,KAAqBvH,EAAAA,EAAAA,UAAS,aAC9CK,GAAeC,KAAoBN,EAAAA,EAAAA,UAAS,KAC5CwH,GAAuBC,KAA4BzH,EAAAA,EAAAA,UAAS,CAAC,IAC7D0H,GAAiBC,KAAsB3H,EAAAA,EAAAA,WAAS,IAEhD4H,GAAWC,KAAgB7H,EAAAA,EAAAA,UAAS,CACzCJ,MAAO,GACPC,YAAa,GACbiI,WAAY,GACZC,YAAa,GACbC,MAAO,GACP1J,KAAM,WAGD2J,GAAYC,KAAiBlI,EAAAA,EAAAA,UAAS,CAC3C8B,KAAM,GACNqG,IAAK,GACLH,MAAO,GACPI,MAAO,GACPC,QAAS,MAIH9H,KAAM+H,GAAY7H,UAAW8H,KAAkB7H,EAAAA,EAAAA,GAAS,CAC9DC,SAAU,CAAC,SAAU4E,GACrB3E,QAASA,IAAM4H,EAAAA,GAAUC,cAAclD,GACvChE,UAAWgE,KAILhF,KAAMmI,GAAYjI,UAAWkI,KAAkBjI,EAAAA,EAAAA,GAAS,CAC9DC,SAAU,CAAC,gBAAiB4E,GAC5B3E,QAASA,IAAM4H,EAAAA,GAAUI,gBAAgBrD,GACzChE,UAAWgE,KAILhF,KAAMsI,GAAiBpI,UAAWqI,KAAiBpI,EAAAA,EAAAA,GAAS,CAClEC,SAAU,CAAC,eAAgB4E,GAC3B3E,QAASA,IAAM4H,EAAAA,GAAUO,eAAexD,GACxChE,UAAWgE,KAILhF,KAAMyI,KAAiBtI,EAAAA,EAAAA,GAAS,CACtCC,SAAU,CAAC,eACXC,QAASA,IAAM4H,EAAAA,GAAUS,SAAS,CAAEC,MAAO,QAGvCC,GAAmB,OAAVb,SAAU,IAAVA,QAAU,EAAVA,GAAY/H,KACrB6I,IAAeC,EAAAA,EAAAA,SAAQ,KAAgB,OAAVX,SAAU,IAAVA,QAAU,EAAVA,GAAYnI,OAAQ,GAAI,CAAW,OAAVmI,SAAU,IAAVA,QAAU,EAAVA,GAAYnI,OAClE+I,IAAcD,EAAAA,EAAAA,SAAQ,KAAqB,OAAfR,SAAe,IAAfA,QAAe,EAAfA,GAAiBtI,OAAQ,GAAI,CAAgB,OAAfsI,SAAe,IAAfA,QAAe,EAAfA,GAAiBtI,OAC3EgJ,IAAWF,EAAAA,EAAAA,SAAQ,KAAkB,OAAZL,SAAY,IAAZA,QAAY,EAAZA,GAAczI,OAAQ,GAAI,CAAa,OAAZyI,SAAY,IAAZA,QAAY,EAAZA,GAAczI,QAGjEiJ,GAAkBC,KAAuBzJ,EAAAA,EAAAA,UAAS,CAAC,GAGpD0J,IAAkBL,EAAAA,EAAAA,SAAQ,KAC9B,MAAMM,EAAc,IAAIC,IAKxB,OAJAR,GAAaS,QAASC,KACLN,GAAiBM,EAAMzH,KAAO,IACtCwH,QAASE,GAAMJ,EAAYK,IAAID,EAAE1H,OAEnCkH,GAAS9H,OAAQwI,IAAON,EAAYO,IAAID,EAAE5H,MAChD,CAACkH,GAAUH,GAAcI,KAGtBW,GAAmBtJ,UACvB,GAAI2I,GAAiBY,GAAU,OAAOZ,GAAiBY,GACvD,IACE,MAAMC,QAAiB7B,EAAAA,GAAU8B,cAAcF,GACzCG,GAAiB,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAU9J,OAAQ,GAEjC,OADAkJ,GAAqBvH,IAAI5E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW4E,GAAI,IAAE,CAACkI,GAAUG,KAC9CA,CACT,CAAE,MAAOC,GAEP,OADAC,QAAQD,MAAM,gCAAiCA,GACxC,EACT,GAIIE,IAAsBC,EAAAA,EAAAA,GAAY,CACtCC,WAAarK,GAASsK,EAAAA,GAASC,aAAWxN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIiD,GAAI,IAAEgF,cACtDwF,UAAWA,KACTpF,EAAYqF,kBAAkB,CAAC,gBAAiBzF,IAChDc,GAAsB,GACtBwB,GAAa,CAAEjI,MAAO,GAAIC,YAAa,GAAIiI,WAAY,GAAIC,YAAa,GAAIC,MAAO,GAAI1J,KAAM,UAC7FuH,EAAS,CAAEoF,QAAS,6BAA8B3M,KAAM,aAE1D4M,QAAUV,IAAW,IAADW,EAAAC,EAClBvF,EAAS,CAAEoF,SAAuB,QAAdE,EAAAX,EAAMH,gBAAQ,IAAAc,GAAM,QAANC,EAAdD,EAAgB5K,YAAI,IAAA6K,OAAN,EAAdA,EAAsBH,UAAW,yBAA0B3M,KAAM,aAKnF+M,IAAsBV,EAAAA,EAAAA,GAAY,CACtCC,WAAY7N,IAAA,IAAC,GAAEsF,EAAE,KAAE9B,GAAMxD,EAAA,OAAK8N,EAAAA,GAASS,YAAYjJ,EAAI9B,IACvDwK,UAAWA,KACTpF,EAAYqF,kBAAkB,CAAC,gBAAiBzF,IAChDgB,GAAuB,GACvBY,GAAiB,MACjBtB,EAAS,CAAEoF,QAAS,6BAA8B3M,KAAM,aAE1D4M,QAAUV,IAAW,IAADe,EAAAC,EAClB3F,EAAS,CAAEoF,SAAuB,QAAdM,EAAAf,EAAMH,gBAAQ,IAAAkB,GAAM,QAANC,EAAdD,EAAgBhL,YAAI,IAAAiL,OAAN,EAAdA,EAAsBP,UAAW,yBAA0B3M,KAAM,aAKnFmN,IAAsBd,EAAAA,EAAAA,GAAY,CACtCC,WAAavI,GAAOwI,EAAAA,GAASa,YAAYrJ,GACzC0I,UAAWA,KACTpF,EAAYqF,kBAAkB,CAAC,gBAAiBzF,IAChDI,EAAYqF,kBAAkB,CAAC,eAAgBzF,IAC/CkB,IAAyB,GACzBU,GAAiB,MACjBtB,EAAS,CAAEoF,QAAS,6BAA8B3M,KAAM,aAE1D4M,QAAUV,IAAW,IAADmB,EAAAC,EAClB/F,EAAS,CAAEoF,SAAuB,QAAdU,EAAAnB,EAAMH,gBAAQ,IAAAsB,GAAM,QAANC,EAAdD,EAAgBpL,YAAI,IAAAqL,OAAN,EAAdA,EAAsBX,UAAW,yBAA0B3M,KAAM,aAKnFuN,IAAuBlB,EAAAA,EAAAA,GAAY,CACvCC,WAAarK,GAASsK,EAAAA,GAASiB,aAAavG,EAAUhF,GACtDwK,UAAWA,KACTpF,EAAYqF,kBAAkB,CAAC,SAAUzF,IACzCI,EAAYqF,kBAAkB,CAAC,YAC/BjE,IAAwB,GACxBlB,EAAS,CAAEoF,QAAS,8BAA+B3M,KAAM,aAE3D4M,QAAUV,IAAW,IAADuB,EAAAC,EAClBnG,EAAS,CAAEoF,SAAuB,QAAdc,EAAAvB,EAAMH,gBAAQ,IAAA0B,GAAM,QAANC,EAAdD,EAAgBxL,YAAI,IAAAyL,OAAN,EAAdA,EAAsBf,UAAW,0BAA2B3M,KAAM,aAKpF2N,IAAuBtB,EAAAA,EAAAA,GAAY,CACvCC,WAAYA,IAAMC,EAAAA,GAASqB,aAAa3G,GAAU,GAClDwF,UAAWA,KACTpF,EAAYqF,kBAAkB,CAAC,YAC/BvF,EAAS,kBACTI,EAAS,CAAEoF,QAAS,8BAA+B3M,KAAM,aAE3D4M,QAAUV,IAAW,IAAD2B,EAAAC,EAClBvG,EAAS,CAAEoF,SAAuB,QAAdkB,EAAA3B,EAAMH,gBAAQ,IAAA8B,GAAM,QAANC,EAAdD,EAAgB5L,YAAI,IAAA6L,OAAN,EAAdA,EAAsBnB,UAAW,0BAA2B3M,KAAM,aAKpF+N,IAA0B1B,EAAAA,EAAAA,GAAY,CAC1CC,WAAY/M,IAAA,IAAC,QAAEuM,EAAO,QAAEkC,EAAO,YAAEC,GAAa1O,EAAA,OAAKgN,EAAAA,GAAS2B,gBAAgBpC,EAASkC,EAASC,IAC9FxB,UAAWA,CAAC0B,EAAGC,KACb/G,EAAYqF,kBAAkB,CAAC,cAAe0B,EAAUtC,UACxDzE,EAAYqF,kBAAkB,CAAC,eAAgBzF,IAE/CkE,GAAqBvH,IACnB,MAAMyK,GAAQrP,EAAAA,EAAAA,GAAA,GAAQ4E,GAEtB,cADOyK,EAASD,EAAUtC,SACnBuC,KAGXzB,QAAUV,IAAW,IAADoC,EAAAC,EAClBhH,EAAS,CAAEoF,SAAuB,QAAd2B,EAAApC,EAAMH,gBAAQ,IAAAuC,GAAM,QAANC,EAAdD,EAAgBrM,YAAI,IAAAsM,OAAN,EAAdA,EAAsB5B,UAAW,sBAAuB3M,KAAM,aAKhFwO,IAA+BnC,EAAAA,EAAAA,GAAY,CAC/CC,WAAY5M,IAAA,IAAC,QAAEoM,EAAO,QAAEkC,GAAStO,EAAA,OAAK6M,EAAAA,GAASkC,qBAAqB3C,EAASkC,IAC7EvB,UAAWA,CAAC0B,EAAGC,KACb/G,EAAYqF,kBAAkB,CAAC,cAAe0B,EAAUtC,UACxDzE,EAAYqF,kBAAkB,CAAC,eAAgBzF,IAE/CkE,GAAqBvH,IACnB,MAAMyK,GAAQrP,EAAAA,EAAAA,GAAA,GAAQ4E,GAEtB,cADOyK,EAASD,EAAUtC,SACnBuC,IAET9G,EAAS,CAAEoF,QAAS,2BAA4B3M,KAAM,aAExD4M,QAAUV,IAAW,IAADwC,EAAAC,EAClBpH,EAAS,CAAEoF,SAAuB,QAAd+B,EAAAxC,EAAMH,gBAAQ,IAAA2C,GAAM,QAANC,EAAdD,EAAgBzM,YAAI,IAAA0M,OAAN,EAAdA,EAAsBhC,UAAW,yBAA0B3M,KAAM,aAKnF4O,IAAwBvC,EAAAA,EAAAA,GAAY,CACxCC,WAAYuC,IAAA,IAAC,QAAE/C,EAAO,OAAEG,GAAQ4C,EAAA,OAAKtC,EAAAA,GAASuC,mBAAmBhD,EAASG,IAC1EQ,UAAWA,CAAC0B,EAAGC,KAEbjD,GAAqBvH,IACnB,MAAMyK,GAAQrP,EAAAA,EAAAA,GAAA,GAAQ4E,GAEtB,cADOyK,EAASD,EAAUtC,SACnBuC,KAGXzB,QAAUV,IAAW,IAAD6C,EAAAC,EAClBzH,EAAS,CAAEoF,SAAuB,QAAdoC,EAAA7C,EAAMH,gBAAQ,IAAAgD,GAAM,QAANC,EAAdD,EAAgB9M,YAAI,IAAA+M,OAAN,EAAdA,EAAsBrC,UAAW,2BAA4B3M,KAAM,aAI3F,GAAIiK,GACF,OACElL,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWyF,UACxBC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,yBAAwByF,SAAA,EACrCrF,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,eACpB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,oBAAmByF,SAAA,EAChCrF,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,0BACpB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,mBAAkByF,SAAA,EAC/BrF,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,eACpBI,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,cACpBI,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,oCAQhC,IAAKkM,GACH,OACExG,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,oBAAmByF,SAAA,EAChCrF,EAAAA,EAAAA,KAACkQ,EAAAA,EAAI,CAACtQ,UAAU,kDAChBI,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,6BAA4ByF,SAAC,sBAC3CrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAAC2J,SAAO,EAAA9K,UACbrF,EAAAA,EAAAA,KAACoQ,EAAAA,GAAI,CAACC,GAAG,iBAAgBhL,SAAC,yBAOlC,MAAMiL,GAAiBA,KACrB9F,GAAa,CACXjI,MAAO,GACPC,YAAa,GACbiI,WAAY,GACZC,YAAa,GACbC,MAAOmB,GAAOnB,OAAS,GACvB1J,KAAM,UAER+H,GAAsB,IAGlBuH,GAAmB9D,IAAW,IAAD+D,EACjC1G,GAAiB2C,GACjBjC,GAAa,CACXjI,MAAOkK,EAAMlK,MACbC,YAAaiK,EAAMjK,aAAe,GAClCiI,WAAYgC,EAAMhC,YAAc,GAChCC,aAA8B,QAAjB8F,EAAA/D,EAAM/B,mBAAW,IAAA8F,OAAA,EAAjBA,EAAmBtL,MAAM,KAAK,KAAM,GACjDyF,MAAO8B,EAAM9B,OAAS,GACtB1J,KAAMwL,EAAMxL,MAAQ,UAEtBiI,GAAuB,IAGnBuH,GAAqBhE,IACzB3C,GAAiB2C,GACjBrD,IAAyB,IAwBrBsH,GAAqBjE,IACzB3C,GAAiB2C,GACjBzC,GAAoB,IACpBV,IAAyB,IAGrBqH,GAAwB1B,IAC5BjF,GAAqBnF,GACnBA,EAAKL,SAASyK,GACVpK,EAAKT,OAAQY,GAAOA,IAAOiK,GAC3B,IAAIpK,EAAMoK,KAiDZ2B,GAAgBpN,MAAOqN,EAAQ9D,EAAS+D,KAC5C,IAAKD,EAAOE,YAAa,OAEzB,MAAMC,EAAYC,MAAMC,KAAKJ,IACtBK,GAAWH,EAAUI,OAAOP,EAAOQ,OAAOvK,MAAO,GACxDkK,EAAUI,OAAOP,EAAOE,YAAYjK,MAAO,EAAGqK,GAG9C/E,GAAqBvH,IAAI5E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW4E,GAAI,IAAE,CAACkI,GAAUiE,KAGrD,MAAM9D,EAAS8D,EAAUpK,IAAI,CAAC0K,EAAOxK,KAAK,CACxCmI,QAASqC,EAAMtM,GACfkK,YAAapI,EAAQ,WAGjB+I,GAAsB0B,YAAY,CAAExE,UAASG,YA8I/CsE,GAAkBhO,UACtB,IAAI0J,EAASf,GAAiBM,EAAMzH,IAC/BkI,IACHA,QAAeJ,GAAiBL,EAAMzH,KAEpCkI,EAAO3I,OAAS,IAClBoE,EAASuE,EAAQ,GACjBxE,EAAUwE,EAAO,GAAIA,KAInBuE,GAAkBA,CAACH,EAAOI,KAC9BhJ,EAAU4I,EAAOI,IAGnB,OACEpM,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EAExBC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,yBAAwByF,SAAA,EACrCrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQC,KAAK,OAAOyJ,SAAO,EAAA9K,UACzCrF,EAAAA,EAAAA,KAACoQ,EAAAA,GAAI,CAACC,GAAG,iBAAgBhL,UACvBrF,EAAAA,EAAAA,KAAC2R,EAAAA,EAAS,CAAC/R,UAAU,iBAIzB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,yCAAwCyF,SAAA,EAErDrF,EAAAA,EAAAA,KAAA,OACEJ,WAAWM,EAAAA,EAAAA,IACT,iEACC4L,GAAOf,OAAK,qBAAAjJ,QAAyB8P,EAAAA,EAAAA,IAAiB9F,GAAO9G,MAC9DK,SAEDyG,GAAOf,OACN/K,EAAAA,EAAAA,KAAA,OACE6R,IAAK/F,GAAOf,MACZ+G,IAAKhG,GAAOrH,KACZ7E,UAAU,gCAGZI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,iDAAgDyF,UAC7DrF,EAAAA,EAAAA,KAACkQ,EAAAA,EAAI,CAACtQ,UAAU,iCAMtB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,yCAAwCyF,SAAA,EACrDC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACErF,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,qBAAoByF,SAAEyG,GAAOrH,QAC3Ca,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,+BAA8ByF,SAAA,CAC1CyG,GAAOnB,QAAS3K,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAQ,YAAWpB,SAAEyG,GAAOnB,SACpDrF,EAAAA,EAAAA,MAAA,QAAM1F,UAAU,wBAAuByF,SAAA,CACpC0G,GAAaxH,OAAO,kBAAWuH,GAAOiG,YAAc9F,GAAY1H,OAAO,oBAI9Ee,EAAAA,EAAAA,MAAC0M,EAAAA,GAAY,CAAA3M,SAAA,EACXrF,EAAAA,EAAAA,KAACiS,EAAAA,GAAmB,CAAC9B,SAAO,EAAA9K,UAC1BrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,UAAUC,KAAK,OAAMrB,UACnCrF,EAAAA,EAAAA,KAACkS,EAAAA,EAAc,CAACtS,UAAU,iBAG9B0F,EAAAA,EAAAA,MAAC6M,EAAAA,GAAmB,CAACC,MAAM,MAAK/M,SAAA,EAC9BC,EAAAA,EAAAA,MAAC+M,EAAAA,GAAgB,CAAC1L,QA3MT2L,KACvBzH,GAAc,CACZpG,KAAMqH,GAAOrH,KACbqG,IAAKgB,GAAOhB,KAAO,GACnBH,MAAOmB,GAAOnB,OAAS,GACvBI,MAAOe,GAAOf,OAAS,GACvBC,QAASc,GAAOd,SAAW,KAE7BtB,IAAwB,IAmMkCrE,SAAA,EAC1CrF,EAAAA,EAAAA,KAACuS,EAAAA,EAAI,CAAC3S,UAAU,iBAAiB,iBAGlCkM,GAAOd,UACNhL,EAAAA,EAAAA,KAACqS,EAAAA,GAAgB,CAAClC,SAAO,EAAA9K,UACvBC,EAAAA,EAAAA,MAAA,KAAGkN,KAAM1G,GAAOd,QAAS/E,OAAO,SAASwM,IAAI,sBAAqBpN,SAAA,EAChErF,EAAAA,EAAAA,KAAC0S,EAAAA,EAAY,CAAC9S,UAAU,iBAAiB,sBAK/CI,EAAAA,EAAAA,KAAC2S,EAAAA,GAAqB,KACtBrN,EAAAA,EAAAA,MAAC+M,EAAAA,GAAgB,CACf1L,QAASA,IAAMiD,IAA0B,GACzChK,UAAU,mBAAkByF,SAAA,EAE5BrF,EAAAA,EAAAA,KAAC4S,EAAAA,EAAM,CAAChT,UAAU,iBAAiB,4BAM1CkM,GAAOhB,MACN9K,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0CAAyCyF,SAAEyG,GAAOhB,gBAOvExF,EAAAA,EAAAA,MAAClF,EAAAA,GAAI,CAAC0F,MAAO+C,EAAW1C,cAAe2C,EAAazD,SAAA,EAClDC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,oCAAmCyF,SAAA,EAChDC,EAAAA,EAAAA,MAAChF,EAAAA,GAAQ,CAAA+E,SAAA,EACPrF,EAAAA,EAAAA,KAACO,EAAAA,GAAW,CAACuF,MAAM,SAAQT,SAAC,YAC5BrF,EAAAA,EAAAA,KAACO,EAAAA,GAAW,CAACuF,MAAM,SAAQT,SAAC,kBAEf,WAAdwD,IACCvD,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACG,QAAS2J,GAAejL,SAAA,EAC9BrF,EAAAA,EAAAA,KAAC6S,EAAAA,EAAI,CAACjT,UAAU,iBAAiB,mBAOvCI,EAAAA,EAAAA,KAACU,EAAAA,GAAW,CAACoF,MAAM,SAASlG,UAAU,YAAWyF,SAC9CiG,IACCtL,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWyF,SACvB4L,MAAMC,KAAK,CAAE3M,OAAQ,IAAKqC,IAAI,CAACwI,EAAG1N,KACjC1B,EAAAA,EAAAA,KAAC8S,EAAAA,GAAI,CAAAzN,UACHrF,EAAAA,EAAAA,KAAC+S,EAAAA,GAAW,CAACnT,UAAU,MAAKyF,UAC1BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,aAAYyF,SAAA,EACzBrF,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,0BACpB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,mBAAkByF,SAAA,EAC/BrF,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,cACpBI,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAACjB,UAAU,sBANjB8B,MAaW,IAAxBqK,GAAaxH,QACfvE,EAAAA,EAAAA,KAAC8S,EAAAA,GAAI,CAAAzN,UACHC,EAAAA,EAAAA,MAACyN,EAAAA,GAAW,CAACnT,UAAU,oBAAmByF,SAAA,EACxCrF,EAAAA,EAAAA,KAACgT,EAAAA,EAAI,CAACpT,UAAU,kDAChBI,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,6BAA4ByF,SAAC,mBAC3CrF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6BAA4ByF,SAAC,qDAG1CC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACG,QAAS2J,GAAejL,SAAA,EAC9BrF,EAAAA,EAAAA,KAAC6S,EAAAA,EAAI,CAACjT,UAAU,iBAAiB,6BAMvCmM,GAAanF,IAAK6F,IAChBzM,EAAAA,EAAAA,KAACiT,GAAS,CAERxG,MAAOA,EACPN,iBAAkBA,GAClBW,iBAAkBA,GAClBoG,YAAa3C,GACb4C,cAAe1C,GACf2C,cAAe1C,GACf2C,YAAa7B,GACb8B,YAAa7B,GACb8B,cAAgBjC,GACd7B,GAA6B+D,OAAO,CAAEzG,QAASN,EAAMzH,GAAIiK,QAASqC,EAAMtM,KAE1EyO,UAAW7C,GACXpI,SAAUA,GAbLiE,EAAMzH,QAoBnBhF,EAAAA,EAAAA,KAACU,EAAAA,GAAW,CAACoF,MAAM,SAAQT,UACzBrF,EAAAA,EAAAA,KAAC8S,EAAAA,GAAI,CAAAzN,UACHrF,EAAAA,EAAAA,KAAC+S,EAAAA,GAAW,CAACnT,UAAU,MAAKyF,SACzBoG,IACCzL,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,gBAAeyF,SAC3B4L,MAAMC,KAAK,CAAE3M,OAAQ,IAAKqC,IAAI,CAACwI,EAAG1N,KACjC1B,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAASjB,UAAU,eAAb8B,MAGM,IAAvBuK,GAAY1H,QACde,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,oBAAmByF,SAAA,EAChCrF,EAAAA,EAAAA,KAACmB,EAAAA,EAAK,CAACvB,UAAU,kDACjBI,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,6BAA4ByF,SAAC,wBAC3CrF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,wBAAuByF,SAAC,kDAKvCrF,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,WAAUyF,SACtB4G,GAAYrF,IAAI,CAAC0K,EAAOxK,KACvBxB,EAAAA,EAAAA,MAAA,OAEE1F,UAAU,sDAAqDyF,SAAA,EAE/DrF,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,gDAA+CyF,SAC5DyB,EAAQ,KAEX9G,EAAAA,EAAAA,KAAA,OACEJ,WAAWM,EAAAA,EAAAA,IACT,6BAA6B,qBAAD4B,QACP8P,EAAAA,EAAAA,IAAiBN,EAAMtM,MAC5CK,SAEDiM,EAAMoC,YACL1T,EAAAA,EAAAA,KAAA,OACE6R,IAAKP,EAAMoC,UACX5B,IAAI,GACJlS,UAAU,0CAIhB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BrF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,uBAAsByF,SAAEiM,EAAM/O,SAC3CvC,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,wDAAuDyF,SACnEiM,EAAMvE,SACL/M,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAQ,YAAY7G,UAAU,UAASyF,SAAC,cAE/CrF,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAQ,UAAU7G,UAAU,UAASyF,SAAC,iBAInDrF,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAwB,UAAf6K,EAAMrQ,KAAmB,UAAY,YAAYoE,SAC9DiM,EAAMrQ,QAETjB,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,QACRC,KAAK,SACL9G,UAAU,uDACV+G,QAASA,IAAM8K,GAAgBH,EAAOrF,IAAa5G,UAEnDrF,EAAAA,EAAAA,KAAC2T,EAAAA,EAAI,CAAC/T,UAAU,gBAvCb0R,EAAMtM,iBAmD3BhF,EAAAA,EAAAA,KAACoF,EAAAA,GAAM,CAAClD,KAAM6G,EAAoB5G,aAAc6G,EAAsB3D,UACpEC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAC3F,UAAU,WAAUyF,SAAA,EACjCC,EAAAA,EAAAA,MAACE,EAAAA,GAAY,CAAAH,SAAA,EACXrF,EAAAA,EAAAA,KAACyF,EAAAA,GAAW,CAAAJ,SAAC,mBACbC,EAAAA,EAAAA,MAACI,EAAAA,GAAiB,CAAAL,SAAA,CAAC,0BACOyG,GAAOrH,YAGnCa,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,aACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAOyE,GAAUhI,MACjBwD,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEhI,MAAOyD,EAAEC,OAAOH,SAC9DD,YAAY,oBAGhBP,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,UACPC,EAAAA,EAAAA,MAACY,EAAAA,GAAM,CACLJ,MAAOyE,GAAUtJ,KACjBkF,cAAgBL,GAAU0E,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEtJ,KAAM6E,KAAST,SAAA,EAEtErF,EAAAA,EAAAA,KAACoG,EAAAA,GAAa,CAAAf,UACZrF,EAAAA,EAAAA,KAACqG,EAAAA,GAAW,CAACR,YAAY,mBAE3B7F,EAAAA,EAAAA,KAACsG,EAAAA,GAAa,CAAAjB,SACX0C,GAAYnB,IAAK3F,IAChBjB,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAAkBT,MAAO7E,EAAK6E,MAAMT,SAC5CpE,EAAK+G,OADS/G,EAAK6E,iBAO9BR,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,WACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAOyE,GAAUI,MACjB5E,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEI,MAAO3E,EAAEC,OAAOH,SAC9DD,YAAY,iCAGhBP,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,iBACPrF,EAAAA,EAAAA,KAACR,EAAAA,EAAQ,CACPsG,MAAOyE,GAAU/H,YACjBuD,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAE/H,YAAawD,EAAEC,OAAOH,SACpED,YAAY,oBACZgO,KAAM,QAGVvO,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,qBACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAOyE,GAAUE,WACjB1E,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEE,WAAYzE,EAAEC,OAAOH,SACnED,YAAY,sCAGhBP,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,kBACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJ3E,KAAK,OACL6E,MAAOyE,GAAUG,YACjB3E,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEG,YAAa1E,EAAEC,OAAOH,kBAI1ER,EAAAA,EAAAA,MAACqC,EAAAA,GAAY,CAAAtC,SAAA,EACXrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQE,QAASA,IAAMqC,GAAsB,GAAO3D,SAAC,YAGrEC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACG,QApiBSmN,KACpBvJ,GAAUhI,MAAMwR,OAIrB1G,GAAoBmG,OAAOjJ,IAHzB/B,EAAS,CAAEoF,QAAS,0BAA2B3M,KAAM,WAkiBV6G,SAAUuF,GAAoBjK,UAAUiC,SAAA,CAC1EgI,GAAoBjK,YAAapD,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACtH,UAAU,8BAA+B,2BAQ5FI,EAAAA,EAAAA,KAACoF,EAAAA,GAAM,CAAClD,KAAM+G,EAAqB9G,aAAc+G,EAAuB7D,UACtEC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAC3F,UAAU,WAAUyF,SAAA,EACjCrF,EAAAA,EAAAA,KAACwF,EAAAA,GAAY,CAAAH,UACXrF,EAAAA,EAAAA,KAACyF,EAAAA,GAAW,CAAAJ,SAAC,kBAEfC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,aACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAOyE,GAAUhI,MACjBwD,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEhI,MAAOyD,EAAEC,OAAOH,eAGlER,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,UACPC,EAAAA,EAAAA,MAACY,EAAAA,GAAM,CACLJ,MAAOyE,GAAUtJ,KACjBkF,cAAgBL,GAAU0E,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEtJ,KAAM6E,KAAST,SAAA,EAEtErF,EAAAA,EAAAA,KAACoG,EAAAA,GAAa,CAAAf,UACZrF,EAAAA,EAAAA,KAACqG,EAAAA,GAAW,OAEdrG,EAAAA,EAAAA,KAACsG,EAAAA,GAAa,CAAAjB,SACX0C,GAAYnB,IAAK3F,IAChBjB,EAAAA,EAAAA,KAACuG,EAAAA,GAAU,CAAkBT,MAAO7E,EAAK6E,MAAMT,SAC5CpE,EAAK+G,OADS/G,EAAK6E,iBAO9BR,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,WACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAOyE,GAAUI,MACjB5E,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEI,MAAO3E,EAAEC,OAAOH,eAGlER,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,iBACPrF,EAAAA,EAAAA,KAACR,EAAAA,EAAQ,CACPsG,MAAOyE,GAAU/H,YACjBuD,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAE/H,YAAawD,EAAEC,OAAOH,SACpE+N,KAAM,QAGVvO,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,qBACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAOyE,GAAUE,WACjB1E,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEE,WAAYzE,EAAEC,OAAOH,eAGvER,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,kBACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJ3E,KAAK,OACL6E,MAAOyE,GAAUG,YACjB3E,SAAWC,GAAMwE,IAAYvK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIsK,IAAS,IAAEG,YAAa1E,EAAEC,OAAOH,kBAI1ER,EAAAA,EAAAA,MAACqC,EAAAA,GAAY,CAAAtC,SAAA,EACXrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQE,QAASA,IAAMuC,GAAuB,GAAO7D,SAAC,YAGtEC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACG,QAvmBUqN,KACrBzJ,GAAUhI,MAAMwR,OAIrB/F,GAAoBwF,OAAO,CAAExO,GAAI6E,GAAc7E,GAAI9B,KAAMqH,KAHvD/B,EAAS,CAAEoF,QAAS,0BAA2B3M,KAAM,WAqmBT6G,SAAUkG,GAAoB5K,UAAUiC,SAAA,CAC3E2I,GAAoB5K,YAAapD,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACtH,UAAU,8BAA+B,2BAQ5FI,EAAAA,EAAAA,KAACoF,EAAAA,GAAM,CAAClD,KAAMiH,GAAuBhH,aAAciH,GAAyB/D,UAC1EC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAAF,SAAA,EACZC,EAAAA,EAAAA,MAACE,EAAAA,GAAY,CAAAH,SAAA,EACXrF,EAAAA,EAAAA,KAACyF,EAAAA,GAAW,CAAAJ,SAAC,kBACbC,EAAAA,EAAAA,MAACI,EAAAA,GAAiB,CAAAL,SAAA,CAAC,oCAC8B,OAAbwE,SAAa,IAAbA,QAAa,EAAbA,GAAetH,MAAM,YAG3DvC,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qCAAoCyF,SAAC,oFAGlDC,EAAAA,EAAAA,MAACqC,EAAAA,GAAY,CAAAtC,SAAA,EACXrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQE,QAASA,IAAMyC,IAAyB,GAAO/D,SAAC,YAGxEC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACC,QAAQ,cAAcE,QAvnBbsN,KACzB7F,GAAoBoF,OAAO3J,GAAc7E,KAsnB0B8C,SAAUsG,GAAoBhL,UAAUiC,SAAA,CAChG+I,GAAoBhL,YAAapD,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACtH,UAAU,8BAA+B,2BAQ5FI,EAAAA,EAAAA,KAACoF,EAAAA,GAAM,CAAClD,KAAMmH,GAAuBlH,aAAcmH,GAAyBjE,UAC1EC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAC3F,UAAU,uCAAsCyF,SAAA,EAC7DC,EAAAA,EAAAA,MAACE,EAAAA,GAAY,CAAAH,SAAA,EACXC,EAAAA,EAAAA,MAACG,EAAAA,GAAW,CAAAJ,SAAA,CAAC,iBAA4B,OAAbwE,SAAa,IAAbA,QAAa,EAAbA,GAAetH,UAC3CvC,EAAAA,EAAAA,KAAC0F,EAAAA,GAAiB,CAAAL,SAAC,0DAKrBC,EAAAA,EAAAA,MAAClF,EAAAA,GAAI,CAAC0F,MAAOmE,GAAgB9D,cAAe+D,GAAmBtK,UAAU,uBAAsByF,SAAA,EAC7FC,EAAAA,EAAAA,MAAChF,EAAAA,GAAQ,CAACV,UAAU,0BAAyByF,SAAA,EAC3CrF,EAAAA,EAAAA,KAACO,EAAAA,GAAW,CAACuF,MAAM,WAAUT,SAAC,oBAC9BC,EAAAA,EAAAA,MAAC/E,EAAAA,GAAW,CAACuF,MAAM,eAAcT,SAAA,EAC/BrF,EAAAA,EAAAA,KAACkU,EAAAA,EAAU,CAACtU,UAAU,iBAAiB,2BAM3CI,EAAAA,EAAAA,KAACU,EAAAA,GAAW,CAACoF,MAAM,WAAWlG,UAAU,8BAA6ByF,SACvC,IAA3BgH,GAAgB9H,QACfe,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,mBAAkByF,SAAA,EAC/BrF,EAAAA,EAAAA,KAACmB,EAAAA,EAAK,CAACvB,UAAU,gDACjBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,wBAAuByF,SAAC,sCAGvCrF,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWyF,SACvBgH,GAAgBzF,IAAKuN,IACpB7O,EAAAA,EAAAA,MAAA,OAEEqB,QAASA,IAAMgK,GAAqBwD,EAAMnP,IAC1CpF,WAAWM,EAAAA,EAAAA,IACT,0EACA6J,GAAiBvF,SAAS2P,EAAMnP,IAC5B,sCACA,qBACJK,SAAA,EAEFrF,EAAAA,EAAAA,KAACqH,EAAAA,EAAQ,CACPC,QAASyC,GAAiBvF,SAAS2P,EAAMnP,IACzCuC,gBAAiBA,IAAMoJ,GAAqBwD,EAAMnP,OAEpDhF,EAAAA,EAAAA,KAAA,OACEJ,WAAWM,EAAAA,EAAAA,IACT,6BAA6B,qBAAD4B,QACP8P,EAAAA,EAAAA,IAAiBuC,EAAMnP,MAC5CK,SAED8O,EAAMT,YACL1T,EAAAA,EAAAA,KAAA,OACE6R,IAAKsC,EAAMT,UACX5B,IAAI,GACJlS,UAAU,0CAIhB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BrF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,uBAAsByF,SAAE8O,EAAM5R,SAC3CvC,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,yCAAwCyF,SAClD8O,EAAMC,UAAY,uBAGvBpU,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAwB,UAAf0N,EAAMlT,KAAmB,UAAY,YAAYoE,SAC9D8O,EAAMlT,SAlCJkT,EAAMnP,UA2CrBhF,EAAAA,EAAAA,KAACU,EAAAA,GAAW,CAACoF,MAAM,eAAelG,UAAU,cAAayF,UACvDC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,oCAAmCyF,SAAA,EAChDrF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,gCAA+ByF,SAAC,qDAG7CC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CACLC,QAAQ,UACRC,KAAK,KACLC,QAASA,IAAM6C,IAAyB,GAAMnE,SAAA,EAE9CrF,EAAAA,EAAAA,KAACkU,EAAAA,EAAU,CAACtU,UAAU,iBAAiB,qBAKjB,IAAzBoD,GAAcuB,QACbe,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,sDAAqDyF,SAAA,EAClErF,EAAAA,EAAAA,KAACkU,EAAAA,EAAU,CAACtU,UAAU,kDACtBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qCAAoCyF,SAAC,uBAGlDrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACG,QAASA,IAAM6C,IAAyB,GAAMnE,SAAC,qBAKzDrF,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,0CAAyCyF,SACrDrC,GAAc4D,IAAI,CAACvC,EAAMyC,KACxB,MAAMuN,EAAalK,GAAsB9F,EAAKW,KAAO,CAAC,EAEtD,OACEhF,EAAAA,EAAAA,KAAC8S,EAAAA,GAAI,CAAAzN,UACHrF,EAAAA,EAAAA,KAAC+S,EAAAA,GAAW,CAACnT,UAAU,MAAKyF,UAC1BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,yBAAwByF,SAAA,EACrCC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,+BAA8ByF,SAAA,CAC5B,UAAdhB,EAAKpD,MACJjB,EAAAA,EAAAA,KAACsU,EAAAA,EAAI,CAAC1U,UAAU,2BAEhBI,EAAAA,EAAAA,KAACmB,EAAAA,EAAK,CAACvB,UAAU,6BAEnBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,uBAAsByF,SAAEhB,EAAKI,QAC1CzE,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAQ,UAAU7G,UAAU,UAASyF,SACzChB,EAAKpD,WAIVqE,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,yBAAwByF,SAAA,EAErCC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBC,EAAAA,EAAAA,MAACsO,EAAAA,EAAK,CAAChU,UAAU,wDAAuDyF,SAAA,EACtErF,EAAAA,EAAAA,KAACqB,EAAAA,EAAQ,CAACzB,UAAU,YAAY,0BAGlCI,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,UACRC,KAAK,KACL9G,UAAU,mCACV+G,QAASA,KAEPyD,GAAyBvF,IAAI5E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACxB4E,GAAI,IACP,CAACR,EAAKW,KAAE/E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQ4E,EAAKR,EAAKW,KAAG,IAAEuP,cAAe,gBAEhD/K,IAAyB,IACzBnE,SAEDgP,EAAWD,UACVpU,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,WAAUyF,SAAEgP,EAAWD,SAAS3P,OAEhD,wBAMNa,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBC,EAAAA,EAAAA,MAACsO,EAAAA,EAAK,CAAChU,UAAU,wDAAuDyF,SAAA,EACtErF,EAAAA,EAAAA,KAACwU,EAAAA,EAAS,CAAC5U,UAAU,YAAY,2BAGnCI,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,UACRC,KAAK,KACL9G,UAAU,mCACV+G,QAASA,KACPyD,GAAyBvF,IAAI5E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACxB4E,GAAI,IACP,CAACR,EAAKW,KAAE/E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQ4E,EAAKR,EAAKW,KAAG,IAAEuP,cAAe,iBAEhD/K,IAAyB,IACzBnE,SAEDgP,EAAWX,WACV1T,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,WAAUyF,SAAEgP,EAAWX,UAAUjP,OAEjD,+BAOVzE,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,QACRC,KAAK,SACLC,QAASA,KACP1D,GAAiB4B,GAAQA,EAAKT,OAAOW,GAAKA,EAAEC,KAAOX,EAAKW,KACxDoF,GAAyBvF,IACvB,MAAM4P,GAAaxU,EAAAA,EAAAA,GAAA,GAAQ4E,GAE3B,cADO4P,EAAcpQ,EAAKW,IACnByP,KAETpP,UAEFrF,EAAAA,EAAAA,KAAC0U,EAAAA,EAAC,CAAC9U,UAAU,oBApFVyE,EAAKW,iBAiG9BM,EAAAA,EAAAA,MAACqC,EAAAA,GAAY,CAAC/H,UAAU,gBAAeyF,SAAA,EACrCrF,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,uCAAsCyF,SAC/B,aAAnB4E,GAA6B,GAAAnI,OACvBiI,GAAiBxF,OAAM,uBAAAzC,OACvBkB,GAAcuB,OAAM,sBAG7BvE,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQE,QAASA,KAC/B2C,IAAyB,GACzBY,GAAkB,YAClBjH,GAAiB,IACjBmH,GAAyB,CAAC,IAC1B/E,SAAC,YAGHC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CACLG,QAA4B,aAAnBsD,GAt0BMzG,UACzB,GAAgC,IAA5BuG,GAAiBxF,OAEnB,YADAiE,EAAS,CAAEoF,QAAS,4BAA6B3M,KAAM,UAMzD,IAAI0T,GADkBxI,GAAiBtC,GAAc7E,KAAO,IACxBT,OAAS,EAE7C6I,QAAQvL,IAAI,0BAA2BgI,GAAc7E,GAAI,UAAW+E,IAGpE,IACE,IAAK,MAAMkF,KAAWlF,GACpBqD,QAAQvL,IAAI,gBAAiBoN,EAAS,gBAAiB0F,SACjD3F,GAAwBuC,YAAY,CACxCxE,QAASlD,GAAc7E,GACvBiK,UACAC,YAAayF,MAKjBrM,EAAYqF,kBAAkB,CAAC,cAAe9D,GAAc7E,KAC5DsD,EAAYqF,kBAAkB,CAAC,gBAAiBzF,IAGhDkE,GAAqBvH,IACnB,MAAMyK,GAAQrP,EAAAA,EAAAA,GAAA,GAAQ4E,GAEtB,cADOyK,EAASzF,GAAc7E,IACvBsK,IAGThG,IAAyB,GACzBQ,GAAiB,MACjBE,GAAoB,IACpBxB,EAAS,CAAEoF,QAAQ,GAAD9L,OAAKiI,GAAiBxF,OAAM,0BAA0BtD,KAAM,WAChF,CAAE,MAAOkM,GAAQ,IAADyH,EAAAC,EACdzH,QAAQD,MAAM,wBAAyBA,GACvC3E,EAAS,CAAEoF,SAAuB,QAAdgH,EAAAzH,EAAMH,gBAAQ,IAAA4H,GAAM,QAANC,EAAdD,EAAgB1R,YAAI,IAAA2R,OAAN,EAAdA,EAAsBjH,UAAW,uBAAwB3M,KAAM,SACrF,GA4EiCuC,UACjC,GAA6B,IAAzBR,GAAcuB,OAAlB,CAKA+F,IAAmB,GAEnB,IAEE,MAAMnH,EAAYH,GAAc4D,IAAIvC,IAAS,IAADyQ,EAAAC,EAC1C,MAAMV,EAAalK,GAAsB9F,EAAKW,KAAO,CAAC,EACtD,MAAO,CACLJ,KAAMP,EAAKO,KACXH,KAAMJ,EAAKI,KACXxD,KAAMoD,EAAKpD,KACX+T,cAAiC,QAAnBF,EAAAT,EAAWD,gBAAQ,IAAAU,OAAA,EAAnBA,EAAqBlQ,OAAQ,KAC3CqQ,eAAmC,QAApBF,EAAAV,EAAWX,iBAAS,IAAAqB,OAAA,EAApBA,EAAsBnQ,OAAQ,QAK3CnB,EAAQC,aAAaC,QAAQ,eAC7BqJ,QAAiBpJ,EAAAA,EAAMsR,KAAK,GAADpT,OAC5BhB,GAAY,2BACf,CACEqU,MAAOhS,EACP+E,SAAUA,EACV6E,QAAS,KACTqI,SAAU,MAEZ,CACEpR,QAAS,CAAEC,cAAc,UAADnC,OAAY2B,MAIxC,KAAIuJ,EAAS9J,KAAKmS,SAAWrI,EAAS9J,KAAKA,KAAKoS,QAAQ/Q,OAAS,GAoC/D,MAAM,IAAIgR,MAAM,kCApCkD,CAGlE,IAAIZ,GADkBxI,GAAiBtC,GAAc7E,KAAO,IACxBT,OAAS,EAG7C,IAAK,MAAM4P,KAASnH,EAAS9J,KAAKA,KAAKoS,cAC/BtG,GAAwBuC,YAAY,CACxCxE,QAASlD,GAAc7E,GACvBiK,QAASkF,EAAMnP,GACfkK,YAAayF,MAKjBrM,EAAYqF,kBAAkB,CAAC,cAAe9D,GAAc7E,KAC5DsD,EAAYqF,kBAAkB,CAAC,gBAAiBzF,IAChDI,EAAYqF,kBAAkB,CAAC,eAAgBzF,IAC/CI,EAAYqF,kBAAkB,CAAC,gBAG/BvB,GAAqBvH,IACnB,MAAMyK,GAAQrP,EAAAA,EAAAA,GAAA,GAAQ4E,GAEtB,cADOyK,EAASzF,GAAc7E,IACvBsK,IAGThG,IAAyB,GACzBY,GAAkB,YAClBjH,GAAiB,IACjBmH,GAAyB,CAAC,GAC1B5B,EAAS,CACPoF,QAAQ,qBAAD9L,OAAuBkL,EAAS9J,KAAKA,KAAKoS,QAAQ/Q,OAAM,WAC/DtD,KAAM,WAEV,CAGF,CAAE,MAAOkM,GAAQ,IAADqI,EAAAC,EACdrI,QAAQD,MAAM,mCAAoCA,GAClD3E,EAAS,CACPoF,SAAuB,QAAd4H,EAAArI,EAAMH,gBAAQ,IAAAwI,GAAM,QAANC,EAAdD,EAAgBtS,YAAI,IAAAuS,OAAN,EAAdA,EAAsB7H,UAAW,oCAC1C3M,KAAM,SAEV,CAAC,QACCqJ,IAAmB,EACrB,CA9EA,MAFE9B,EAAS,CAAEoF,QAAS,oBAAqB3M,KAAM,WAgtBvC6G,SACsB,aAAnBmC,IAA6D,IAA5BF,GAAiBxF,QAC/B,iBAAnB0F,IAA8D,IAAzBjH,GAAcuB,QACpD8F,IACA2E,GAAwB0G,UACzBrQ,SAAA,EAECgF,IAAmB2E,GAAwB0G,aAC3C1V,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACtH,UAAU,+BAErBI,EAAAA,EAAAA,KAACiH,EAAAA,EAAK,CAACrH,UAAU,iBACG,aAAnBqK,GAAgC,eAAiB,oCAO1DjK,EAAAA,EAAAA,KAACiC,EAAe,CACdC,KAAMqH,GACNpH,aAAcqH,GACdpH,SAnwB2B+S,IAE/B,MAAMQ,EAAeC,OAAOC,QAAQ1L,IAAuBrF,KACzDgR,IAAA,IAAE1G,EAAGtJ,GAAMgQ,EAAA,OAAU,OAALhQ,QAAK,IAALA,OAAK,EAALA,EAAOyO,gBAGzB,GAAIoB,EAAc,CAChB,MAAOI,EAAQC,GAAiBL,EAC1B1U,EAAO+U,EAAczB,cAEvBY,EAAM5Q,OAAS,GACjB6F,GAAyBvF,IAAI5E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACxB4E,GAAI,IACP,CAACkR,IAAM9V,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACF4E,EAAKkR,IAAO,IACf,CAAC9U,GAAOkU,EAAM,GACdZ,cAAe,SAIvB,MAEEtR,GAAiBkS,GAGnB3L,IAAyB,IA2uBrBnH,aAAa,EACbC,aAEEsT,OAAOK,OAAO9L,IAAuB+L,KAAKC,GAA0B,cAApB,OAADA,QAAC,IAADA,OAAC,EAADA,EAAG5B,gBAC9C,CAAC,YACDqB,OAAOK,OAAO9L,IAAuB+L,KAAKC,GAA0B,eAApB,OAADA,QAAC,IAADA,OAAC,EAADA,EAAG5B,gBAClD,CAAC,SACD,CAAC,QAAS,QAAS,OAEzBhS,MACEqT,OAAOK,OAAO9L,IAAuB+L,KAAKC,GAA0B,cAApB,OAADA,QAAC,IAADA,OAAC,EAADA,EAAG5B,gBAC9C,uBACAqB,OAAOK,OAAO9L,IAAuB+L,KAAKC,GAA0B,eAApB,OAADA,QAAC,IAADA,OAAC,EAADA,EAAG5B,gBAClD,mBACA,wBAKRvU,EAAAA,EAAAA,KAACoF,EAAAA,GAAM,CAAClD,KAAMuH,GAAsBtH,aAAcuH,GAAwBrE,UACxEC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAC3F,UAAU,WAAUyF,SAAA,EACjCrF,EAAAA,EAAAA,KAACwF,EAAAA,GAAY,CAAAH,UACXrF,EAAAA,EAAAA,KAACyF,EAAAA,GAAW,CAAAJ,SAAC,mBAEfC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,YACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAO8E,GAAWnG,KAClBsB,SAAWC,GAAM6E,IAAa5K,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI2K,IAAU,IAAEnG,KAAMuB,EAAEC,OAAOH,eAGnER,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,WACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAO8E,GAAWD,MAClB5E,SAAWC,GAAM6E,IAAa5K,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI2K,IAAU,IAAED,MAAO3E,EAAEC,OAAOH,eAGpER,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,eACPrF,EAAAA,EAAAA,KAACR,EAAAA,EAAQ,CACPsG,MAAO8E,GAAWE,IAClB/E,SAAWC,GAAM6E,IAAa5K,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI2K,IAAU,IAAEE,IAAK9E,EAAEC,OAAOH,SAC9D+N,KAAM,QAGVvO,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,eACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAO8E,GAAWG,MAClBhF,SAAWC,GAAM6E,IAAa5K,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI2K,IAAU,IAAEG,MAAO/E,EAAEC,OAAOH,eAGpER,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,YAAWyF,SAAA,EACxBrF,EAAAA,EAAAA,KAAC4T,EAAAA,EAAK,CAAAvO,SAAC,aACPrF,EAAAA,EAAAA,KAAC4F,EAAAA,EAAK,CACJE,MAAO8E,GAAWI,QAClBjF,SAAWC,GAAM6E,IAAa5K,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI2K,IAAU,IAAEI,QAAShF,EAAEC,OAAOH,kBAIxER,EAAAA,EAAAA,MAACqC,EAAAA,GAAY,CAAAtC,SAAA,EACXrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQE,QAASA,IAAM+C,IAAwB,GAAOrE,SAAC,YAGvEC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACG,QAn1BWyP,KACtBxL,GAAWnG,KAAKsP,OAIrBvF,GAAqBgF,OAAO5I,IAH1BpC,EAAS,CAAEoF,QAAS,0BAA2B3M,KAAM,WAi1BR6G,SAAU0G,GAAqBpL,UAAUiC,SAAA,CAC7EmJ,GAAqBpL,YAAapD,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACtH,UAAU,8BAA+B,2BAQ7FI,EAAAA,EAAAA,KAACoF,EAAAA,GAAM,CAAClD,KAAMyH,GAAwBxH,aAAcyH,GAA0BvE,UAC5EC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAAF,SAAA,EACZC,EAAAA,EAAAA,MAACE,EAAAA,GAAY,CAAAH,SAAA,EACXrF,EAAAA,EAAAA,KAACyF,EAAAA,GAAW,CAAAJ,SAAC,mBACbC,EAAAA,EAAAA,MAACI,EAAAA,GAAiB,CAAAL,SAAA,CAAC,oCACiByG,GAAOrH,KAAK,YAGlDzE,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qCAAoCyF,SAAC,0HAIlDC,EAAAA,EAAAA,MAACqC,EAAAA,GAAY,CAAAtC,SAAA,EACXrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQE,QAASA,IAAMiD,IAA0B,GAAOvE,SAAC,YAGzEC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACC,QAAQ,cAAcE,QAp2BZ0P,KAC1BzH,GAAqB4E,UAm2B+C1L,SAAU8G,GAAqBxL,UAAUiC,SAAA,CAClGuJ,GAAqBxL,YAAapD,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACtH,UAAU,8BAA+B,6BAQnG,CAGA,SAASqT,GAASqD,GAYd,IAADC,EAAA,IAZgB,MACjB9J,EAAK,iBACLN,EAAgB,iBAChBW,EAAgB,YAChBoG,EAAW,cACXC,EAAa,cACbC,EAAa,YACbC,EAAW,YACXC,EAAW,cACXC,EAAa,UACbE,EAAS,SACTjL,GACD8N,EACC,MAAOpJ,EAAQsJ,IAAa7T,EAAAA,EAAAA,UAAS,KAC9B8T,EAASC,IAAc/T,EAAAA,EAAAA,WAAS,GAavC,OAVAlD,EAAAA,UAAgB,KACK+D,WACjBkT,GAAW,GACX,MAAMC,QAAsB7J,EAAiBL,EAAMzH,IACnDwR,EAAUG,GACVD,GAAW,IAEbE,IACC,CAACnK,EAAMzH,GAAI8H,EAAkBX,EAAiBM,EAAMzH,OAGrDM,EAAAA,EAAAA,MAACwN,EAAAA,GAAI,CAAAzN,SAAA,EACHrF,EAAAA,EAAAA,KAAC6W,EAAAA,GAAU,CAAAxR,UACTC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,yBAAwByF,SAAA,EAErCrF,EAAAA,EAAAA,KAAA,OACEJ,WAAWM,EAAAA,EAAAA,IACT,iDACCuM,EAAMhC,YAAU,qBAAA3I,QAAyB8P,EAAAA,EAAAA,IAAiBnF,EAAMzH,MACjEK,SAEDoH,EAAMhC,YACLzK,EAAAA,EAAAA,KAAA,OACE6R,IAAKpF,EAAMhC,WACXqH,IAAKrF,EAAMlK,MACX3C,UAAU,gCAGZI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,iDAAgDyF,UAC7DrF,EAAAA,EAAAA,KAACgT,EAAAA,EAAI,CAACpT,UAAU,iCAMtB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,mCAAkCyF,SAAA,EAC/CC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACErF,EAAAA,EAAAA,KAAC8W,EAAAA,GAAS,CAAClX,UAAU,UAASyF,SAAEoH,EAAMlK,SACtC+C,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,6DAA4DyF,SAAA,EACzErF,EAAAA,EAAAA,KAAC0H,EAAAA,EAAK,CAACjB,QAAQ,UAASpB,UAC0B,QAA/CkR,EAAAxO,GAAYjD,KAAM4H,GAAMA,EAAE5G,QAAU2G,EAAMxL,aAAK,IAAAsV,OAAA,EAA/CA,EAAiDvO,QAAS,WAE7D1C,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAOoH,EAAMsF,YAAc7E,EAAO3I,OAAO,aACxCkI,EAAM/B,cAAepF,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAM,UAAGoH,EAAM/B,YAAYxF,MAAM,KAAK,aAGhEI,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,0BAAyByF,SAAA,CACrC6H,EAAO3I,OAAS,IACfvE,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,UACRC,KAAK,OACLC,QAASA,IAAM0M,EAAY5G,GAAOpH,UAElCrF,EAAAA,EAAAA,KAAC2T,EAAAA,EAAI,CAAC/T,UAAU,sBAGpB0F,EAAAA,EAAAA,MAAC0M,EAAAA,GAAY,CAAA3M,SAAA,EACXrF,EAAAA,EAAAA,KAACiS,EAAAA,GAAmB,CAAC9B,SAAO,EAAA9K,UAC1BrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAACC,QAAQ,QAAQC,KAAK,OAAMrB,UACjCrF,EAAAA,EAAAA,KAACkS,EAAAA,EAAc,CAACtS,UAAU,iBAG9B0F,EAAAA,EAAAA,MAAC6M,EAAAA,GAAmB,CAACC,MAAM,MAAK/M,SAAA,EAC9BC,EAAAA,EAAAA,MAAC+M,EAAAA,GAAgB,CAAC1L,QAASA,IAAMyM,EAAc3G,GAAOpH,SAAA,EACpDrF,EAAAA,EAAAA,KAAC6S,EAAAA,EAAI,CAACjT,UAAU,iBAAiB,iBAGnC0F,EAAAA,EAAAA,MAAC+M,EAAAA,GAAgB,CAAC1L,QAASA,IAAMuM,EAAYzG,GAAOpH,SAAA,EAClDrF,EAAAA,EAAAA,KAACuS,EAAAA,EAAI,CAAC3S,UAAU,iBAAiB,iBAGnCI,EAAAA,EAAAA,KAAC2S,EAAAA,GAAqB,KACtBrN,EAAAA,EAAAA,MAAC+M,EAAAA,GAAgB,CACf1L,QAASA,IAAMwM,EAAc1G,GAC7B7M,UAAU,mBAAkByF,SAAA,EAE5BrF,EAAAA,EAAAA,KAAC4S,EAAAA,EAAM,CAAChT,UAAU,iBAAiB,8BAO5C6M,EAAMjK,cACLxC,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,kDAAiDyF,SAC3DoH,EAAMjK,uBAOjBxC,EAAAA,EAAAA,KAAC+S,EAAAA,GAAW,CAAA1N,SACToR,GACCzW,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWyF,SACvB4L,MAAMC,KAAK,CAAE3M,OAAQ,IAAKqC,IAAI,CAACwI,EAAG1N,KACjC1B,EAAAA,EAAAA,KAACa,EAAAA,EAAQ,CAASjB,UAAU,eAAb8B,MAGC,IAAlBwL,EAAO3I,QACTe,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,mDAAkDyF,SAAA,EAC/DrF,EAAAA,EAAAA,KAACmB,EAAAA,EAAK,CAACvB,UAAU,gDACjBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qCAAoCyF,SAAC,6BAClDC,EAAAA,EAAAA,MAACkB,EAAAA,EAAM,CAACC,QAAQ,UAAUC,KAAK,KAAKC,QAASA,IAAMyM,EAAc3G,GAAOpH,SAAA,EACtErF,EAAAA,EAAAA,KAAC6S,EAAAA,EAAI,CAACjT,UAAU,iBAAiB,oBAKrCI,EAAAA,EAAAA,KAAC+W,EAAAA,GAAe,CAACtD,UAAY5C,GAAW4C,EAAU5C,EAAQpE,EAAMzH,GAAIkI,GAAQ7H,UAC1ErF,EAAAA,EAAAA,KAACgX,EAAAA,GAAS,CAACC,YAAaxK,EAAMzH,GAAGK,SAC7B6R,IACA5R,EAAAA,EAAAA,MAAA,OAAArF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEN,IAAKuX,EAASC,UACVD,EAASE,gBAAc,IAC3BxX,UAAU,YAAWyF,SAAA,CAEpB6H,EAAOtG,IAAI,CAAC0K,EAAOxK,KAClB9G,EAAAA,EAAAA,KAACqX,EAAAA,GAAS,CAAgBC,YAAahG,EAAMtM,GAAI8B,MAAOA,EAAMzB,SAC3DA,CAAC6R,EAAUK,KACVjS,EAAAA,EAAAA,MAAA,OAAArF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEN,IAAKuX,EAASC,UACVD,EAASM,gBAAc,IAC3B5X,WAAWM,EAAAA,EAAAA,IACT,iEACAqX,EAASE,YAAc,sBACvBpS,SAAA,EAEFrF,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMiX,EAASQ,iBAAe,IAC5B9X,UAAU,0DAAyDyF,UAEnErF,EAAAA,EAAAA,KAAC2X,EAAAA,EAAY,CAAC/X,UAAU,gBAE1BI,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,gDAA+CyF,SAC5DiM,EAAMpC,aAAepI,EAAQ,KAEhC9G,EAAAA,EAAAA,KAAA,OACEJ,WAAWM,EAAAA,EAAAA,IACT,6BAA6B,qBAAD4B,QACP8P,EAAAA,EAAAA,IAAiBN,EAAMtM,MAC5CK,SAEDiM,EAAMoC,YACL1T,EAAAA,EAAAA,KAAA,OACE6R,IAAKP,EAAMoC,UACX5B,IAAI,GACJlS,UAAU,0CAIhB0F,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,iBAAgByF,SAAA,EAC7BrF,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,uBAAsByF,SAAEiM,EAAM/O,SAC3C+C,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,wDAAuDyF,SAAA,CACpD,UAAfiM,EAAMrQ,MACLjB,EAAAA,EAAAA,KAACsU,EAAAA,EAAI,CAAC1U,UAAU,aAEhBI,EAAAA,EAAAA,KAACmB,EAAAA,EAAK,CAACvB,UAAU,aAEnBI,EAAAA,EAAAA,KAAA,QAAAqF,SAAOiM,EAAMrQ,cAGjBqE,EAAAA,EAAAA,MAAA,OAAK1F,UAAU,+EAA8EyF,SAAA,EAC3FrF,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,QACRC,KAAK,SACLC,QAASA,IAAM2M,EAAYhC,EAAOpE,GAAQ7H,UAE1CrF,EAAAA,EAAAA,KAAC2T,EAAAA,EAAI,CAAC/T,UAAU,eAElBI,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CACLC,QAAQ,QACRC,KAAK,SACLC,QAASA,IAAM4M,EAAcjC,GAAOjM,UAEpCrF,EAAAA,EAAAA,KAAC0U,EAAAA,EAAC,CAAC9U,UAAU,sBAzDP0R,EAAMtM,KAgEvBkS,EAASrR,wBAS5B,C,oHC3hDY,MAAA9F,EAAA,cAQNsH,EAAW5H,EAAAA,WAAiB,CAAAC,EAA0BC,KAAG,IAA5B,UAAEC,GAAqBF,EAAPG,GAAKC,EAAAA,EAAAA,GAAAJ,EAAAK,GAAA,OACtDC,EAAAA,EAAAA,KAAC4X,EAAAA,IAAsB3X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACrBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,iTACAN,IAEEC,GAAK,IAAAwF,UAETrF,EAAAA,EAAAA,KAAC4X,EAAAA,GAA2B,CAC1BhY,WAAWM,EAAAA,EAAAA,IAAG,iDAAiDmF,UAE/DrF,EAAAA,EAAAA,KAACiH,EAAAA,EAAK,CAACrH,UAAU,mBAIvByH,EAASlH,YAAcyX,EAAAA,GAAuBzX,W,iVCnBxC+F,EAAS2R,EAAAA,GAETxR,GADcwR,EAAAA,GACAA,EAAAA,IAEdzR,EAAgB3G,EAAAA,WAAiB,CAAAC,EAAoCC,KAAG,IAAtC,UAAEC,EAAS,SAAEyF,GAAoB3F,EAAPG,GAAKC,EAAAA,EAAAA,GAAAJ,EAAAK,GAAA,OACrEuF,EAAAA,EAAAA,MAACuS,EAAAA,IAAuB5X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACtBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,kTACAN,IAEEC,GAAK,IAAAwF,SAAA,CAERA,GACDrF,EAAAA,EAAAA,KAAC6X,EAAAA,GAAoB,CAAC1H,SAAO,EAAA9K,UAC3BrF,EAAAA,EAAAA,KAAC8X,EAAAA,EAAW,CAAClY,UAAU,+BAI7BwG,EAAcjG,YAAc0X,EAAAA,GAAwB1X,YAEpD,MAAM4X,EAAuBtY,EAAAA,WAAiB,CAAAe,EAA0Bb,KAAG,IAA5B,UAAEC,GAAqBY,EAAPX,GAAKC,EAAAA,EAAAA,GAAAU,EAAAC,GAAA,OAClET,EAAAA,EAAAA,KAAC6X,EAAAA,IAA8B5X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAC7BN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,uDACAN,IAEEC,GAAK,IAAAwF,UAETrF,EAAAA,EAAAA,KAACgY,EAAAA,EAAS,CAACpY,UAAU,iBAGzBmY,EAAqB5X,YAAc0X,EAAAA,GAA+B1X,YAElE,MAAM8X,EAAyBxY,EAAAA,WAAiB,CAAAkB,EAA0BhB,KAAG,IAA5B,UAAEC,GAAqBe,EAAPd,GAAKC,EAAAA,EAAAA,GAAAa,EAAAC,GAAA,OACpEZ,EAAAA,EAAAA,KAAC6X,EAAAA,IAAgC5X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAC/BN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,uDACAN,IAEEC,GAAK,IAAAwF,UAETrF,EAAAA,EAAAA,KAAC8X,EAAAA,EAAW,CAAClY,UAAU,iBAG3BqY,EAAuB9X,YAAc0X,EAAAA,GAAiC1X,YAEtE,MAAMmG,EAAgB7G,EAAAA,WAAiB,CAAAqQ,EAAyDnQ,KAAG,IAA3D,UAAEC,EAAS,SAAEyF,EAAQ,SAAE6S,EAAW,UAAoBpI,EAAPjQ,GAAKC,EAAAA,EAAAA,GAAAgQ,EAAAqI,GAAA,OAC1FnY,EAAAA,EAAAA,KAAC6X,EAAAA,GAAsB,CAAAxS,UACrBC,EAAAA,EAAAA,MAACuS,EAAAA,IAAuB5X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACtBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,scACa,WAAbgY,GACE,kIACFtY,GAEFsY,SAAUA,GACNrY,GAAK,IAAAwF,SAAA,EAETrF,EAAAA,EAAAA,KAAC+X,EAAoB,KACrB/X,EAAAA,EAAAA,KAAC6X,EAAAA,GAAwB,CACvBjY,WAAWM,EAAAA,EAAAA,IACT,MACa,WAAbgY,GACE,2FACF7S,SAEDA,KAEHrF,EAAAA,EAAAA,KAACiY,EAAsB,YAI7B3R,EAAcnG,YAAc0X,EAAAA,GAAwB1X,YAEhCV,EAAAA,WAAiB,CAAAqW,EAA0BnW,KAAG,IAA5B,UAAEC,GAAqBkW,EAAPjW,GAAKC,EAAAA,EAAAA,GAAAgW,EAAAsC,GAAA,OACzDpY,EAAAA,EAAAA,KAAC6X,EAAAA,IAAqB5X,EAAAA,EAAAA,GAAA,CACpBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IAAG,yCAA0CN,IACpDC,MAGIM,YAAc0X,EAAAA,GAAsB1X,YAEhD,MAAMoG,EAAa9G,EAAAA,WAAiB,CAAA6W,EAAoC3W,KAAG,IAAtC,UAAEC,EAAS,SAAEyF,GAAoBiR,EAAPzW,GAAKC,EAAAA,EAAAA,GAAAwW,EAAA+B,GAAA,OAClE/S,EAAAA,EAAAA,MAACuS,EAAAA,IAAoB5X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACnBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,4NACAN,IAEEC,GAAK,IAAAwF,SAAA,EAETrF,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,+DAA8DyF,UAC5ErF,EAAAA,EAAAA,KAAC6X,EAAAA,GAA6B,CAAAxS,UAC5BrF,EAAAA,EAAAA,KAACiH,EAAAA,EAAK,CAACrH,UAAU,iBAGrBI,EAAAA,EAAAA,KAAC6X,EAAAA,GAAwB,CAAAxS,SAAEA,UAG/BkB,EAAWpG,YAAc0X,EAAAA,GAAqB1X,YAEtBV,EAAAA,WAAiB,CAAA6Y,EAA0B3Y,KAAG,IAA5B,UAAEC,GAAqB0Y,EAAPzY,GAAKC,EAAAA,EAAAA,GAAAwY,EAAAC,GAAA,OAC7DvY,EAAAA,EAAAA,KAAC6X,EAAAA,IAAyB5X,EAAAA,EAAAA,GAAA,CACxBN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IAAG,2BAA4BN,IACtCC,MAGQM,YAAc0X,EAAAA,GAA0B1X,W,oPCnHlD2S,EAAOrT,EAAAA,WAAiB,CAAAC,EAA0BC,KAAG,IAA5B,UAAEC,GAAqBF,EAAPG,GAAKC,EAAAA,EAAAA,GAAAJ,EAAAK,GAAA,OAClDC,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,uFACAN,IAEEC,MAGRiT,EAAK3S,YAAc,OAEnB,MAAM0W,EAAapX,EAAAA,WAAiB,CAAAe,EAA0Bb,KAAG,IAA5B,UAAEC,GAAqBY,EAAPX,GAAKC,EAAAA,EAAAA,GAAAU,EAAAC,GAAA,OACxDT,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IAAG,gCAAiCN,IAC3CC,MAGRgX,EAAW1W,YAAc,aAEzB,MAAM2W,EAAYrX,EAAAA,WAAiB,CAAAkB,EAAoChB,KAAG,IAAtC,UAAEC,EAAS,SAAEyF,GAAoB1E,EAAPd,GAAKC,EAAAA,EAAAA,GAAAa,EAAAC,GAAA,OACjEZ,EAAAA,EAAAA,KAAA,MAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IACT,qDACAN,IAEEC,GAAK,IAAAwF,SAERA,OAGLyR,EAAU3W,YAAc,YAExB,MAAMqY,EAAkB/Y,EAAAA,WAAiB,CAAAqQ,EAA0BnQ,KAAG,IAA5B,UAAEC,GAAqBkQ,EAAPjQ,GAAKC,EAAAA,EAAAA,GAAAgQ,EAAAqI,GAAA,OAC7DnY,EAAAA,EAAAA,KAAA,KAAAC,EAAAA,EAAAA,GAAA,CACEN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IAAG,gCAAiCN,IAC3CC,MAGR2Y,EAAgBrY,YAAc,kBAE9B,MAAM4S,EAActT,EAAAA,WAAiB,CAAAqW,EAA0BnW,KAAG,IAA5B,UAAEC,GAAqBkW,EAAPjW,GAAKC,EAAAA,EAAAA,GAAAgW,EAAAsC,GAAA,OACzDpY,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CAAKN,IAAKA,EAAKC,WAAWM,EAAAA,EAAAA,IAAG,WAAYN,IAAgBC,MAE3DkT,EAAY5S,YAAc,cAEPV,EAAAA,WAAiB,CAAA6W,EAA0B3W,KAAG,IAA5B,UAAEC,GAAqB0W,EAAPzW,GAAKC,EAAAA,EAAAA,GAAAwW,EAAA+B,GAAA,OACxDrY,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEN,IAAKA,EACLC,WAAWM,EAAAA,EAAAA,IAAG,6BAA8BN,IACxCC,MAGGM,YAAc,Y","sources":["components/ui/textarea.jsx","components/ui/tabs.jsx","components/ui/skeleton.jsx","components/admin/FilePickerModal.jsx","pages/admin/AdminArtistDetail.jsx","components/ui/checkbox.jsx","components/ui/select.jsx","components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\n\nconst Textarea = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\nimport { cn } from \"../../lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\n\nfunction Skeleton({ className, ...props }) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","import React, { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport {\n  Search,\n  File,\n  Folder,\n  Image,\n  Music,\n  Video,\n  FileText,\n  Check,\n  Loader2,\n  Filter,\n} from 'lucide-react';\nimport axios from 'axios';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Badge } from '../ui/badge';\nimport { Checkbox } from '../ui/checkbox';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '../ui/dialog';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '../ui/select';\nimport { cn } from '../../lib/utils';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001';\n\n// File type icons\nconst getFileIcon = (type) => {\n  switch (type) {\n    case 'video':\n      return Video;\n    case 'audio':\n      return Music;\n    case 'image':\n      return Image;\n    case 'subtitle':\n      return FileText;\n    case 'folder':\n      return Folder;\n    default:\n      return File;\n  }\n};\n\n// Format file size\nconst formatFileSize = (bytes) => {\n  if (!bytes) return '0 B';\n  const k = 1024;\n  const sizes = ['B', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return `${(bytes / Math.pow(k, i)).toFixed(1)} ${sizes[i]}`;\n};\n\n/**\n * File Picker Modal Component\n * \n * A reusable modal for selecting files from the file manager\n * \n * @param {boolean} open - Whether the modal is open\n * @param {function} onOpenChange - Callback when modal open state changes\n * @param {function} onSelect - Callback when files are selected (receives array of file objects)\n * @param {boolean} multiSelect - Whether multiple files can be selected\n * @param {string[]} allowedTypes - Array of allowed file types (e.g., ['video', 'audio'])\n * @param {string} title - Modal title\n * @param {string} description - Modal description\n */\nexport function FilePickerModal({\n  open,\n  onOpenChange,\n  onSelect,\n  multiSelect = true,\n  allowedTypes = null,\n  title = 'Select Files',\n  description = 'Choose files from your file manager',\n}) {\n  const [currentPath, setCurrentPath] = useState('');\n  const [filterType, setFilterType] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFiles, setSelectedFiles] = useState([]);\n\n  // Fetch files\n  const { data: filesData, isLoading } = useQuery({\n    queryKey: ['file-picker', currentPath, filterType],\n    queryFn: async () => {\n      const token = localStorage.getItem('accessToken');\n      const response = await axios.get(`${API_BASE_URL}/api/files`, {\n        params: { dir: currentPath, type: filterType },\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      return response.data;\n    },\n    enabled: open,\n  });\n\n  const files = filesData?.data || [];\n\n  // Filter files based on allowed types\n  const filteredFiles = files.filter(file => {\n    // Always show folders\n    if (file.isDirectory) return true;\n    \n    // Apply allowed types filter\n    if (allowedTypes && allowedTypes.length > 0) {\n      return allowedTypes.includes(file.type);\n    }\n    \n    return true;\n  }).filter(file => {\n    // Apply search query\n    if (searchQuery) {\n      return file.name.toLowerCase().includes(searchQuery.toLowerCase());\n    }\n    return true;\n  });\n\n  const toggleFileSelection = (file) => {\n    if (file.isDirectory) {\n      setCurrentPath(file.path);\n      return;\n    }\n\n    if (multiSelect) {\n      setSelectedFiles(prev => {\n        const exists = prev.find(f => f.id === file.id);\n        if (exists) {\n          return prev.filter(f => f.id !== file.id);\n        } else {\n          return [...prev, file];\n        }\n      });\n    } else {\n      setSelectedFiles([file]);\n    }\n  };\n\n  const handleConfirm = () => {\n    onSelect(selectedFiles);\n    setSelectedFiles([]);\n    setCurrentPath('');\n    setSearchQuery('');\n  };\n\n  const handleCancel = () => {\n    setSelectedFiles([]);\n    setCurrentPath('');\n    setSearchQuery('');\n    onOpenChange(false);\n  };\n\n  // Breadcrumbs\n  const breadcrumbs = currentPath\n    ? currentPath.split('/').filter(Boolean)\n    : [];\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-4xl max-h-[80vh]\">\n        <DialogHeader>\n          <DialogTitle>{title}</DialogTitle>\n          <DialogDescription>{description}</DialogDescription>\n        </DialogHeader>\n\n        {/* Toolbar */}\n        <div className=\"flex gap-3\">\n          <div className=\"relative flex-1\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search files...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n          <Select value={filterType} onValueChange={setFilterType}>\n            <SelectTrigger className=\"w-[150px]\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Types</SelectItem>\n              <SelectItem value=\"video\">Videos</SelectItem>\n              <SelectItem value=\"audio\">Audio</SelectItem>\n              <SelectItem value=\"subtitle\">Subtitles</SelectItem>\n              <SelectItem value=\"image\">Images</SelectItem>\n              <SelectItem value=\"hls\">HLS</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n\n        {/* Breadcrumbs */}\n        <div className=\"flex items-center gap-2 text-sm\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setCurrentPath('')}\n            className={cn(!currentPath && 'font-semibold')}\n          >\n            Root\n          </Button>\n          {breadcrumbs.map((part, index) => (\n            <React.Fragment key={index}>\n              <span className=\"text-muted-foreground\">/</span>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setCurrentPath(breadcrumbs.slice(0, index + 1).join('/'))}\n                className={cn(index === breadcrumbs.length - 1 && 'font-semibold')}\n              >\n                {part}\n              </Button>\n            </React.Fragment>\n          ))}\n        </div>\n\n        {/* Selection count */}\n        {selectedFiles.length > 0 && (\n          <div className=\"flex items-center gap-2 p-2 bg-primary/10 rounded-lg\">\n            <Check className=\"h-4 w-4 text-primary\" />\n            <span className=\"text-sm font-medium\">\n              {selectedFiles.length} file{selectedFiles.length > 1 ? 's' : ''} selected\n            </span>\n          </div>\n        )}\n\n        {/* Files Grid */}\n        <div className=\"border rounded-lg max-h-[400px] overflow-y-auto\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center p-8\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n            </div>\n          ) : filteredFiles.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center p-8 text-center\">\n              <Folder className=\"h-12 w-12 text-muted-foreground mb-2\" />\n              <p className=\"text-sm text-muted-foreground\">\n                {searchQuery ? 'No files found' : 'This folder is empty'}\n              </p>\n            </div>\n          ) : (\n            <div className=\"p-4 space-y-2\">\n              {filteredFiles.map((file) => {\n                const Icon = getFileIcon(file.type);\n                const isSelected = selectedFiles.find(f => f.id === file.id);\n\n                return (\n                  <div\n                    key={file.id}\n                    className={cn(\n                      'flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:border-primary/50 transition-colors',\n                      isSelected && 'border-primary bg-primary/5'\n                    )}\n                    onClick={() => toggleFileSelection(file)}\n                  >\n                    {!file.isDirectory && (\n                      <Checkbox\n                        checked={!!isSelected}\n                        onCheckedChange={() => toggleFileSelection(file)}\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                    )}\n                    <Icon className={cn(\n                      'h-5 w-5',\n                      file.type === 'video' && 'text-blue-500',\n                      file.type === 'audio' && 'text-purple-500',\n                      file.type === 'image' && 'text-green-500',\n                      file.type === 'subtitle' && 'text-orange-500',\n                      file.type === 'folder' && 'text-yellow-500'\n                    )} />\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium truncate\">{file.name}</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {file.isDirectory ? `${file.itemCount || 0} items` : formatFileSize(file.size)}\n                      </p>\n                    </div>\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {file.type}\n                    </Badge>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"ghost\" onClick={handleCancel}>\n            Cancel\n          </Button>\n          <Button onClick={handleConfirm} disabled={selectedFiles.length === 0}>\n            Select {selectedFiles.length > 0 && `(${selectedFiles.length})`}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React, { useState, useMemo } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport {\n  ArrowLeft,\n  Plus,\n  Edit,\n  Trash2,\n  MoreHorizontal,\n  Disc,\n  Music,\n  Film,\n  Play,\n  User,\n  GripVertical,\n  X,\n  Check,\n  ExternalLink,\n  Loader2,\n  FolderOpen,\n  FileText,\n  Image as ImageIcon,\n} from 'lucide-react';\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\nimport { publicApi, adminApi } from '../../services/api';\nimport { useUIStore, usePlayerStore } from '../../store';\nimport { Card, CardContent, CardHeader, CardTitle } from '../../components/ui/card';\nimport { Input } from '../../components/ui/input';\nimport { Button } from '../../components/ui/button';\nimport { Badge } from '../../components/ui/badge';\nimport { Label } from '../../components/ui/label';\nimport { Textarea } from '../../components/ui/textarea';\nimport { Skeleton } from '../../components/ui/skeleton';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '../../components/ui/dialog';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '../../components/ui/dropdown-menu';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '../../components/ui/select';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../../components/ui/tabs';\nimport { Checkbox } from '../../components/ui/checkbox';\nimport { FilePickerModal } from '../../components/admin/FilePickerModal';\nimport { cn, generateGradient } from '../../lib/utils';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001';\n\nconst ALBUM_TYPES = [\n  { value: 'album', label: 'Album' },\n  { value: 'single', label: 'Single' },\n  { value: 'ep', label: 'EP' },\n  { value: 'compilation', label: 'Compilation' },\n  { value: 'audiobook', label: 'Audiobook' },\n  { value: 'lecture', label: 'Lecture Series' },\n];\n\nexport default function AdminArtistDetail() {\n  const { artistId } = useParams();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const { addToast } = useUIStore();\n  const { playTrack, setQueue } = usePlayerStore();\n\n  // State\n  const [activeTab, setActiveTab] = useState('albums');\n  const [showAddAlbumDialog, setShowAddAlbumDialog] = useState(false);\n  const [showEditAlbumDialog, setShowEditAlbumDialog] = useState(false);\n  const [showDeleteAlbumDialog, setShowDeleteAlbumDialog] = useState(false);\n  const [showAssignMediaDialog, setShowAssignMediaDialog] = useState(false);\n  const [showFileManagerDialog, setShowFileManagerDialog] = useState(false);\n  const [showEditArtistDialog, setShowEditArtistDialog] = useState(false);\n  const [showDeleteArtistDialog, setShowDeleteArtistDialog] = useState(false);\n  const [selectedAlbum, setSelectedAlbum] = useState(null);\n  const [selectedMediaIds, setSelectedMediaIds] = useState([]);\n  const [assignMediaTab, setAssignMediaTab] = useState('existing'); // 'existing' or 'file-manager'\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [fileManagerSelections, setFileManagerSelections] = useState({});\n  const [isCreatingMedia, setIsCreatingMedia] = useState(false);\n\n  const [albumForm, setAlbumForm] = useState({\n    title: '',\n    description: '',\n    coverImage: '',\n    releaseDate: '',\n    genre: '',\n    type: 'album',\n  });\n\n  const [artistForm, setArtistForm] = useState({\n    name: '',\n    bio: '',\n    genre: '',\n    image: '',\n    website: '',\n  });\n\n  // Fetch artist data\n  const { data: artistData, isLoading: artistLoading } = useQuery({\n    queryKey: ['artist', artistId],\n    queryFn: () => publicApi.getArtistById(artistId),\n    enabled: !!artistId,\n  });\n\n  // Fetch artist's albums\n  const { data: albumsData, isLoading: albumsLoading } = useQuery({\n    queryKey: ['artist-albums', artistId],\n    queryFn: () => publicApi.getArtistAlbums(artistId),\n    enabled: !!artistId,\n  });\n\n  // Fetch artist's media\n  const { data: artistMediaData, isLoading: mediaLoading } = useQuery({\n    queryKey: ['artist-media', artistId],\n    queryFn: () => publicApi.getArtistMedia(artistId),\n    enabled: !!artistId,\n  });\n\n  // Fetch all media for assignment dialog\n  const { data: allMediaData } = useQuery({\n    queryKey: ['admin-media'],\n    queryFn: () => publicApi.getMedia({ limit: 500 }),\n  });\n\n  const artist = artistData?.data;\n  const artistAlbums = useMemo(() => albumsData?.data || [], [albumsData?.data]);\n  const artistMedia = useMemo(() => artistMediaData?.data || [], [artistMediaData?.data]);\n  const allMedia = useMemo(() => allMediaData?.data || [], [allMediaData?.data]);\n\n  // Album tracks cache (fetched per album)\n  const [albumTracksCache, setAlbumTracksCache] = useState({});\n\n  // Get media not assigned to any album for this artist (must be before early returns)\n  const unassignedMedia = useMemo(() => {\n    const assignedIds = new Set();\n    artistAlbums.forEach((album) => {\n      const tracks = albumTracksCache[album.id] || [];\n      tracks.forEach((t) => assignedIds.add(t.id));\n    });\n    return allMedia.filter((m) => !assignedIds.has(m.id));\n  }, [allMedia, artistAlbums, albumTracksCache]);\n\n  // Fetch album tracks function\n  const fetchAlbumTracks = async (albumId) => {\n    if (albumTracksCache[albumId]) return albumTracksCache[albumId];\n    try {\n      const response = await publicApi.getAlbumMedia(albumId);\n      const tracks = response?.data || [];\n      setAlbumTracksCache((prev) => ({ ...prev, [albumId]: tracks }));\n      return tracks;\n    } catch (error) {\n      console.error('Failed to fetch album tracks:', error);\n      return [];\n    }\n  };\n\n  // Create album mutation\n  const createAlbumMutation = useMutation({\n    mutationFn: (data) => adminApi.createAlbum({ ...data, artistId }),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['artist-albums', artistId]);\n      setShowAddAlbumDialog(false);\n      setAlbumForm({ title: '', description: '', coverImage: '', releaseDate: '', genre: '', type: 'album' });\n      addToast({ message: 'Album created successfully', type: 'success' });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to create album', type: 'error' });\n    },\n  });\n\n  // Update album mutation\n  const updateAlbumMutation = useMutation({\n    mutationFn: ({ id, data }) => adminApi.updateAlbum(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['artist-albums', artistId]);\n      setShowEditAlbumDialog(false);\n      setSelectedAlbum(null);\n      addToast({ message: 'Album updated successfully', type: 'success' });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to update album', type: 'error' });\n    },\n  });\n\n  // Delete album mutation\n  const deleteAlbumMutation = useMutation({\n    mutationFn: (id) => adminApi.deleteAlbum(id),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['artist-albums', artistId]);\n      queryClient.invalidateQueries(['artist-media', artistId]);\n      setShowDeleteAlbumDialog(false);\n      setSelectedAlbum(null);\n      addToast({ message: 'Album deleted successfully', type: 'success' });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to delete album', type: 'error' });\n    },\n  });\n\n  // Update artist mutation\n  const updateArtistMutation = useMutation({\n    mutationFn: (data) => adminApi.updateArtist(artistId, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['artist', artistId]);\n      queryClient.invalidateQueries(['artists']);\n      setShowEditArtistDialog(false);\n      addToast({ message: 'Artist updated successfully', type: 'success' });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to update artist', type: 'error' });\n    },\n  });\n\n  // Delete artist mutation\n  const deleteArtistMutation = useMutation({\n    mutationFn: () => adminApi.deleteArtist(artistId, true),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['artists']);\n      navigate('/admin/artists');\n      addToast({ message: 'Artist deleted successfully', type: 'success' });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to delete artist', type: 'error' });\n    },\n  });\n\n  // Add media to album mutation\n  const addMediaToAlbumMutation = useMutation({\n    mutationFn: ({ albumId, mediaId, trackNumber }) => adminApi.addMediaToAlbum(albumId, mediaId, trackNumber),\n    onSuccess: (_, variables) => {\n      queryClient.invalidateQueries(['album-media', variables.albumId]);\n      queryClient.invalidateQueries(['artist-media', artistId]);\n      // Clear cache for this album\n      setAlbumTracksCache((prev) => {\n        const newCache = { ...prev };\n        delete newCache[variables.albumId];\n        return newCache;\n      });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to add track', type: 'error' });\n    },\n  });\n\n  // Remove media from album mutation\n  const removeMediaFromAlbumMutation = useMutation({\n    mutationFn: ({ albumId, mediaId }) => adminApi.removeMediaFromAlbum(albumId, mediaId),\n    onSuccess: (_, variables) => {\n      queryClient.invalidateQueries(['album-media', variables.albumId]);\n      queryClient.invalidateQueries(['artist-media', artistId]);\n      // Clear cache for this album\n      setAlbumTracksCache((prev) => {\n        const newCache = { ...prev };\n        delete newCache[variables.albumId];\n        return newCache;\n      });\n      addToast({ message: 'Track removed from album', type: 'success' });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to remove track', type: 'error' });\n    },\n  });\n\n  // Reorder tracks mutation\n  const reorderTracksMutation = useMutation({\n    mutationFn: ({ albumId, tracks }) => adminApi.reorderAlbumTracks(albumId, tracks),\n    onSuccess: (_, variables) => {\n      // Clear cache for this album\n      setAlbumTracksCache((prev) => {\n        const newCache = { ...prev };\n        delete newCache[variables.albumId];\n        return newCache;\n      });\n    },\n    onError: (error) => {\n      addToast({ message: error.response?.data?.message || 'Failed to reorder tracks', type: 'error' });\n    },\n  });\n\n  if (artistLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-start gap-4\">\n          <Skeleton className=\"h-10 w-10\" />\n          <div className=\"flex-1 flex gap-6\">\n            <Skeleton className=\"w-48 h-48 rounded-xl\" />\n            <div className=\"flex-1 space-y-4\">\n              <Skeleton className=\"h-10 w-64\" />\n              <Skeleton className=\"h-6 w-32\" />\n              <Skeleton className=\"h-20 w-full max-w-xl\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!artist) {\n    return (\n      <div className=\"text-center py-12\">\n        <User className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n        <h3 className=\"text-lg font-semibold mb-2\">Artist not found</h3>\n        <Button asChild>\n          <Link to=\"/admin/artists\">Back to Artists</Link>\n        </Button>\n      </div>\n    );\n  }\n\n  // Album handlers\n  const handleAddAlbum = () => {\n    setAlbumForm({\n      title: '',\n      description: '',\n      coverImage: '',\n      releaseDate: '',\n      genre: artist.genre || '',\n      type: 'album',\n    });\n    setShowAddAlbumDialog(true);\n  };\n\n  const handleEditAlbum = (album) => {\n    setSelectedAlbum(album);\n    setAlbumForm({\n      title: album.title,\n      description: album.description || '',\n      coverImage: album.coverImage || '',\n      releaseDate: album.releaseDate?.split('T')[0] || '',\n      genre: album.genre || '',\n      type: album.type || 'album',\n    });\n    setShowEditAlbumDialog(true);\n  };\n\n  const handleDeleteAlbum = (album) => {\n    setSelectedAlbum(album);\n    setShowDeleteAlbumDialog(true);\n  };\n\n  const handleSaveNewAlbum = () => {\n    if (!albumForm.title.trim()) {\n      addToast({ message: 'Album title is required', type: 'error' });\n      return;\n    }\n    createAlbumMutation.mutate(albumForm);\n  };\n\n  const handleSaveEditAlbum = () => {\n    if (!albumForm.title.trim()) {\n      addToast({ message: 'Album title is required', type: 'error' });\n      return;\n    }\n    updateAlbumMutation.mutate({ id: selectedAlbum.id, data: albumForm });\n  };\n\n  const confirmDeleteAlbum = () => {\n    deleteAlbumMutation.mutate(selectedAlbum.id);\n  };\n\n  // Media assignment handlers\n  const handleAssignMedia = (album) => {\n    setSelectedAlbum(album);\n    setSelectedMediaIds([]);\n    setShowAssignMediaDialog(true);\n  };\n\n  const toggleMediaSelection = (mediaId) => {\n    setSelectedMediaIds((prev) =>\n      prev.includes(mediaId)\n        ? prev.filter((id) => id !== mediaId)\n        : [...prev, mediaId]\n    );\n  };\n\n  const confirmAssignMedia = async () => {\n    if (selectedMediaIds.length === 0) {\n      addToast({ message: 'Select at least one track', type: 'error' });\n      return;\n    }\n\n    // Get current track count\n    const currentTracks = albumTracksCache[selectedAlbum.id] || [];\n    let nextTrackNumber = currentTracks.length + 1;\n\n    console.log('Adding tracks to album:', selectedAlbum.id, 'tracks:', selectedMediaIds);\n\n    // Add each selected media to the album\n    try {\n      for (const mediaId of selectedMediaIds) {\n        console.log('Adding media:', mediaId, 'track number:', nextTrackNumber);\n        await addMediaToAlbumMutation.mutateAsync({\n          albumId: selectedAlbum.id,\n          mediaId,\n          trackNumber: nextTrackNumber++,\n        });\n      }\n\n      // Invalidate queries to refresh the data\n      queryClient.invalidateQueries(['album-media', selectedAlbum.id]);\n      queryClient.invalidateQueries(['artist-albums', artistId]);\n      \n      // Clear the album tracks cache to force re-fetch\n      setAlbumTracksCache((prev) => {\n        const newCache = { ...prev };\n        delete newCache[selectedAlbum.id];\n        return newCache;\n      });\n\n      setShowAssignMediaDialog(false);\n      setSelectedAlbum(null);\n      setSelectedMediaIds([]);\n      addToast({ message: `${selectedMediaIds.length} tracks added to album`, type: 'success' });\n    } catch (error) {\n      console.error('Failed to add tracks:', error);\n      addToast({ message: error.response?.data?.message || 'Failed to add tracks', type: 'error' });\n    }\n  };\n\n  // Drag and drop for track reordering\n  const handleDragEnd = async (result, albumId, currentTracks) => {\n    if (!result.destination) return;\n\n    const newTracks = Array.from(currentTracks);\n    const [removed] = newTracks.splice(result.source.index, 1);\n    newTracks.splice(result.destination.index, 0, removed);\n\n    // Update local cache immediately for responsiveness\n    setAlbumTracksCache((prev) => ({ ...prev, [albumId]: newTracks }));\n\n    // Build reorder payload\n    const tracks = newTracks.map((track, index) => ({\n      mediaId: track.id,\n      trackNumber: index + 1,\n    }));\n\n    await reorderTracksMutation.mutateAsync({ albumId, tracks });\n  };\n\n  // Artist handlers\n  const handleEditArtist = () => {\n    setArtistForm({\n      name: artist.name,\n      bio: artist.bio || '',\n      genre: artist.genre || '',\n      image: artist.image || '',\n      website: artist.website || '',\n    });\n    setShowEditArtistDialog(true);\n  };\n\n  const handleSaveEditArtist = () => {\n    if (!artistForm.name.trim()) {\n      addToast({ message: 'Artist name is required', type: 'error' });\n      return;\n    }\n    updateArtistMutation.mutate(artistForm);\n  };\n\n  const confirmDeleteArtist = () => {\n    deleteArtistMutation.mutate();\n  };\n\n  // File Manager handlers\n  const handleFileManagerSelect = (files) => {\n    // Check if we're selecting subtitle/thumbnail for a specific file\n    const selectingFor = Object.entries(fileManagerSelections).find(\n      ([_, value]) => value?.selectingType\n    );\n    \n    if (selectingFor) {\n      const [fileId, selectionData] = selectingFor;\n      const type = selectionData.selectingType;\n      \n      if (files.length > 0) {\n        setFileManagerSelections(prev => ({\n          ...prev,\n          [fileId]: {\n            ...prev[fileId],\n            [type]: files[0],\n            selectingType: null\n          }\n        }));\n      }\n    } else {\n      // Selecting main media files\n      setSelectedFiles(files);\n    }\n    \n    setShowFileManagerDialog(false);\n  };\n\n  const handleCreateMediaFromFiles = async () => {\n    if (selectedFiles.length === 0) {\n      addToast({ message: 'No files selected', type: 'error' });\n      return;\n    }\n\n    setIsCreatingMedia(true);\n\n    try {\n      // Prepare files data with subtitles and thumbnails\n      const filesData = selectedFiles.map(file => {\n        const selections = fileManagerSelections[file.id] || {};\n        return {\n          path: file.path,\n          name: file.name,\n          type: file.type,\n          subtitlePath: selections.subtitle?.path || null,\n          thumbnailPath: selections.thumbnail?.path || null,\n        };\n      });\n\n      // Create media entries from files\n      const token = localStorage.getItem('accessToken');\n      const response = await axios.post(\n        `${API_BASE_URL}/api/files/create-media`,\n        {\n          files: filesData,\n          artistId: artistId,\n          albumId: null, // We'll add to album separately\n          language: 'en',\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` }\n        }\n      );\n\n      if (response.data.success && response.data.data.created.length > 0) {\n        // Get current track count\n        const currentTracks = albumTracksCache[selectedAlbum.id] || [];\n        let nextTrackNumber = currentTracks.length + 1;\n\n        // Add each created media to the album\n        for (const media of response.data.data.created) {\n          await addMediaToAlbumMutation.mutateAsync({\n            albumId: selectedAlbum.id,\n            mediaId: media.id,\n            trackNumber: nextTrackNumber++,\n          });\n        }\n\n        // Invalidate queries\n        queryClient.invalidateQueries(['album-media', selectedAlbum.id]);\n        queryClient.invalidateQueries(['artist-albums', artistId]);\n        queryClient.invalidateQueries(['artist-media', artistId]);\n        queryClient.invalidateQueries(['admin-media']);\n\n        // Clear cache\n        setAlbumTracksCache((prev) => {\n          const newCache = { ...prev };\n          delete newCache[selectedAlbum.id];\n          return newCache;\n        });\n\n        setShowAssignMediaDialog(false);\n        setAssignMediaTab('existing');\n        setSelectedFiles([]);\n        setFileManagerSelections({});\n        addToast({\n          message: `Created and added ${response.data.data.created.length} tracks`,\n          type: 'success'\n        });\n      } else {\n        throw new Error('Failed to create media entries');\n      }\n    } catch (error) {\n      console.error('Error creating media from files:', error);\n      addToast({\n        message: error.response?.data?.message || 'Failed to create media from files',\n        type: 'error'\n      });\n    } finally {\n      setIsCreatingMedia(false);\n    }\n  };\n\n  // Play handlers\n  const handlePlayAlbum = async (album) => {\n    let tracks = albumTracksCache[album.id];\n    if (!tracks) {\n      tracks = await fetchAlbumTracks(album.id);\n    }\n    if (tracks.length > 0) {\n      setQueue(tracks, 0);\n      playTrack(tracks[0], tracks);\n    }\n  };\n\n  const handlePlayTrack = (track, albumTracks) => {\n    playTrack(track, albumTracks);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-start gap-4\">\n        <Button variant=\"ghost\" size=\"icon\" asChild>\n          <Link to=\"/admin/artists\">\n            <ArrowLeft className=\"h-5 w-5\" />\n          </Link>\n        </Button>\n\n        <div className=\"flex-1 flex flex-col md:flex-row gap-6\">\n          {/* Artist Image */}\n          <div\n            className={cn(\n              'w-32 h-32 md:w-48 md:h-48 rounded-xl shrink-0 overflow-hidden',\n              !artist.image && `bg-gradient-to-br ${generateGradient(artist.id)}`\n            )}\n          >\n            {artist.image ? (\n              <img\n                src={artist.image}\n                alt={artist.name}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center\">\n                <User className=\"h-16 w-16 text-white/50\" />\n              </div>\n            )}\n          </div>\n\n          {/* Artist Info */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-start justify-between gap-4\">\n              <div>\n                <h1 className=\"text-3xl font-bold\">{artist.name}</h1>\n                <div className=\"flex items-center gap-2 mt-2\">\n                  {artist.genre && <Badge variant=\"secondary\">{artist.genre}</Badge>}\n                  <span className=\"text-muted-foreground\">\n                    {artistAlbums.length} albums  {artist.trackCount || artistMedia.length} tracks\n                  </span>\n                </div>\n              </div>\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"outline\" size=\"icon\">\n                    <MoreHorizontal className=\"h-5 w-5\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\">\n                  <DropdownMenuItem onClick={handleEditArtist}>\n                    <Edit className=\"mr-2 h-4 w-4\" />\n                    Edit Artist\n                  </DropdownMenuItem>\n                  {artist.website && (\n                    <DropdownMenuItem asChild>\n                      <a href={artist.website} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <ExternalLink className=\"mr-2 h-4 w-4\" />\n                        Visit Website\n                      </a>\n                    </DropdownMenuItem>\n                  )}\n                  <DropdownMenuSeparator />\n                  <DropdownMenuItem\n                    onClick={() => setShowDeleteArtistDialog(true)}\n                    className=\"text-destructive\"\n                  >\n                    <Trash2 className=\"mr-2 h-4 w-4\" />\n                    Delete Artist\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n            {artist.bio && (\n              <p className=\"text-muted-foreground mt-4 line-clamp-3\">{artist.bio}</p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <div className=\"flex items-center justify-between\">\n          <TabsList>\n            <TabsTrigger value=\"albums\">Albums</TabsTrigger>\n            <TabsTrigger value=\"tracks\">All Tracks</TabsTrigger>\n          </TabsList>\n          {activeTab === 'albums' && (\n            <Button onClick={handleAddAlbum}>\n              <Plus className=\"mr-2 h-4 w-4\" />\n              Add Album\n            </Button>\n          )}\n        </div>\n\n        {/* Albums Tab */}\n        <TabsContent value=\"albums\" className=\"space-y-6\">\n          {albumsLoading ? (\n            <div className=\"space-y-4\">\n              {Array.from({ length: 3 }).map((_, i) => (\n                <Card key={i}>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex gap-4\">\n                      <Skeleton className=\"w-24 h-24 rounded-lg\" />\n                      <div className=\"flex-1 space-y-2\">\n                        <Skeleton className=\"h-6 w-48\" />\n                        <Skeleton className=\"h-4 w-32\" />\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : artistAlbums.length === 0 ? (\n            <Card>\n              <CardContent className=\"text-center py-12\">\n                <Disc className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n                <h3 className=\"text-lg font-semibold mb-2\">No albums yet</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Create albums to organize this artist's content\n                </p>\n                <Button onClick={handleAddAlbum}>\n                  <Plus className=\"mr-2 h-4 w-4\" />\n                  Create First Album\n                </Button>\n              </CardContent>\n            </Card>\n          ) : (\n            artistAlbums.map((album) => (\n              <AlbumCard\n                key={album.id}\n                album={album}\n                albumTracksCache={albumTracksCache}\n                fetchAlbumTracks={fetchAlbumTracks}\n                onEditAlbum={handleEditAlbum}\n                onDeleteAlbum={handleDeleteAlbum}\n                onAssignMedia={handleAssignMedia}\n                onPlayAlbum={handlePlayAlbum}\n                onPlayTrack={handlePlayTrack}\n                onRemoveTrack={(track) =>\n                  removeMediaFromAlbumMutation.mutate({ albumId: album.id, mediaId: track.id })\n                }\n                onDragEnd={handleDragEnd}\n                addToast={addToast}\n              />\n            ))\n          )}\n        </TabsContent>\n\n        {/* All Tracks Tab */}\n        <TabsContent value=\"tracks\">\n          <Card>\n            <CardContent className=\"p-0\">\n              {mediaLoading ? (\n                <div className=\"p-4 space-y-2\">\n                  {Array.from({ length: 5 }).map((_, i) => (\n                    <Skeleton key={i} className=\"h-12 w-full\" />\n                  ))}\n                </div>\n              ) : artistMedia.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <Music className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n                  <h3 className=\"text-lg font-semibold mb-2\">No tracks assigned</h3>\n                  <p className=\"text-muted-foreground\">\n                    Upload media and assign it to this artist\n                  </p>\n                </div>\n              ) : (\n                <div className=\"divide-y\">\n                  {artistMedia.map((track, index) => (\n                    <div\n                      key={track.id}\n                      className=\"flex items-center gap-3 p-3 hover:bg-muted/50 group\"\n                    >\n                      <span className=\"w-8 text-sm text-muted-foreground text-center\">\n                        {index + 1}\n                      </span>\n                      <div\n                        className={cn(\n                          'w-10 h-10 rounded shrink-0',\n                          `bg-gradient-to-br ${generateGradient(track.id)}`\n                        )}\n                      >\n                        {track.thumbnail && (\n                          <img\n                            src={track.thumbnail}\n                            alt=\"\"\n                            className=\"w-full h-full object-cover rounded\"\n                          />\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium truncate\">{track.title}</p>\n                        <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                          {track.albumId ? (\n                            <Badge variant=\"secondary\" className=\"text-xs\">In Album</Badge>\n                          ) : (\n                            <Badge variant=\"outline\" className=\"text-xs\">Single</Badge>\n                          )}\n                        </div>\n                      </div>\n                      <Badge variant={track.type === 'video' ? 'default' : 'secondary'}>\n                        {track.type}\n                      </Badge>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"iconSm\"\n                        className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n                        onClick={() => handlePlayTrack(track, artistMedia)}\n                      >\n                        <Play className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Add Album Dialog */}\n      <Dialog open={showAddAlbumDialog} onOpenChange={setShowAddAlbumDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Add New Album</DialogTitle>\n            <DialogDescription>\n              Create a new album for {artist.name}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Title *</Label>\n              <Input\n                value={albumForm.title}\n                onChange={(e) => setAlbumForm({ ...albumForm, title: e.target.value })}\n                placeholder=\"Album title\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Type</Label>\n              <Select\n                value={albumForm.type}\n                onValueChange={(value) => setAlbumForm({ ...albumForm, type: value })}\n              >\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select type\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {ALBUM_TYPES.map((type) => (\n                    <SelectItem key={type.value} value={type.value}>\n                      {type.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Genre</Label>\n              <Input\n                value={albumForm.genre}\n                onChange={(e) => setAlbumForm({ ...albumForm, genre: e.target.value })}\n                placeholder=\"e.g., Spirituality, Jazz\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Description</Label>\n              <Textarea\n                value={albumForm.description}\n                onChange={(e) => setAlbumForm({ ...albumForm, description: e.target.value })}\n                placeholder=\"Album description\"\n                rows={2}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Cover Image URL</Label>\n              <Input\n                value={albumForm.coverImage}\n                onChange={(e) => setAlbumForm({ ...albumForm, coverImage: e.target.value })}\n                placeholder=\"https://example.com/cover.jpg\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Release Date</Label>\n              <Input\n                type=\"date\"\n                value={albumForm.releaseDate}\n                onChange={(e) => setAlbumForm({ ...albumForm, releaseDate: e.target.value })}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"ghost\" onClick={() => setShowAddAlbumDialog(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleSaveNewAlbum} disabled={createAlbumMutation.isLoading}>\n              {createAlbumMutation.isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n              Create Album\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Album Dialog */}\n      <Dialog open={showEditAlbumDialog} onOpenChange={setShowEditAlbumDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Edit Album</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Title *</Label>\n              <Input\n                value={albumForm.title}\n                onChange={(e) => setAlbumForm({ ...albumForm, title: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Type</Label>\n              <Select\n                value={albumForm.type}\n                onValueChange={(value) => setAlbumForm({ ...albumForm, type: value })}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {ALBUM_TYPES.map((type) => (\n                    <SelectItem key={type.value} value={type.value}>\n                      {type.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Genre</Label>\n              <Input\n                value={albumForm.genre}\n                onChange={(e) => setAlbumForm({ ...albumForm, genre: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Description</Label>\n              <Textarea\n                value={albumForm.description}\n                onChange={(e) => setAlbumForm({ ...albumForm, description: e.target.value })}\n                rows={2}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Cover Image URL</Label>\n              <Input\n                value={albumForm.coverImage}\n                onChange={(e) => setAlbumForm({ ...albumForm, coverImage: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Release Date</Label>\n              <Input\n                type=\"date\"\n                value={albumForm.releaseDate}\n                onChange={(e) => setAlbumForm({ ...albumForm, releaseDate: e.target.value })}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"ghost\" onClick={() => setShowEditAlbumDialog(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleSaveEditAlbum} disabled={updateAlbumMutation.isLoading}>\n              {updateAlbumMutation.isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n              Save Changes\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Album Dialog */}\n      <Dialog open={showDeleteAlbumDialog} onOpenChange={setShowDeleteAlbumDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Delete Album</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to delete \"{selectedAlbum?.title}\"?\n            </DialogDescription>\n          </DialogHeader>\n          <p className=\"text-sm text-muted-foreground py-4\">\n            The tracks in this album will not be deleted, but they will become unassigned.\n          </p>\n          <DialogFooter>\n            <Button variant=\"ghost\" onClick={() => setShowDeleteAlbumDialog(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"destructive\" onClick={confirmDeleteAlbum} disabled={deleteAlbumMutation.isLoading}>\n              {deleteAlbumMutation.isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n              Delete Album\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Assign Media Dialog */}\n      <Dialog open={showAssignMediaDialog} onOpenChange={setShowAssignMediaDialog}>\n        <DialogContent className=\"max-w-3xl max-h-[80vh] flex flex-col\">\n          <DialogHeader>\n            <DialogTitle>Add Tracks to {selectedAlbum?.title}</DialogTitle>\n            <DialogDescription>\n              Select tracks from existing media or file manager\n            </DialogDescription>\n          </DialogHeader>\n          \n          <Tabs value={assignMediaTab} onValueChange={setAssignMediaTab} className=\"flex-1 flex flex-col\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"existing\">Existing Media</TabsTrigger>\n              <TabsTrigger value=\"file-manager\">\n                <FolderOpen className=\"mr-2 h-4 w-4\" />\n                From File Manager\n              </TabsTrigger>\n            </TabsList>\n            \n            {/* Existing Media Tab */}\n            <TabsContent value=\"existing\" className=\"flex-1 overflow-y-auto py-4\">\n              {unassignedMedia.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Music className=\"h-8 w-8 mx-auto text-muted-foreground mb-2\" />\n                  <p className=\"text-muted-foreground\">No unassigned media available</p>\n                </div>\n              ) : (\n                <div className=\"space-y-1\">\n                  {unassignedMedia.map((media) => (\n                    <div\n                      key={media.id}\n                      onClick={() => toggleMediaSelection(media.id)}\n                      className={cn(\n                        'flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors',\n                        selectedMediaIds.includes(media.id)\n                          ? 'bg-primary/20 border border-primary'\n                          : 'hover:bg-muted/50'\n                      )}\n                    >\n                      <Checkbox\n                        checked={selectedMediaIds.includes(media.id)}\n                        onCheckedChange={() => toggleMediaSelection(media.id)}\n                      />\n                      <div\n                        className={cn(\n                          'w-10 h-10 rounded shrink-0',\n                          `bg-gradient-to-br ${generateGradient(media.id)}`\n                        )}\n                      >\n                        {media.thumbnail && (\n                          <img\n                            src={media.thumbnail}\n                            alt=\"\"\n                            className=\"w-full h-full object-cover rounded\"\n                          />\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium truncate\">{media.title}</p>\n                        <p className=\"text-xs text-muted-foreground truncate\">\n                          {media.subtitle || 'No description'}\n                        </p>\n                      </div>\n                      <Badge variant={media.type === 'video' ? 'default' : 'secondary'}>\n                        {media.type}\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </TabsContent>\n            \n            {/* File Manager Tab */}\n            <TabsContent value=\"file-manager\" className=\"flex-1 py-4\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <p className=\"text-sm text-muted-foreground\">\n                    Select audio/video files from your file manager\n                  </p>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => setShowFileManagerDialog(true)}\n                  >\n                    <FolderOpen className=\"mr-2 h-4 w-4\" />\n                    Browse Files\n                  </Button>\n                </div>\n                \n                {selectedFiles.length === 0 ? (\n                  <div className=\"text-center py-12 border-2 border-dashed rounded-lg\">\n                    <FolderOpen className=\"h-12 w-12 mx-auto text-muted-foreground mb-2\" />\n                    <p className=\"text-sm text-muted-foreground mb-4\">\n                      No files selected\n                    </p>\n                    <Button onClick={() => setShowFileManagerDialog(true)}>\n                      Select Files\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-2 max-h-[400px] overflow-y-auto\">\n                    {selectedFiles.map((file, index) => {\n                      const selections = fileManagerSelections[file.id] || {};\n                      \n                      return (\n                        <Card key={file.id}>\n                          <CardContent className=\"p-4\">\n                            <div className=\"flex items-start gap-3\">\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-2 mb-2\">\n                                  {file.type === 'video' ? (\n                                    <Film className=\"h-4 w-4 text-blue-500\" />\n                                  ) : (\n                                    <Music className=\"h-4 w-4 text-purple-500\" />\n                                  )}\n                                  <p className=\"font-medium truncate\">{file.name}</p>\n                                  <Badge variant=\"outline\" className=\"text-xs\">\n                                    {file.type}\n                                  </Badge>\n                                </div>\n                                \n                                <div className=\"grid grid-cols-2 gap-3\">\n                                  {/* Subtitle Selection */}\n                                  <div className=\"space-y-1\">\n                                    <Label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                                      <FileText className=\"h-3 w-3\" />\n                                      Subtitle (optional)\n                                    </Label>\n                                    <Button\n                                      variant=\"outline\"\n                                      size=\"sm\"\n                                      className=\"w-full justify-start text-xs h-8\"\n                                      onClick={() => {\n                                        // Open file picker for subtitles\n                                        setFileManagerSelections(prev => ({\n                                          ...prev,\n                                          [file.id]: { ...prev[file.id], selectingType: 'subtitle' }\n                                        }));\n                                        setShowFileManagerDialog(true);\n                                      }}\n                                    >\n                                      {selections.subtitle ? (\n                                        <span className=\"truncate\">{selections.subtitle.name}</span>\n                                      ) : (\n                                        'Select subtitle'\n                                      )}\n                                    </Button>\n                                  </div>\n                                  \n                                  {/* Thumbnail Selection */}\n                                  <div className=\"space-y-1\">\n                                    <Label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                                      <ImageIcon className=\"h-3 w-3\" />\n                                      Thumbnail (optional)\n                                    </Label>\n                                    <Button\n                                      variant=\"outline\"\n                                      size=\"sm\"\n                                      className=\"w-full justify-start text-xs h-8\"\n                                      onClick={() => {\n                                        setFileManagerSelections(prev => ({\n                                          ...prev,\n                                          [file.id]: { ...prev[file.id], selectingType: 'thumbnail' }\n                                        }));\n                                        setShowFileManagerDialog(true);\n                                      }}\n                                    >\n                                      {selections.thumbnail ? (\n                                        <span className=\"truncate\">{selections.thumbnail.name}</span>\n                                      ) : (\n                                        'Select thumbnail'\n                                      )}\n                                    </Button>\n                                  </div>\n                                </div>\n                              </div>\n                              \n                              <Button\n                                variant=\"ghost\"\n                                size=\"iconSm\"\n                                onClick={() => {\n                                  setSelectedFiles(prev => prev.filter(f => f.id !== file.id));\n                                  setFileManagerSelections(prev => {\n                                    const newSelections = { ...prev };\n                                    delete newSelections[file.id];\n                                    return newSelections;\n                                  });\n                                }}\n                              >\n                                <X className=\"h-4 w-4\" />\n                              </Button>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            </TabsContent>\n          </Tabs>\n          \n          <DialogFooter className=\"border-t pt-4\">\n            <div className=\"flex-1 text-sm text-muted-foreground\">\n              {assignMediaTab === 'existing' \n                ? `${selectedMediaIds.length} tracks selected`\n                : `${selectedFiles.length} files selected`\n              }\n            </div>\n            <Button variant=\"ghost\" onClick={() => {\n              setShowAssignMediaDialog(false);\n              setAssignMediaTab('existing');\n              setSelectedFiles([]);\n              setFileManagerSelections({});\n            }}>\n              Cancel\n            </Button>\n            <Button \n              onClick={assignMediaTab === 'existing' ? confirmAssignMedia : handleCreateMediaFromFiles}\n              disabled={\n                (assignMediaTab === 'existing' && selectedMediaIds.length === 0) ||\n                (assignMediaTab === 'file-manager' && selectedFiles.length === 0) ||\n                isCreatingMedia ||\n                addMediaToAlbumMutation.isPending\n              }\n            >\n              {(isCreatingMedia || addMediaToAlbumMutation.isPending) && (\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n              )}\n              <Check className=\"mr-2 h-4 w-4\" />\n              {assignMediaTab === 'existing' ? 'Add to Album' : 'Create & Add to Album'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* File Picker Modal */}\n      <FilePickerModal\n        open={showFileManagerDialog}\n        onOpenChange={setShowFileManagerDialog}\n        onSelect={handleFileManagerSelect}\n        multiSelect={true}\n        allowedTypes={\n          // Determine allowed types based on what we're selecting\n          Object.values(fileManagerSelections).some(s => s?.selectingType === 'subtitle')\n            ? ['subtitle']\n            : Object.values(fileManagerSelections).some(s => s?.selectingType === 'thumbnail')\n            ? ['image']\n            : ['audio', 'video', 'hls']\n        }\n        title={\n          Object.values(fileManagerSelections).some(s => s?.selectingType === 'subtitle')\n            ? 'Select Subtitle File'\n            : Object.values(fileManagerSelections).some(s => s?.selectingType === 'thumbnail')\n            ? 'Select Thumbnail'\n            : 'Select Media Files'\n        }\n      />\n\n      {/* Edit Artist Dialog */}\n      <Dialog open={showEditArtistDialog} onOpenChange={setShowEditArtistDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Edit Artist</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Name *</Label>\n              <Input\n                value={artistForm.name}\n                onChange={(e) => setArtistForm({ ...artistForm, name: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Genre</Label>\n              <Input\n                value={artistForm.genre}\n                onChange={(e) => setArtistForm({ ...artistForm, genre: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Biography</Label>\n              <Textarea\n                value={artistForm.bio}\n                onChange={(e) => setArtistForm({ ...artistForm, bio: e.target.value })}\n                rows={3}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Image URL</Label>\n              <Input\n                value={artistForm.image}\n                onChange={(e) => setArtistForm({ ...artistForm, image: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Website</Label>\n              <Input\n                value={artistForm.website}\n                onChange={(e) => setArtistForm({ ...artistForm, website: e.target.value })}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"ghost\" onClick={() => setShowEditArtistDialog(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleSaveEditArtist} disabled={updateArtistMutation.isLoading}>\n              {updateArtistMutation.isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n              Save Changes\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Artist Dialog */}\n      <Dialog open={showDeleteArtistDialog} onOpenChange={setShowDeleteArtistDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Delete Artist</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to delete \"{artist.name}\"?\n            </DialogDescription>\n          </DialogHeader>\n          <p className=\"text-sm text-muted-foreground py-4\">\n            This will delete all albums associated with this artist.\n            Media files will not be deleted but will become unassigned.\n          </p>\n          <DialogFooter>\n            <Button variant=\"ghost\" onClick={() => setShowDeleteArtistDialog(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"destructive\" onClick={confirmDeleteArtist} disabled={deleteArtistMutation.isLoading}>\n              {deleteArtistMutation.isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n              Delete Artist\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\n// AlbumCard Component with tracks\nfunction AlbumCard({\n  album,\n  albumTracksCache,\n  fetchAlbumTracks,\n  onEditAlbum,\n  onDeleteAlbum,\n  onAssignMedia,\n  onPlayAlbum,\n  onPlayTrack,\n  onRemoveTrack,\n  onDragEnd,\n  addToast,\n}) {\n  const [tracks, setTracks] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch tracks when component mounts or cache changes\n  React.useEffect(() => {\n    const loadTracks = async () => {\n      setLoading(true);\n      const fetchedTracks = await fetchAlbumTracks(album.id);\n      setTracks(fetchedTracks);\n      setLoading(false);\n    };\n    loadTracks();\n  }, [album.id, fetchAlbumTracks, albumTracksCache[album.id]]);\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-start gap-4\">\n          {/* Album Cover */}\n          <div\n            className={cn(\n              'w-24 h-24 rounded-lg shrink-0 overflow-hidden',\n              !album.coverImage && `bg-gradient-to-br ${generateGradient(album.id)}`\n            )}\n          >\n            {album.coverImage ? (\n              <img\n                src={album.coverImage}\n                alt={album.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center\">\n                <Disc className=\"h-10 w-10 text-white/50\" />\n              </div>\n            )}\n          </div>\n\n          {/* Album Info */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <CardTitle className=\"text-xl\">{album.title}</CardTitle>\n                <div className=\"flex items-center gap-2 mt-1 text-sm text-muted-foreground\">\n                  <Badge variant=\"outline\">\n                    {ALBUM_TYPES.find((t) => t.value === album.type)?.label || 'Album'}\n                  </Badge>\n                  <span>{album.trackCount || tracks.length} tracks</span>\n                  {album.releaseDate && <span> {album.releaseDate.split('T')[0]}</span>}\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                {tracks.length > 0 && (\n                  <Button\n                    variant=\"spotify\"\n                    size=\"icon\"\n                    onClick={() => onPlayAlbum(album)}\n                  >\n                    <Play className=\"h-5 w-5 ml-0.5\" />\n                  </Button>\n                )}\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button variant=\"ghost\" size=\"icon\">\n                      <MoreHorizontal className=\"h-5 w-5\" />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"end\">\n                    <DropdownMenuItem onClick={() => onAssignMedia(album)}>\n                      <Plus className=\"mr-2 h-4 w-4\" />\n                      Add Tracks\n                    </DropdownMenuItem>\n                    <DropdownMenuItem onClick={() => onEditAlbum(album)}>\n                      <Edit className=\"mr-2 h-4 w-4\" />\n                      Edit Album\n                    </DropdownMenuItem>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem\n                      onClick={() => onDeleteAlbum(album)}\n                      className=\"text-destructive\"\n                    >\n                      <Trash2 className=\"mr-2 h-4 w-4\" />\n                      Delete Album\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              </div>\n            </div>\n            {album.description && (\n              <p className=\"text-sm text-muted-foreground mt-2 line-clamp-2\">\n                {album.description}\n              </p>\n            )}\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent>\n        {loading ? (\n          <div className=\"space-y-2\">\n            {Array.from({ length: 3 }).map((_, i) => (\n              <Skeleton key={i} className=\"h-12 w-full\" />\n            ))}\n          </div>\n        ) : tracks.length === 0 ? (\n          <div className=\"text-center py-6 border border-dashed rounded-lg\">\n            <Music className=\"h-8 w-8 mx-auto text-muted-foreground mb-2\" />\n            <p className=\"text-sm text-muted-foreground mb-3\">No tracks in this album</p>\n            <Button variant=\"outline\" size=\"sm\" onClick={() => onAssignMedia(album)}>\n              <Plus className=\"mr-2 h-4 w-4\" />\n              Add Tracks\n            </Button>\n          </div>\n        ) : (\n          <DragDropContext onDragEnd={(result) => onDragEnd(result, album.id, tracks)}>\n            <Droppable droppableId={album.id}>\n              {(provided) => (\n                <div\n                  ref={provided.innerRef}\n                  {...provided.droppableProps}\n                  className=\"space-y-1\"\n                >\n                  {tracks.map((track, index) => (\n                    <Draggable key={track.id} draggableId={track.id} index={index}>\n                      {(provided, snapshot) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          className={cn(\n                            'flex items-center gap-3 p-2 rounded-lg group hover:bg-muted/50',\n                            snapshot.isDragging && 'bg-muted shadow-lg'\n                          )}\n                        >\n                          <div\n                            {...provided.dragHandleProps}\n                            className=\"text-muted-foreground hover:text-foreground cursor-grab\"\n                          >\n                            <GripVertical className=\"h-4 w-4\" />\n                          </div>\n                          <span className=\"w-6 text-sm text-muted-foreground text-center\">\n                            {track.trackNumber || index + 1}\n                          </span>\n                          <div\n                            className={cn(\n                              'w-10 h-10 rounded shrink-0',\n                              `bg-gradient-to-br ${generateGradient(track.id)}`\n                            )}\n                          >\n                            {track.thumbnail && (\n                              <img\n                                src={track.thumbnail}\n                                alt=\"\"\n                                className=\"w-full h-full object-cover rounded\"\n                              />\n                            )}\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"font-medium truncate\">{track.title}</p>\n                            <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                              {track.type === 'video' ? (\n                                <Film className=\"h-3 w-3\" />\n                              ) : (\n                                <Music className=\"h-3 w-3\" />\n                              )}\n                              <span>{track.type}</span>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                            <Button\n                              variant=\"ghost\"\n                              size=\"iconSm\"\n                              onClick={() => onPlayTrack(track, tracks)}\n                            >\n                              <Play className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"iconSm\"\n                              onClick={() => onRemoveTrack(track)}\n                            >\n                              <X className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          </DragDropContext>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Checkbox = React.forwardRef(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\nimport { cn } from \"../../lib/utils\"\n\nconst Select = SelectPrimitive.Root\nconst SelectGroup = SelectPrimitive.Group\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, children, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </h3>\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":["Textarea","React","_ref","ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","displayName","Tabs","TabsPrimitive","TabsList","TabsTrigger","_ref2","_excluded2","TabsContent","_ref3","_excluded3","Skeleton","API_BASE_URL","process","getFileIcon","type","Video","Music","Image","FileText","Folder","File","formatFileSize","bytes","i","Math","floor","log","concat","pow","toFixed","FilePickerModal","open","onOpenChange","onSelect","multiSelect","allowedTypes","title","description","currentPath","setCurrentPath","useState","filterType","setFilterType","searchQuery","setSearchQuery","selectedFiles","setSelectedFiles","data","filesData","isLoading","useQuery","queryKey","queryFn","async","token","localStorage","getItem","axios","get","params","dir","headers","Authorization","enabled","filteredFiles","filter","file","isDirectory","length","includes","name","toLowerCase","toggleFileSelection","path","prev","find","f","id","breadcrumbs","split","Boolean","Dialog","children","_jsxs","DialogContent","DialogHeader","DialogTitle","DialogDescription","Search","Input","placeholder","value","onChange","e","target","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","Button","variant","size","onClick","map","part","index","slice","join","Check","Loader2","Icon","isSelected","Checkbox","checked","onCheckedChange","stopPropagation","itemCount","Badge","DialogFooter","handleCancel","handleConfirm","disabled","ALBUM_TYPES","label","AdminArtistDetail","artistId","useParams","navigate","useNavigate","queryClient","useQueryClient","addToast","useUIStore","playTrack","setQueue","usePlayerStore","activeTab","setActiveTab","showAddAlbumDialog","setShowAddAlbumDialog","showEditAlbumDialog","setShowEditAlbumDialog","showDeleteAlbumDialog","setShowDeleteAlbumDialog","showAssignMediaDialog","setShowAssignMediaDialog","showFileManagerDialog","setShowFileManagerDialog","showEditArtistDialog","setShowEditArtistDialog","showDeleteArtistDialog","setShowDeleteArtistDialog","selectedAlbum","setSelectedAlbum","selectedMediaIds","setSelectedMediaIds","assignMediaTab","setAssignMediaTab","fileManagerSelections","setFileManagerSelections","isCreatingMedia","setIsCreatingMedia","albumForm","setAlbumForm","coverImage","releaseDate","genre","artistForm","setArtistForm","bio","image","website","artistData","artistLoading","publicApi","getArtistById","albumsData","albumsLoading","getArtistAlbums","artistMediaData","mediaLoading","getArtistMedia","allMediaData","getMedia","limit","artist","artistAlbums","useMemo","artistMedia","allMedia","albumTracksCache","setAlbumTracksCache","unassignedMedia","assignedIds","Set","forEach","album","t","add","m","has","fetchAlbumTracks","albumId","response","getAlbumMedia","tracks","error","console","createAlbumMutation","useMutation","mutationFn","adminApi","createAlbum","onSuccess","invalidateQueries","message","onError","_error$response","_error$response$data","updateAlbumMutation","updateAlbum","_error$response2","_error$response2$data","deleteAlbumMutation","deleteAlbum","_error$response3","_error$response3$data","updateArtistMutation","updateArtist","_error$response4","_error$response4$data","deleteArtistMutation","deleteArtist","_error$response5","_error$response5$data","addMediaToAlbumMutation","mediaId","trackNumber","addMediaToAlbum","_","variables","newCache","_error$response6","_error$response6$data","removeMediaFromAlbumMutation","removeMediaFromAlbum","_error$response7","_error$response7$data","reorderTracksMutation","_ref4","reorderAlbumTracks","_error$response8","_error$response8$data","User","asChild","Link","to","handleAddAlbum","handleEditAlbum","_album$releaseDate","handleDeleteAlbum","handleAssignMedia","toggleMediaSelection","handleDragEnd","result","currentTracks","destination","newTracks","Array","from","removed","splice","source","track","mutateAsync","handlePlayAlbum","handlePlayTrack","albumTracks","ArrowLeft","generateGradient","src","alt","trackCount","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","align","DropdownMenuItem","handleEditArtist","Edit","href","rel","ExternalLink","DropdownMenuSeparator","Trash2","Plus","Card","CardContent","Disc","AlbumCard","onEditAlbum","onDeleteAlbum","onAssignMedia","onPlayAlbum","onPlayTrack","onRemoveTrack","mutate","onDragEnd","thumbnail","Play","Label","rows","handleSaveNewAlbum","trim","handleSaveEditAlbum","confirmDeleteAlbum","FolderOpen","media","subtitle","selections","Film","selectingType","ImageIcon","newSelections","X","nextTrackNumber","_error$response9","_error$response9$data","_selections$subtitle","_selections$thumbnail","subtitlePath","thumbnailPath","post","files","language","success","created","Error","_error$response0","_error$response0$data","isPending","selectingFor","Object","entries","_ref5","fileId","selectionData","values","some","s","handleSaveEditArtist","confirmDeleteArtist","_ref6","_ALBUM_TYPES$find","setTracks","loading","setLoading","fetchedTracks","loadTracks","CardHeader","CardTitle","DragDropContext","Droppable","droppableId","provided","innerRef","droppableProps","Draggable","draggableId","snapshot","draggableProps","isDragging","dragHandleProps","GripVertical","CheckboxPrimitive","SelectPrimitive","ChevronDown","SelectScrollUpButton","ChevronUp","SelectScrollDownButton","position","_excluded4","_excluded5","_excluded6","_ref7","_excluded7","CardDescription"],"ignoreList":[],"sourceRoot":""}