/*! For license information please see 369.dafd8093.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[369],{2284:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},9855:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},13416:(e,s,t)=>{t.d(s,{T:()=>c});var a=t(27051),i=t(53986),l=t(65043),n=t(99766),r=t(70579);const d=["className"],c=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,d);return(0,r.jsx)("textarea",(0,a.A)({className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s},l))});c.displayName="Textarea"},19690:(e,s,t)=>{t.d(s,{Xi:()=>x,av:()=>v,j7:()=>m,tU:()=>h});var a=t(27051),i=t(53986),l=t(65043),n=t(47127),r=t(99766),d=t(70579);const c=["className"],o=["className"],u=["className"],h=n.bL,m=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,c);return(0,d.jsx)(n.B8,(0,a.A)({ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t)},l))});m.displayName=n.B8.displayName;const x=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,o);return(0,d.jsx)(n.l9,(0,a.A)({ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t)},l))});x.displayName=n.l9.displayName;const v=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,u);return(0,d.jsx)(n.UC,(0,a.A)({ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t)},l))});v.displayName=n.UC.displayName},31555:(e,s,t)=>{t.d(s,{E:()=>d});var a=t(27051),i=t(53986),l=(t(65043),t(99766)),n=t(70579);const r=["className"];function d(e){let{className:s}=e,t=(0,i.A)(e,r);return(0,n.jsx)("div",(0,a.A)({className:(0,l.cn)("animate-pulse rounded-md bg-muted",s)},t))}},47097:(e,s,t)=>{t.d(s,{n:()=>N});var a,i,l,n,r,d=t(27051),c=t(65043),o=t(39790),u=t(55149),h=t(38458),m=t(26562),x=t(24558),v=t(25239),p=t(11454),f=t(60329),j=t(99723),b=(a=new WeakMap,i=new WeakMap,l=new WeakMap,n=new WeakMap,r=new WeakSet,class extends f.Q{constructor(e,s){super(),(0,o.A)(this,r),(0,u.A)(this,a,void 0),(0,u.A)(this,i,void 0),(0,u.A)(this,l,void 0),(0,u.A)(this,n,void 0),(0,x.A)(a,this,e),this.setOptions(s),this.bindMethods(),(0,m.A)(r,this,y).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const t=this.options;this.options=(0,h.A)(a,this).defaultMutationOptions(e),(0,j.f8)(this.options,t)||(0,h.A)(a,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,h.A)(l,this),observer:this}),null!==t&&void 0!==t&&t.mutationKey&&this.options.mutationKey&&(0,j.EN)(t.mutationKey)!==(0,j.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(s=(0,h.A)(l,this))||void 0===s?void 0:s.state.status)&&(0,h.A)(l,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=(0,h.A)(l,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){(0,m.A)(r,this,y).call(this),(0,m.A)(r,this,g).call(this,e)}getCurrentResult(){return(0,h.A)(i,this)}reset(){var e;null===(e=(0,h.A)(l,this))||void 0===e||e.removeObserver(this),(0,x.A)(l,this,void 0),(0,m.A)(r,this,y).call(this),(0,m.A)(r,this,g).call(this)}mutate(e,s){var t;return(0,x.A)(n,this,s),null===(t=(0,h.A)(l,this))||void 0===t||t.removeObserver(this),(0,x.A)(l,this,(0,h.A)(a,this).getMutationCache().build((0,h.A)(a,this),this.options)),(0,h.A)(l,this).addObserver(this),(0,h.A)(l,this).execute(e)}});function y(){var e,s;const t=null!==(e=null===(s=(0,h.A)(l,this))||void 0===s?void 0:s.state)&&void 0!==e?e:(0,v.$)();(0,x.A)(i,this,(0,d.A)((0,d.A)({},t),{},{isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}))}function g(e){p.jG.batch(()=>{if((0,h.A)(n,this)&&this.hasListeners()){const m=(0,h.A)(i,this).variables,x=(0,h.A)(i,this).context,v={client:(0,h.A)(a,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var s,t,l,r;if("success"===(null===e||void 0===e?void 0:e.type))null===(s=(t=(0,h.A)(n,this)).onSuccess)||void 0===s||s.call(t,e.data,m,x,v),null===(l=(r=(0,h.A)(n,this)).onSettled)||void 0===l||l.call(r,e.data,null,m,x,v);else if("error"===(null===e||void 0===e?void 0:e.type)){var d,c,o,u;null===(d=(c=(0,h.A)(n,this)).onError)||void 0===d||d.call(c,e.error,m,x,v),null===(o=(u=(0,h.A)(n,this)).onSettled)||void 0===o||o.call(u,void 0,e.error,m,x,v)}}this.listeners.forEach(e=>{e((0,h.A)(i,this))})})}var A=t(63248);function N(e,s){const t=(0,A.jE)(s),[a]=c.useState(()=>new b(t,e));c.useEffect(()=>{a.setOptions(e)},[a,e]);const i=c.useSyncExternalStore(c.useCallback(e=>a.subscribe(p.jG.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=c.useCallback((e,s)=>{a.mutate(e,s).catch(j.lQ)},[a]);if(i.error&&(0,j.GU)(a.options.throwOnError,[i.error]))throw i.error;return(0,d.A)((0,d.A)({},i),{},{mutate:l,mutateAsync:i.mutate})}},47127:(e,s,t)=>{t.d(s,{B8:()=>O,UC:()=>U,bL:()=>L,l9:()=>I});var a=t(27051),i=t(53986),l=t(65043),n=t(30858),r=t(21862),d=t(96711),c=t(52894),o=t(87914),u=t(14204),h=t(13642),m=t(54490),x=t(70579);const v=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],p=["__scopeTabs","loop"],f=["__scopeTabs","value","disabled"],j=["__scopeTabs","value","forceMount","children"];var b="Tabs",[y,g]=(0,r.A)(b,[d.RG]),A=(0,d.RG)(),[N,w]=y(b),k=l.forwardRef((e,s)=>{const{__scopeTabs:t,value:l,onValueChange:n,defaultValue:r,orientation:d="horizontal",dir:c,activationMode:p="automatic"}=e,f=(0,i.A)(e,v),j=(0,u.jH)(c),[y,g]=(0,h.i)({prop:l,onChange:n,defaultProp:null!==r&&void 0!==r?r:"",caller:b});return(0,x.jsx)(N,{scope:t,baseId:(0,m.B)(),value:y,onValueChange:g,orientation:d,dir:j,activationMode:p,children:(0,x.jsx)(o.sG.div,(0,a.A)((0,a.A)({dir:j,"data-orientation":d},f),{},{ref:s}))})});k.displayName=b;var C="TabsList",M=l.forwardRef((e,s)=>{const{__scopeTabs:t,loop:l=!0}=e,n=(0,i.A)(e,p),r=w(C,t),c=A(t);return(0,x.jsx)(d.bL,(0,a.A)((0,a.A)({asChild:!0},c),{},{orientation:r.orientation,dir:r.dir,loop:l,children:(0,x.jsx)(o.sG.div,(0,a.A)((0,a.A)({role:"tablist","aria-orientation":r.orientation},n),{},{ref:s}))}))});M.displayName=C;var _="TabsTrigger",S=l.forwardRef((e,s)=>{const{__scopeTabs:t,value:l,disabled:r=!1}=e,c=(0,i.A)(e,f),u=w(_,t),h=A(t),m=R(u.baseId,l),v=z(u.baseId,l),p=l===u.value;return(0,x.jsx)(d.q7,(0,a.A)((0,a.A)({asChild:!0},h),{},{focusable:!r,active:p,children:(0,x.jsx)(o.sG.button,(0,a.A)((0,a.A)({type:"button",role:"tab","aria-selected":p,"aria-controls":v,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:m},c),{},{ref:s,onMouseDown:(0,n.mK)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(l)}),onKeyDown:(0,n.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(l)}),onFocus:(0,n.mK)(e.onFocus,()=>{const e="manual"!==u.activationMode;p||r||!e||u.onValueChange(l)})}))}))});S.displayName=_;var T="TabsContent",E=l.forwardRef((e,s)=>{const{__scopeTabs:t,value:n,forceMount:r,children:d}=e,u=(0,i.A)(e,j),h=w(T,t),m=R(h.baseId,n),v=z(h.baseId,n),p=n===h.value,f=l.useRef(p);return l.useEffect(()=>{const e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(c.C,{present:r||p,children:t=>{let{present:i}=t;return(0,x.jsx)(o.sG.div,(0,a.A)((0,a.A)({"data-state":p?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":m,hidden:!i,id:v,tabIndex:0},u),{},{ref:s,style:(0,a.A)((0,a.A)({},e.style),{},{animationDuration:f.current?"0s":void 0}),children:i&&d}))}})});function R(e,s){return"".concat(e,"-trigger-").concat(s)}function z(e,s){return"".concat(e,"-content-").concat(s)}E.displayName=T;var L=k,O=M,I=S,U=E},48186:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},53369:(e,s,t)=>{t.r(s),t.d(s,{default:()=>F});var a=t(27051),i=t(65043),l=t(63248),n=t(12265),r=t(47097),d=t(2284),c=t(84105),o=t(39292),u=t(57170),h=t(19829),m=t(48186);const x=(0,t(21639).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var v=t(64265),p=t(9855),f=t(64830),j=t(66305),b=t(18717),y=t(91140),g=t(92264),A=t(13390),N=t(5949),w=t(31555),k=t(19690),C=t(65598),M=t(17484),_=t(99766),S=t(20556),T=t(13416),E=t(70579);const R=e=>{let{children:s,className:t}=e;return(0,E.jsx)("div",{className:(0,_.cn)("w-full overflow-auto",t),children:(0,E.jsx)("table",{className:"w-full caption-bottom text-sm",children:s})})},z=e=>{let{children:s}=e;return(0,E.jsx)("thead",{children:s})},L=e=>{let{children:s}=e;return(0,E.jsx)("tbody",{children:s})},O=e=>{let{children:s,className:t}=e;return(0,E.jsx)("tr",{className:(0,_.cn)("border-b transition-colors hover:bg-muted/50",t),children:s})},I=e=>{let{children:s,className:t}=e;return(0,E.jsx)("th",{className:(0,_.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground",t),children:s})},U=e=>{let{children:s,className:t}=e;return(0,E.jsx)("td",{className:(0,_.cn)("p-4 align-middle",t),children:s})};function F(){const e=(0,l.jE)(),{addToast:s}=(0,b.j_)(),[t,F]=(0,i.useState)(""),[G,K]=(0,i.useState)("all"),[D,V]=(0,i.useState)("table"),[$,P]=(0,i.useState)(null),[q,B]=(0,i.useState)(!1),[W,Z]=(0,i.useState)(!1),[H,Q]=(0,i.useState)(null),[X,J]=(0,i.useState)({title:"",subtitle:""}),{data:Y,isLoading:ee,error:se}=(0,n.I)({queryKey:["admin-media"],queryFn:()=>j.O0.getMedia({limit:500})}),te=(0,r.n)({mutationFn:e=>{let{id:s,data:t}=e;return j.ic.updateMedia(s,t)},onSuccess:()=>{e.invalidateQueries(["media"]),B(!1),P(null),s({message:"Media updated successfully",type:"success"})},onError:e=>{s({message:e.message||"Failed to update media",type:"error"})}}),ae=(0,r.n)({mutationFn:e=>{let{id:s,deleteFile:t}=e;return j.ic.deleteMedia(s,t)},onSuccess:()=>{e.invalidateQueries(["media"]),Z(!1),Q(null),s({message:"Media deleted successfully",type:"success"})},onError:e=>{s({message:e.message||"Failed to delete media",type:"error"})}}),ie=((null===Y||void 0===Y?void 0:Y.data)||[]).map(e=>{var s,t,i,l,n,r,d,c,o,u,h,m;return(0,a.A)((0,a.A)({},e),{},{fileSize:null!==(s=null!==(t=e.fileSize)&&void 0!==t?t:e.file_size)&&void 0!==s?s:0,filePath:null!==(i=null!==(l=e.filePath)&&void 0!==l?l:e.file_path)&&void 0!==i?i:"",thumbnailUrl:null!==(n=null!==(r=null!==(d=e.thumbnailUrl)&&void 0!==d?d:e.thumbnail_url)&&void 0!==r?r:e.thumbnail_path)&&void 0!==n?n:"",artistId:null!==(c=e.artistId)&&void 0!==c?c:e.artist_id,albumId:null!==(o=e.albumId)&&void 0!==o?o:e.album_id,contentGroupId:null!==(u=e.contentGroupId)&&void 0!==u?u:e.content_group_id,createdAt:null!==(h=e.createdAt)&&void 0!==h?h:e.created_at,updatedAt:null!==(m=e.updatedAt)&&void 0!==m?m:e.updated_at})}),le="all"===G?ie:ie.filter(e=>e.type===G),ne=t?le.filter(e=>{var s,a;return(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase()))||(null===(a=e.subtitle)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))}):le,re=e=>{P(e),J({title:e.title,subtitle:e.subtitle||""}),B(!0)},de=e=>{Q(e),Z(!0)},ce=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];H&&ae.mutate({id:H.id,deleteFile:e})};return(0,E.jsxs)("div",{className:"space-y-6",children:[(0,E.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("h2",{className:"text-2xl font-bold",children:"Media Library"}),(0,E.jsx)("p",{className:"text-muted-foreground",children:"Manage your uploaded media files"})]}),(0,E.jsxs)("div",{className:"flex items-center gap-2",children:[(0,E.jsx)(A.$,{variant:"table"===D?"secondary":"ghost",size:"icon",onClick:()=>V("table"),children:(0,E.jsx)(d.A,{className:"h-4 w-4"})}),(0,E.jsx)(A.$,{variant:"grid"===D?"secondary":"ghost",size:"icon",onClick:()=>V("grid"),children:(0,E.jsx)(c.A,{className:"h-4 w-4"})})]})]}),(0,E.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,E.jsxs)("div",{className:"relative flex-1",children:[(0,E.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,E.jsx)(g.p,{placeholder:"Search media...",value:t,onChange:e=>F(e.target.value),className:"pl-10"})]}),(0,E.jsx)(k.tU,{value:G,onValueChange:K,children:(0,E.jsxs)(k.j7,{children:[(0,E.jsx)(k.Xi,{value:"all",children:"All"}),(0,E.jsx)(k.Xi,{value:"video",children:"Videos"}),(0,E.jsx)(k.Xi,{value:"audio",children:"Audio"})]})})]}),(0,E.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[(0,E.jsxs)("span",{children:[ne.length," items shown"]}),(0,E.jsx)("span",{children:"\u2022"}),(0,E.jsxs)("span",{children:[ie.filter(e=>"video"===e.type).length," videos total"]}),(0,E.jsx)("span",{children:"\u2022"}),(0,E.jsxs)("span",{children:[ie.filter(e=>"audio"===e.type).length," audio total"]})]}),ee?(0,E.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,s)=>(0,E.jsx)(w.E,{className:"h-16 w-full"},s))}):se?(0,E.jsx)("div",{className:"text-center py-12 text-destructive",children:"Failed to load media. Please try again."}):0===ne.length?(0,E.jsxs)("div",{className:"text-center py-12",children:[(0,E.jsx)(u.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,E.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No media found"}),(0,E.jsx)("p",{className:"text-muted-foreground",children:t?"Try a different search term":"Upload your first media file"})]}):"table"===D?(0,E.jsx)(y.Zp,{children:(0,E.jsxs)(R,{children:[(0,E.jsx)(z,{children:(0,E.jsxs)(O,{children:[(0,E.jsx)(I,{children:"Media"}),(0,E.jsx)(I,{children:"Type"}),(0,E.jsx)(I,{className:"hidden md:table-cell",children:"Size"}),(0,E.jsx)(I,{className:"hidden md:table-cell",children:"Date"}),(0,E.jsx)(I,{className:"text-right",children:"Actions"})]})}),(0,E.jsx)(L,{children:ne.map(e=>(0,E.jsxs)(O,{children:[(0,E.jsx)(U,{children:(0,E.jsxs)("div",{className:"flex items-center gap-3",children:[(0,E.jsx)("div",{className:(0,_.cn)("w-10 h-10 rounded shrink-0","bg-gradient-to-br ".concat((0,_.O3)(e.id))),children:e.thumbnail&&(0,E.jsx)("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover rounded"})}),(0,E.jsxs)("div",{className:"min-w-0",children:[(0,E.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,E.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.subtitle||"No description"})]})]})}),(0,E.jsx)(U,{children:(0,E.jsxs)(N.E,{variant:"video"===e.type?"default":"secondary",children:["video"===e.type?(0,E.jsx)(u.A,{className:"h-3 w-3 mr-1"}):(0,E.jsx)(h.A,{className:"h-3 w-3 mr-1"}),e.type]})}),(0,E.jsx)(U,{className:"hidden md:table-cell",children:(0,_.v7)(e.fileSize)}),(0,E.jsx)(U,{className:"hidden md:table-cell",children:(0,_.Yq)(e.createdAt)}),(0,E.jsx)(U,{className:"text-right",children:(0,E.jsxs)(M.rI,{children:[(0,E.jsx)(M.ty,{asChild:!0,children:(0,E.jsx)(A.$,{variant:"ghost",size:"iconSm",children:(0,E.jsx)(m.A,{className:"h-4 w-4"})})}),(0,E.jsxs)(M.SQ,{align:"end",children:[(0,E.jsxs)(M._2,{onClick:()=>window.open(e.fileUrl,"_blank"),children:[(0,E.jsx)(x,{className:"mr-2 h-4 w-4"}),"View"]}),(0,E.jsxs)(M._2,{onClick:()=>re(e),children:[(0,E.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,E.jsx)(M.mB,{}),(0,E.jsxs)(M._2,{onClick:()=>de(e),className:"text-destructive",children:[(0,E.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})}):(0,E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:ne.map(e=>(0,E.jsxs)(y.Zp,{className:"group overflow-hidden",children:[(0,E.jsxs)("div",{className:(0,_.cn)("aspect-square relative","bg-gradient-to-br ".concat((0,_.O3)(e.id))),children:[e.thumbnail&&(0,E.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),(0,E.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,E.jsx)(A.$,{size:"icon",variant:"secondary",onClick:()=>window.open(e.fileUrl,"_blank"),children:(0,E.jsx)(f.A,{className:"h-4 w-4"})}),(0,E.jsx)(A.$,{size:"icon",variant:"secondary",onClick:()=>re(e),children:(0,E.jsx)(v.A,{className:"h-4 w-4"})}),(0,E.jsx)(A.$,{size:"icon",variant:"destructive",onClick:()=>de(e),children:(0,E.jsx)(p.A,{className:"h-4 w-4"})})]}),(0,E.jsx)(N.E,{className:"absolute top-2 left-2",variant:"video"===e.type?"default":"secondary",children:e.type})]}),(0,E.jsxs)(y.Wu,{className:"p-3",children:[(0,E.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,E.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,_.v7)(e.fileSize)})]})]},e.id))}),(0,E.jsx)(C.lG,{open:q,onOpenChange:B,children:(0,E.jsxs)(C.Cf,{children:[(0,E.jsxs)(C.c7,{children:[(0,E.jsx)(C.L3,{children:"Edit Media"}),(0,E.jsx)(C.rr,{children:"Update the media metadata"})]}),(0,E.jsxs)("div",{className:"space-y-4 py-4",children:[(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(S.J,{children:"Title"}),(0,E.jsx)(g.p,{value:X.title,onChange:e=>J(s=>(0,a.A)((0,a.A)({},s),{},{title:e.target.value}))})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(S.J,{children:"Description"}),(0,E.jsx)(T.T,{value:X.subtitle,onChange:e=>J(s=>(0,a.A)((0,a.A)({},s),{},{subtitle:e.target.value}))})]})]}),(0,E.jsxs)(C.Es,{children:[(0,E.jsx)(A.$,{variant:"ghost",onClick:()=>B(!1),children:"Cancel"}),(0,E.jsx)(A.$,{onClick:()=>{$&&te.mutate({id:$.id,data:X})},disabled:te.isPending,children:te.isPending?"Saving...":"Save"})]})]})}),(0,E.jsx)(C.lG,{open:W,onOpenChange:Z,children:(0,E.jsxs)(C.Cf,{children:[(0,E.jsxs)(C.c7,{children:[(0,E.jsx)(C.L3,{children:"Delete Media"}),(0,E.jsxs)(C.rr,{children:['Are you sure you want to delete "',null===H||void 0===H?void 0:H.title,'"?']})]}),(0,E.jsx)("div",{className:"py-4",children:(0,E.jsx)("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone. You can choose to keep the file on the server or delete it completely."})}),(0,E.jsxs)(C.Es,{className:"gap-2",children:[(0,E.jsx)(A.$,{variant:"ghost",onClick:()=>Z(!1),children:"Cancel"}),(0,E.jsx)(A.$,{variant:"outline",onClick:()=>ce(!1),disabled:ae.isPending,children:"Keep File"}),(0,E.jsx)(A.$,{variant:"destructive",onClick:()=>ce(!0),disabled:ae.isPending,children:ae.isPending?"Deleting...":"Delete All"})]})]})})]})}},64265:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},84105:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},91140:(e,s,t)=>{t.d(s,{BT:()=>f,Wu:()=>j,ZB:()=>p,Zp:()=>x,aR:()=>v});var a=t(27051),i=t(53986),l=t(65043),n=t(99766),r=t(70579);const d=["className"],c=["className"],o=["className","children"],u=["className"],h=["className"],m=["className"],x=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,d);return(0,r.jsx)("div",(0,a.A)({ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",t)},l))});x.displayName="Card";const v=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,c);return(0,r.jsx)("div",(0,a.A)({ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t)},l))});v.displayName="CardHeader";const p=l.forwardRef((e,s)=>{let{className:t,children:l}=e,d=(0,i.A)(e,o);return(0,r.jsx)("h3",(0,a.A)((0,a.A)({ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t)},d),{},{children:l}))});p.displayName="CardTitle";const f=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,u);return(0,r.jsx)("p",(0,a.A)({ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t)},l))});f.displayName="CardDescription";const j=l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,h);return(0,r.jsx)("div",(0,a.A)({ref:s,className:(0,n.cn)("p-6 pt-0",t)},l))});j.displayName="CardContent";l.forwardRef((e,s)=>{let{className:t}=e,l=(0,i.A)(e,m);return(0,r.jsx)("div",(0,a.A)({ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t)},l))}).displayName="CardFooter"}}]);
//# sourceMappingURL=369.dafd8093.chunk.js.map