"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[1879],{11879:(e,s,a)=>{a.r(s),a.d(s,{default:()=>X});var l=a(27051),i=a(65043),t=a(63248),n=a(12265),r=a(47097),d=a(96938),c=a(81228),o=a(50797),m=a(67883),u=a(20001),x=a(29940),h=a(7193),p=a(40614),g=a(57170),j=a(19829),v=a(55731),f=a(52269),N=a(58487),b=a(87015),y=a(41680),w=a(14459),A=a(71360),C=a(36360),S=a(71695),k=a(35613),T=a(36210),L=a(14319),F=a(15711),P=a(92382),R=a(66305),D=a(18717),U=a(91140),J=a(92264),Z=a(20556),B=a(13416),I=a(13390),z=a(45501),E=a(5949),M=a(19690),$=a(84370),q=a(65598),V=a(87885);const W=V.bL,O=V.R6,G=V.Ke;var H=a(99766),Q=a(70579);const K=[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"te",name:"Telugu",nativeName:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"},{code:"ta",name:"Tamil",nativeName:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},{code:"kn",name:"Kannada",nativeName:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"},{code:"ml",name:"Malayalam",nativeName:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},{code:"mr",name:"Marathi",nativeName:"\u092e\u0930\u093e\u0920\u0940"},{code:"bn",name:"Bengali",nativeName:"\u09ac\u09be\u0982\u09b2\u09be"},{code:"gu",name:"Gujarati",nativeName:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"},{code:"pa",name:"Punjabi",nativeName:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"ur",name:"Urdu",nativeName:"\u0627\u0631\u062f\u0648"},{code:"es",name:"Spanish",nativeName:"Espa\xf1ol"},{code:"fr",name:"French",nativeName:"Fran\xe7ais"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"ja",name:"Japanese",nativeName:"\u65e5\u672c\u8a9e"},{code:"ko",name:"Korean",nativeName:"\ud55c\uad6d\uc5b4"},{code:"zh",name:"Chinese",nativeName:"\u4e2d\u6587"},{code:"ar",name:"Arabic",nativeName:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},{code:"pt",name:"Portuguese",nativeName:"Portugu\xeas"},{code:"ru",name:"Russian",nativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}];function X(){var e,s,a,V,X,_,Y,ee;const se=(0,t.jE)(),{addToast:ae}=(0,D.j_)(),[le,ie]=(0,i.useState)("single"),[te,ne]=(0,i.useState)(null),[re,de]=(0,i.useState)(""),[ce,oe]=(0,i.useState)(""),[me,ue]=(0,i.useState)("video"),[xe,he]=(0,i.useState)("en"),[pe,ge]=(0,i.useState)(0),[je,ve]=(0,i.useState)(!1),[fe,Ne]=(0,i.useState)(null),[be,ye]=(0,i.useState)(null),[we,Ae]=(0,i.useState)(null),[Ce,Se]=(0,i.useState)(""),[ke,Te]=(0,i.useState)(""),[Le,Fe]=(0,i.useState)("en"),[Pe,Re]=(0,i.useState)(""),[De,Ue]=(0,i.useState)(0),[Je,Ze]=(0,i.useState)(""),[Be,Ie]=(0,i.useState)(""),[ze,Ee]=(0,i.useState)("video"),[Me,$e]=(0,i.useState)(null),[qe,Ve]=(0,i.useState)(null),[We,Oe]=(0,i.useState)("en"),[Ge,He]=(0,i.useState)(""),[Qe,Ke]=(0,i.useState)(!0),[Xe,_e]=(0,i.useState)(null),[Ye,es]=(0,i.useState)(null),[ss,as]=(0,i.useState)([]),[ls,is]=(0,i.useState)(""),[ts,ns]=(0,i.useState)(""),[rs,ds]=(0,i.useState)("video"),[cs,os]=(0,i.useState)(null),[ms,us]=(0,i.useState)(!1),[xs,hs]=(0,i.useState)([]),[ps,gs]=(0,i.useState)(!0),[js,vs]=(0,i.useState)(""),[fs,Ns]=(0,i.useState)(""),[bs,ys]=(0,i.useState)(!1),[ws,As]=(0,i.useState)(!1),[Cs,Ss]=(0,i.useState)(""),[ks,Ts]=(0,i.useState)(""),[Ls,Fs]=(0,i.useState)(!1),[Ps,Rs]=(0,i.useState)(null),[Ds,Us]=(0,i.useState)(""),[Js,Zs]=(0,i.useState)(null),[Bs,Is]=(0,i.useState)("en"),[zs,Es]=(0,i.useState)(""),[Ms,$s]=(0,i.useState)(!0),{data:qs}=(0,n.I)({queryKey:["artists"],queryFn:()=>R.O0.getArtists({limit:200})}),{data:Vs}=(0,n.I)({queryKey:["artist-albums",js],queryFn:()=>R.O0.getArtistAlbums(js),enabled:!!js}),{data:Ws}=(0,n.I)({queryKey:["media","all"],queryFn:()=>R.O0.getMedia({limit:200})}),Os=(null===qs||void 0===qs?void 0:qs.data)||[],Gs=(null===Vs||void 0===Vs?void 0:Vs.data)||[],Hs=(null===Ws||void 0===Ws?void 0:Ws.data)||[],Qs=(0,i.useMemo)(()=>{const e={};return Hs.forEach(s=>{s.contentGroupId&&(e[s.contentGroupId]||(e[s.contentGroupId]={id:s.contentGroupId,title:s.title,languages:[],items:[]}),e[s.contentGroupId].languages.push(s.language||"en"),e[s.contentGroupId].items.push(s))}),Object.values(e)},[Hs]),Ks=(0,r.n)({mutationFn:e=>R.ic.createArtist(e),onSuccess:e=>{se.invalidateQueries(["artists"]),vs(e.data.id),Ss(""),ys(!1),ae({message:"Artist created",type:"success"})},onError:e=>{var s,a;ae({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to create artist",type:"error"})}}),Xs=(0,r.n)({mutationFn:e=>R.ic.createAlbum(e),onSuccess:e=>{se.invalidateQueries(["artist-albums",js]),Ns(e.data.id),Ts(""),As(!1),ae({message:"Album created",type:"success"})},onError:e=>{var s,a;ae({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to create album",type:"error"})}}),_s=(0,r.n)({mutationFn:e=>{let{file:s,title:a,subtitle:l,type:i,artistId:t,albumId:n,language:r,contentGroupId:d,thumbnail:c}=e;return R.ic.uploadMedia(s,a,l,i,ge,t||null,n||null,r,d,c)},onSuccess:async e=>{var s;se.invalidateQueries(["media"]),se.invalidateQueries(["admin-media"]),se.invalidateQueries(["artist-media",js]);const a=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.id;if(a&&fs)try{const e=await R.O0.getAlbumMedia(fs),s=((null===e||void 0===e?void 0:e.data)||[]).length+1;await R.ic.addMediaToAlbum(fs,a,s),se.invalidateQueries(["album-media",fs])}catch(n){console.error("Failed to add media to album:",n)}if(a&&Js)try{await R.ic.uploadSubtitle(a,Js,{language:Bs,label:zs||void 0,isDefault:Ms}),se.invalidateQueries(["subtitles",a]),ae({message:"Subtitle uploaded successfully!",type:"success"})}catch(n){var l,i;console.error("Failed to upload subtitle:",n),ae({message:"Media uploaded but subtitle upload failed: "+((null===(l=n.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)||n.message),type:"warning"})}const t=K.find(e=>e.code===xe)||{name:xe};hs(s=>{var l;return[{id:a,title:re,type:me,language:xe,languageName:t.name,contentGroupId:(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.contentGroupId)||cs,uploadedAt:(new Date).toISOString()},...s].slice(0,10)}),Ys(),ae({message:"Media uploaded successfully!",type:"success"})},onError:e=>{var s,a;ae({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Upload failed",type:"error"})}}),Ys=()=>{ne(null),de(""),oe(""),ue("video"),he("en"),ge(0),vs(""),Ns(""),os(null),Zs(null),Is("en"),Es(""),$s(!0),Ne(null),ye(null)},ea=()=>{Ae(null),Se(""),Te(""),Fe("en"),Re(""),Ue(0),Ze(""),Ie(""),Ee("video"),$e(null),Ve(null),Oe("en"),He(""),Ke(!0),_e(null),es(null)},sa=(0,r.n)({mutationFn:e=>{let{hlsBundle:s,title:a,options:l}=e;return R.ic.uploadHLSMedia(s,a,l)},onSuccess:async e=>{var s,a;se.invalidateQueries(["media"]),se.invalidateQueries(["admin-media"]),se.invalidateQueries(["artists"]),Je&&(se.invalidateQueries(["artist",Je]),se.invalidateQueries(["artist-media",Je]),se.invalidateQueries(["artist-albums",Je]));const l=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.id;if(l&&qe)try{await R.ic.uploadSubtitle(l,qe,{language:We,label:Ge||void 0,isDefault:Qe}),se.invalidateQueries(["subtitles",l]),ae({message:"Subtitle uploaded successfully!",type:"success"})}catch(r){var i,t;console.error("Failed to upload subtitle:",r),ae({message:"HLS uploaded but subtitle upload failed: "+((null===(i=r.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message)||r.message),type:"warning"})}const n=K.find(e=>e.code===Le)||{name:Le};hs(s=>{var a,i;return[{id:l,title:Ce,type:ze,language:Le,languageName:n.name,isHls:!0,hlsPlaylistUrl:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.hlsPlaylistUrl,segmentCount:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.segmentCount,uploadedAt:(new Date).toISOString()},...s].slice(0,10)}),ea(),ae({message:"HLS ".concat(ze," uploaded successfully! (").concat((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.segmentCount)||0," segments)"),type:"success"})},onError:e=>{var s,a;ae({message:(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"HLS upload failed",type:"error"})}}),aa=(0,i.useCallback)(e=>{var s,a;e.preventDefault(),ve(!1);const l=(null===(s=e.dataTransfer)||void 0===s?void 0:s.files[0])||(null===(a=e.target)||void 0===a?void 0:a.files[0]);if(l){const e=l.type;if(e.startsWith("video/")||e.startsWith("audio/")){if(ne(l),ue(e.startsWith("video/")?"video":"audio"),!re){const e=l.name.replace(/\.[^/.]+$/,"");de(e)}}else ae({message:"Please upload a video (MP4) or audio (MP3) file",type:"error"})}},[re,ae]),la=(0,i.useCallback)(e=>{var s,a;const l=null===(s=e.target)||void 0===s||null===(a=s.files)||void 0===a?void 0:a[0];if(l){var i;const e=null===(i=l.name.split(".").pop())||void 0===i?void 0:i.toLowerCase();if(["srt","vtt","txt"].includes(e)){if(Zs(l),!zs){const e=l.name.replace(/\.[^/.]+$/,"");Es(e)}}else ae({message:"Please upload a subtitle file (.srt, .vtt, or .txt)",type:"error"})}},[zs,ae]),ia=(0,i.useCallback)(function(e){var s,a;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault(),ve(!1);const i=(null===(s=e.dataTransfer)||void 0===s?void 0:s.files)||(null===(a=e.target)||void 0===a?void 0:a.files);if((null===i||void 0===i?void 0:i.length)>0){const e=[];Array.from(i).forEach((s,a)=>{const i=s.type;if(i.startsWith("video/")||i.startsWith("audio/")){let t=l;if(!t){const e=s.name.toLowerCase(),a=K.find(s=>e.includes("_".concat(s.code))||e.includes("-".concat(s.code))||e.includes("(".concat(s.code,")"))||e.includes(s.name.toLowerCase()));t=(null===a||void 0===a?void 0:a.code)||"en"}if(e.push({id:"".concat(Date.now(),"-").concat(a),file:s,language:t,progress:0,status:"pending"}),rs||0!==a||ds(i.startsWith("video/")?"video":"audio"),!ls&&0===a){const e=s.name.replace(/\.[^/.]+$/,"").replace(/[_-](en|hi|te|ta|kn|ml|mr|bn|gu|pa|ur|es|fr|de|ja|ko|zh|ar|pt|ru)$/i,"");is(e)}}}),as(s=>[...s,...e])}},[ls,rs]),ta=e=>{e.preventDefault(),ve(!0)},na=e=>{e.preventDefault(),ve(!1)},ra=Os.find(e=>e.id===js),da=Gs.find(e=>e.id===fs),ca=ss.map(e=>e.language);K.filter(e=>!ca.includes(e.code));return(0,Q.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,Q.jsx)("div",{className:"flex items-center justify-between",children:(0,Q.jsxs)("div",{children:[(0,Q.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,Q.jsx)(o.A,{className:"h-6 w-6 text-primary"}),"Upload Media"]}),(0,Q.jsx)("p",{className:"text-muted-foreground",children:"Upload video or audio files with multi-language and HLS streaming support"})]})}),(0,Q.jsxs)(M.tU,{value:le,onValueChange:ie,className:"w-full",children:[(0,Q.jsxs)(M.j7,{className:"grid w-full grid-cols-3",children:[(0,Q.jsxs)(M.Xi,{value:"single",className:"flex items-center gap-2",children:[(0,Q.jsx)(o.A,{className:"h-4 w-4"}),"Single Upload"]}),(0,Q.jsxs)(M.Xi,{value:"hls",className:"flex items-center gap-2",children:[(0,Q.jsx)(m.A,{className:"h-4 w-4"}),"HLS Video"]}),(0,Q.jsxs)(M.Xi,{value:"multi",className:"flex items-center gap-2",children:[(0,Q.jsx)(u.A,{className:"h-4 w-4"}),"Multi-Language"]})]}),(0,Q.jsx)(M.av,{value:"single",className:"space-y-6 mt-6",children:(0,Q.jsxs)("form",{onSubmit:e=>{e.preventDefault(),te&&re.trim()?_s.mutate({file:te,title:re.trim(),subtitle:ce.trim(),type:me,language:xe,artistId:js||null,albumId:fs||null,contentGroupId:cs||null,thumbnail:fe||null}):ae({message:"Please select a file and enter a title",type:"error"})},className:"space-y-6",children:[(0,Q.jsx)(U.Zp,{children:(0,Q.jsx)(U.Wu,{className:"p-6",children:(0,Q.jsxs)("div",{onDrop:aa,onDragOver:ta,onDragLeave:na,className:(0,H.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer",je?"border-primary bg-primary/10":"border-border hover:border-primary/50",te&&"border-primary bg-primary/5"),children:[(0,Q.jsx)("input",{type:"file",accept:"video/mp4,audio/mp3,audio/mpeg,audio/m4a,audio/x-m4a,audio/mp4",onChange:aa,className:"hidden",id:"file-upload"}),(0,Q.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,Q.jsx)(d.N,{mode:"wait",children:te?(0,Q.jsxs)(c.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[(0,Q.jsx)("div",{className:"inline-flex p-4 rounded-full bg-primary/20",children:"video"===me?(0,Q.jsx)(x.A,{className:"h-8 w-8 text-primary"}):(0,Q.jsx)(h.A,{className:"h-8 w-8 text-primary"})}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{className:"font-medium",children:te.name}),(0,Q.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,H.v7)(te.size)})]}),(0,Q.jsxs)(I.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),ne(null)},children:[(0,Q.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Remove"]})]},"file-selected"):(0,Q.jsxs)(c.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[(0,Q.jsx)("div",{className:"inline-flex p-4 rounded-full bg-muted",children:(0,Q.jsx)(o.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{className:"font-medium",children:"Drag and drop your file here"}),(0,Q.jsx)("p",{className:"text-sm text-muted-foreground",children:"or click to browse"})]}),(0,Q.jsxs)("div",{className:"flex justify-center gap-4 text-sm text-muted-foreground",children:[(0,Q.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Q.jsx)(g.A,{className:"h-4 w-4"}),"MP4 Videos"]}),(0,Q.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Q.jsx)(j.A,{className:"h-4 w-4"}),"MP3 Audio"]})]}),(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 500MB"})]},"drop-zone")})})]})})}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsx)(U.aR,{children:(0,Q.jsx)(U.ZB,{children:"Media Details"})}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"title",children:"Title *"}),(0,Q.jsx)(J.p,{id:"title",placeholder:"Enter media title",value:re,onChange:e=>de(e.target.value),required:!0})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"language",children:"Language *"}),(0,Q.jsxs)($.l6,{value:xe,onValueChange:he,children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{placeholder:"Select language"})}),(0,Q.jsx)($.gC,{children:K.map(e=>(0,Q.jsx)($.eb,{value:e.code,children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(v.A,{className:"h-4 w-4"}),e.name," (",e.nativeName,")"]})},e.code))})]})]})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"subtitle",children:"Description"}),(0,Q.jsx)(B.T,{id:"subtitle",placeholder:"Enter a description (optional)",value:ce,onChange:e=>oe(e.target.value),rows:3})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"type",children:"Media Type"}),(0,Q.jsxs)($.l6,{value:me,onValueChange:ue,children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"video",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(g.A,{className:"h-4 w-4"}),"Video"]})}),(0,Q.jsx)($.eb,{value:"audio",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(j.A,{className:"h-4 w-4"}),"Audio"]})})]})]})]}),Qs.length>0&&(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Link to Existing Content (for language versions)"}),(0,Q.jsxs)($.l6,{value:cs||"new",onValueChange:e=>os("new"===e?null:e),children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{placeholder:"Create new content or link to existing"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"new",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(f.A,{className:"h-4 w-4"}),"New Content (no link)"]})}),Qs.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(N.A,{className:"h-4 w-4"}),e.title," (",e.languages.join(", "),")"]})},e.id))]})]}),cs&&(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:"This upload will be linked as a language variant of the selected content."})]})]})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsxs)(U.aR,{children:[(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(b.A,{className:"h-5 w-5"}),"Subtitles / Lyrics (Optional)"]}),(0,Q.jsx)(U.BT,{children:"Upload SRT, VTT for synced lyrics/subtitles, or TXT for plain text"})]}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Subtitle/Lyrics File"}),(0,Q.jsx)("div",{className:"flex gap-2",children:(0,Q.jsxs)("div",{className:"flex-1",children:[(0,Q.jsx)("input",{type:"file",accept:".srt,.vtt,.txt",onChange:la,className:"hidden",id:"subtitle-upload"}),(0,Q.jsx)("label",{htmlFor:"subtitle-upload",className:(0,H.cn)("flex items-center gap-2 p-3 rounded-lg border-2 border-dashed cursor-pointer transition-colors",Js?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:Js?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(y.A,{className:"h-5 w-5 text-primary"}),(0,Q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Q.jsx)("p",{className:"font-medium truncate",children:Js.name}),(0,Q.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(Js.size/1024).toFixed(1)," KB"]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),Zs(null),Es("")},children:(0,Q.jsx)(p.A,{className:"h-4 w-4"})})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"}),(0,Q.jsx)("span",{className:"text-muted-foreground",children:"Click to upload .srt, .vtt, or .txt file"})]})})]})})]}),Js&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Subtitle Language"}),(0,Q.jsxs)($.l6,{value:Bs,onValueChange:Is,children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{placeholder:"Select language"})}),(0,Q.jsx)($.gC,{children:K.map(e=>(0,Q.jsx)($.eb,{value:e.code,children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(v.A,{className:"h-4 w-4"}),e.name," (",e.nativeName,")"]})},e.code))})]})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Display Label"}),(0,Q.jsx)(J.p,{placeholder:"e.g., English, English (CC)",value:zs,onChange:e=>Es(e.target.value)})]})]}),(0,Q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Q.jsx)("input",{type:"checkbox",id:"default-subtitle",checked:Ms,onChange:e=>$s(e.target.checked),className:"rounded border-input"}),(0,Q.jsx)(Z.J,{htmlFor:"default-subtitle",className:"text-sm font-normal",children:"Set as default subtitle track"})]}),(0,Q.jsxs)("div",{className:"rounded-lg bg-muted/50 p-3 text-sm text-muted-foreground",children:[(0,Q.jsx)("strong",{children:"Format tips:"}),(0,Q.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,Q.jsxs)("li",{children:[(0,Q.jsx)("strong",{children:"SRT/VTT:"})," Time-synced subtitles for video, Spotify-style lyrics for audio"]}),(0,Q.jsxs)("li",{children:[(0,Q.jsx)("strong",{children:"TXT:"})," Plain text lyrics (displayed without sync)"]})]})]})]})]})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsxs)(U.aR,{children:[(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(g.A,{className:"h-5 w-5"}),"Thumbnail (Optional)"]}),(0,Q.jsx)(U.BT,{children:"Upload a cover image for your media (JPG, PNG, WebP)"})]}),(0,Q.jsx)(U.Wu,{className:"space-y-4",children:(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Thumbnail Image"}),(0,Q.jsx)("div",{className:"flex gap-2",children:(0,Q.jsxs)("div",{className:"flex-1",children:[(0,Q.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:e=>{var s,a;const l=null===(s=e.target)||void 0===s||null===(a=s.files)||void 0===a?void 0:a[0];if(l){Ne(l);const e=URL.createObjectURL(l);ye(e)}},className:"hidden",id:"thumbnail-upload"}),(0,Q.jsx)("label",{htmlFor:"thumbnail-upload",className:(0,H.cn)("flex items-center gap-2 p-3 rounded-lg border-2 border-dashed cursor-pointer transition-colors",fe?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:fe?(0,Q.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[be&&(0,Q.jsx)("img",{src:be,alt:"Thumbnail preview",className:"w-16 h-16 object-cover rounded"}),(0,Q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Q.jsx)("p",{className:"font-medium truncate",children:fe.name}),(0,Q.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(fe.size/1024).toFixed(1)," KB"]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),Ne(null),be&&(URL.revokeObjectURL(be),ye(null))},children:(0,Q.jsx)(p.A,{className:"h-4 w-4"})})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"}),(0,Q.jsx)("span",{className:"text-muted-foreground",children:"Click to upload thumbnail image"})]})})]})}),(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recommended: Square or 16:9 aspect ratio, max 10MB"})]})})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsx)(U.aR,{children:(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(w.A,{className:"h-5 w-5"}),"Artist & Album (Optional)"]})}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Artist"}),(0,Q.jsxs)("div",{className:"flex gap-2",children:[(0,Q.jsxs)($.l6,{value:js||"none",onValueChange:e=>{vs("none"===e?"":e),Ns("")},children:[(0,Q.jsx)($.bq,{className:"flex-1",children:(0,Q.jsx)($.yv,{placeholder:"Select an artist"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"none",children:"No artist"}),Os.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"outline",size:"icon",onClick:()=>ys(!0),children:(0,Q.jsx)(A.A,{className:"h-4 w-4"})})]})]}),js&&(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Album"}),(0,Q.jsxs)("div",{className:"flex gap-2",children:[(0,Q.jsxs)($.l6,{value:fs||"none",onValueChange:e=>Ns("none"===e?"":e),children:[(0,Q.jsx)($.bq,{className:"flex-1",children:(0,Q.jsx)($.yv,{placeholder:"Select an album"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"none",children:"No album (singles)"}),Gs.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:e.title},e.id))]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"outline",size:"icon",onClick:()=>As(!0),children:(0,Q.jsx)(A.A,{className:"h-4 w-4"})})]})]}),js&&(0,Q.jsxs)("p",{className:"text-xs text-muted-foreground",children:["This media will be assigned to"," ",(0,Q.jsx)("strong",{children:null===ra||void 0===ra?void 0:ra.name}),fs&&(0,Q.jsxs)(Q.Fragment,{children:[" ","in album"," ",(0,Q.jsx)("strong",{children:null===da||void 0===da?void 0:da.title})]})]})]})]}),_s.isPending&&(0,Q.jsx)(U.Zp,{children:(0,Q.jsx)(U.Wu,{className:"py-4",children:(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Q.jsx)("span",{children:"Uploading..."}),(0,Q.jsxs)("span",{children:[pe,"%"]})]}),(0,Q.jsx)(z.k,{value:pe})]})})}),(0,Q.jsxs)("div",{className:"flex gap-4",children:[(0,Q.jsx)(I.$,{type:"button",variant:"outline",onClick:Ys,disabled:_s.isPending,children:"Cancel"}),(0,Q.jsx)(I.$,{type:"submit",className:"flex-1",disabled:!te||!re.trim()||_s.isPending,children:_s.isPending?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(C.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Upload Media"]})})]})]})}),(0,Q.jsxs)(M.av,{value:"hls",className:"space-y-6 mt-6",children:[(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsxs)(U.aR,{children:[(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(m.A,{className:"h-5 w-5 text-primary"}),"Upload HLS Streaming Media"]}),(0,Q.jsx)(U.BT,{children:"Upload a ZIP file containing your HLS bundle (.m3u8 playlist and .ts segment files). The folder structure will be preserved for streaming."})]}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{onDrop:e=>{var s,a,l;e.preventDefault(),ve(!1);const i=(null===(s=e.dataTransfer)||void 0===s?void 0:s.files[0])||(null===(a=e.target)||void 0===a||null===(l=a.files)||void 0===l?void 0:l[0]);if(i){var t;const e=null===(t=i.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();if("zip"===e||"m3u8"===e){if(Ae(i),!Ce){const e=i.name.replace(/\.(zip|m3u8)$/i,"");Se(e)}}else ae({message:"Please upload a ZIP file containing HLS content (.m3u8 and .ts files)",type:"error"})}},onDragOver:ta,onDragLeave:na,className:(0,H.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer",je?"border-primary bg-primary/10":"border-border hover:border-primary/50",we&&"border-green-500 bg-green-500/5"),children:[(0,Q.jsx)("input",{type:"file",accept:".zip,.m3u8",onChange:e=>{var s,a;const l=null===(s=e.target)||void 0===s||null===(a=s.files)||void 0===a?void 0:a[0];if(l&&(Ae(l),!Ce)){const e=l.name.replace(/\.(zip|m3u8)$/i,"");Se(e)}},className:"hidden",id:"hls-file-upload"}),(0,Q.jsx)("label",{htmlFor:"hls-file-upload",className:"cursor-pointer",children:(0,Q.jsx)(d.N,{mode:"wait",children:we?(0,Q.jsxs)(c.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[(0,Q.jsx)("div",{className:"inline-flex p-4 rounded-full bg-green-500/20",children:(0,Q.jsx)(S.A,{className:"h-8 w-8 text-green-500"})}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{className:"font-medium",children:we.name}),(0,Q.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,H.v7)(we.size)," \u2022 HLS Bundle"]})]}),(0,Q.jsxs)(I.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),Ae(null)},children:[(0,Q.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Remove"]})]},"hls-file-selected"):(0,Q.jsxs)(c.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[(0,Q.jsx)("div",{className:"inline-flex p-4 rounded-full bg-muted",children:(0,Q.jsx)(S.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{className:"font-medium",children:"Drag and drop your HLS bundle here"}),(0,Q.jsx)("p",{className:"text-sm text-muted-foreground",children:"or click to browse"})]}),(0,Q.jsx)("div",{className:"flex flex-col items-center gap-2 text-sm text-muted-foreground",children:(0,Q.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Q.jsx)(S.A,{className:"h-4 w-4"}),"ZIP file containing .m3u8 + .ts files"]})}),(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 2GB"})]},"hls-drop-zone")})})]}),(0,Q.jsx)(U.Zp,{className:"bg-blue-500/5 border-blue-500/20",children:(0,Q.jsx)(U.Wu,{className:"p-4",children:(0,Q.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Q.jsx)("div",{className:"p-2 rounded-full bg-blue-500/10",children:(0,Q.jsx)(k.A,{className:"h-4 w-4 text-blue-500"})}),(0,Q.jsxs)("div",{className:"text-sm",children:[(0,Q.jsx)("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:"How to prepare HLS content"}),(0,Q.jsxs)("ul",{className:"mt-1 text-muted-foreground list-disc list-inside space-y-1",children:[(0,Q.jsx)("li",{children:"Create a ZIP file containing your .m3u8 playlist file"}),(0,Q.jsx)("li",{children:"Include all .ts segment files in the same ZIP"}),(0,Q.jsx)("li",{children:"Ensure segment paths in .m3u8 are relative (not absolute)"}),(0,Q.jsx)("li",{children:"Use tools like FFmpeg to convert MP4 to HLS format"})]})]})]})})})]})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsx)(U.aR,{children:(0,Q.jsx)(U.ZB,{children:"Media Details"})}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"hls-title",children:"Title *"}),(0,Q.jsx)(J.p,{id:"hls-title",placeholder:"Enter media title",value:Ce,onChange:e=>Se(e.target.value),required:!0})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"hls-language",children:"Language *"}),(0,Q.jsxs)($.l6,{value:Le,onValueChange:Fe,children:[(0,Q.jsx)($.bq,{id:"hls-language",children:(0,Q.jsx)($.yv,{placeholder:"Select language"})}),(0,Q.jsx)($.gC,{children:K.map(e=>(0,Q.jsx)($.eb,{value:e.code,children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(v.A,{className:"h-4 w-4"}),e.name," (",e.nativeName,")"]})},e.code))})]})]})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"hls-description",children:"Description"}),(0,Q.jsx)(B.T,{id:"hls-description",placeholder:"Enter a description (optional)",value:ke,onChange:e=>Te(e.target.value),rows:3})]}),(0,Q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"hls-type",children:"Media Type"}),(0,Q.jsxs)($.l6,{value:ze,onValueChange:Ee,children:[(0,Q.jsx)($.bq,{id:"hls-type",children:(0,Q.jsx)($.yv,{})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"video",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(g.A,{className:"h-4 w-4"}),"Video"]})}),(0,Q.jsx)($.eb,{value:"audio",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(j.A,{className:"h-4 w-4"}),"Audio"]})})]})]})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"hls-duration",children:"Duration (seconds)"}),(0,Q.jsx)(J.p,{id:"hls-duration",type:"number",placeholder:"Optional: duration in seconds",value:Pe,onChange:e=>Re(e.target.value)})]})]}),Qs.length>0&&(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Link to Existing Content (for language versions)"}),(0,Q.jsxs)($.l6,{value:Me||"new",onValueChange:e=>$e("new"===e?null:e),children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{placeholder:"Create new content or link to existing"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"new",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(f.A,{className:"h-4 w-4"}),"New Content (no link)"]})}),Qs.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(N.A,{className:"h-4 w-4"}),e.title," (",e.languages.join(", "),")"]})},e.id))]})]}),Me&&(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:"This upload will be linked as a language variant of the selected content."})]})]})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsxs)(U.aR,{children:[(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(b.A,{className:"h-5 w-5"}),"Subtitles / Lyrics (Optional)"]}),(0,Q.jsx)(U.BT,{children:"Upload SRT, VTT for synced lyrics/subtitles, or TXT for plain text"})]}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Subtitle/Lyrics File"}),(0,Q.jsx)("div",{className:"flex gap-2",children:(0,Q.jsxs)("div",{className:"flex-1",children:[(0,Q.jsx)("input",{type:"file",accept:".srt,.vtt,.txt",onChange:e=>{var s,a;const l=null===(s=e.target)||void 0===s||null===(a=s.files)||void 0===a?void 0:a[0];if(l){var i;const e=null===(i=l.name.split(".").pop())||void 0===i?void 0:i.toLowerCase();if(["srt","vtt","txt"].includes(e)){if(Ve(l),!Ge){const e=l.name.replace(/\.[^/.]+$/,"");He(e)}}else ae({message:"Please upload a subtitle file (.srt, .vtt, or .txt)",type:"error"})}},className:"hidden",id:"hls-subtitle-upload"}),(0,Q.jsx)("label",{htmlFor:"hls-subtitle-upload",className:(0,H.cn)("flex items-center gap-2 p-3 rounded-lg border-2 border-dashed cursor-pointer transition-colors",qe?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:qe?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(y.A,{className:"h-5 w-5 text-primary"}),(0,Q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Q.jsx)("p",{className:"font-medium truncate",children:qe.name}),(0,Q.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(qe.size/1024).toFixed(1)," KB"]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),Ve(null),He("")},children:(0,Q.jsx)(p.A,{className:"h-4 w-4"})})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"}),(0,Q.jsx)("span",{className:"text-muted-foreground",children:"Click to upload .srt, .vtt, or .txt file"})]})})]})})]}),qe&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Subtitle Language"}),(0,Q.jsxs)($.l6,{value:We,onValueChange:Oe,children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{placeholder:"Select language"})}),(0,Q.jsx)($.gC,{children:K.map(e=>(0,Q.jsx)($.eb,{value:e.code,children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(v.A,{className:"h-4 w-4"}),e.name," (",e.nativeName,")"]})},e.code))})]})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Display Label"}),(0,Q.jsx)(J.p,{placeholder:"e.g., English, English (CC)",value:Ge,onChange:e=>He(e.target.value)})]})]}),(0,Q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Q.jsx)("input",{type:"checkbox",id:"hls-default-subtitle",checked:Qe,onChange:e=>Ke(e.target.checked),className:"rounded border-input"}),(0,Q.jsx)(Z.J,{htmlFor:"hls-default-subtitle",className:"text-sm font-normal",children:"Set as default subtitle track"})]}),(0,Q.jsxs)("div",{className:"rounded-lg bg-muted/50 p-3 text-sm text-muted-foreground",children:[(0,Q.jsx)("strong",{children:"Format tips:"}),(0,Q.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,Q.jsxs)("li",{children:[(0,Q.jsx)("strong",{children:"SRT/VTT:"})," Time-synced subtitles for video, Spotify-style lyrics for audio"]}),(0,Q.jsxs)("li",{children:[(0,Q.jsx)("strong",{children:"TXT:"})," Plain text lyrics (displayed without sync)"]})]})]})]})]})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsxs)(U.aR,{children:[(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(g.A,{className:"h-5 w-5"}),"Thumbnail (Optional)"]}),(0,Q.jsx)(U.BT,{children:"Upload a cover image for your HLS media (JPG, PNG, WebP)"})]}),(0,Q.jsx)(U.Wu,{className:"space-y-4",children:(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Thumbnail Image"}),(0,Q.jsx)("div",{className:"flex gap-2",children:(0,Q.jsxs)("div",{className:"flex-1",children:[(0,Q.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:e=>{var s,a;const l=null===(s=e.target)||void 0===s||null===(a=s.files)||void 0===a?void 0:a[0];if(l){_e(l);const e=URL.createObjectURL(l);es(e)}},className:"hidden",id:"hls-thumbnail-upload"}),(0,Q.jsx)("label",{htmlFor:"hls-thumbnail-upload",className:(0,H.cn)("flex items-center gap-2 p-3 rounded-lg border-2 border-dashed cursor-pointer transition-colors",Xe?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:Xe?(0,Q.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[Ye&&(0,Q.jsx)("img",{src:Ye,alt:"Thumbnail preview",className:"w-16 h-16 object-cover rounded"}),(0,Q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Q.jsx)("p",{className:"font-medium truncate",children:Xe.name}),(0,Q.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(Xe.size/1024).toFixed(1)," KB"]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),_e(null),Ye&&(URL.revokeObjectURL(Ye),es(null))},children:(0,Q.jsx)(p.A,{className:"h-4 w-4"})})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"}),(0,Q.jsx)("span",{className:"text-muted-foreground",children:"Click to upload thumbnail image"})]})})]})}),(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recommended: Square or 16:9 aspect ratio, max 10MB"})]})})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsx)(U.aR,{children:(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(w.A,{className:"h-5 w-5"}),"Artist & Album (Optional)"]})}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Artist"}),(0,Q.jsxs)("div",{className:"flex gap-2",children:[(0,Q.jsxs)($.l6,{value:Je||"none",onValueChange:e=>{Ze("none"===e?"":e),Ie("")},children:[(0,Q.jsx)($.bq,{className:"flex-1",children:(0,Q.jsx)($.yv,{placeholder:"Select an artist"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"none",children:"No artist"}),Os.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"outline",size:"icon",onClick:()=>ys(!0),children:(0,Q.jsx)(A.A,{className:"h-4 w-4"})})]})]}),Je&&(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Album"}),(0,Q.jsxs)("div",{className:"flex gap-2",children:[(0,Q.jsxs)($.l6,{value:Be||"none",onValueChange:e=>Ie("none"===e?"":e),children:[(0,Q.jsx)($.bq,{className:"flex-1",children:(0,Q.jsx)($.yv,{placeholder:"Select an album"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"none",children:"No album (singles)"}),Gs.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:e.title},e.id))]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"outline",size:"icon",onClick:()=>As(!0),children:(0,Q.jsx)(A.A,{className:"h-4 w-4"})})]})]}),Je&&(0,Q.jsxs)("p",{className:"text-xs text-muted-foreground",children:["This media will be assigned to"," ",(0,Q.jsx)("strong",{children:null===(e=Os.find(e=>e.id===Je))||void 0===e?void 0:e.name}),Be&&(0,Q.jsxs)(Q.Fragment,{children:[" ","in album"," ",(0,Q.jsx)("strong",{children:null===(s=Gs.find(e=>e.id===Be))||void 0===s?void 0:s.title})]})]})]})]}),sa.isPending&&(0,Q.jsx)(U.Zp,{children:(0,Q.jsx)(U.Wu,{className:"py-4",children:(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Q.jsx)("span",{children:"Uploading HLS bundle..."}),(0,Q.jsxs)("span",{children:[De,"%"]})]}),(0,Q.jsx)(z.k,{value:De})]})})}),(0,Q.jsxs)("div",{className:"flex gap-4",children:[(0,Q.jsx)(I.$,{type:"button",variant:"outline",onClick:ea,disabled:sa.isPending,children:"Cancel"}),(0,Q.jsx)(I.$,{type:"button",className:"flex-1",disabled:!we||!Ce.trim()||sa.isPending,onClick:()=>{we&&Ce.trim()?sa.mutate({hlsBundle:we,title:Ce.trim(),options:{subtitle:ke.trim(),description:ke.trim(),language:Le,type:ze,artistId:Je||null,albumId:Be||null,contentGroupId:Me||null,duration:Pe?parseInt(Pe):void 0,onProgress:Ue,thumbnail:Xe||null}}):ae({message:"Please select a file and enter a title",type:"error"})},children:sa.isPending?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(C.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading HLS..."]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Upload HLS Media"]})})]})]}),(0,Q.jsxs)(M.av,{value:"multi",className:"space-y-6 mt-6",children:[(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsxs)(U.aR,{children:[(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(u.A,{className:"h-5 w-5"}),"Upload Multiple Language Versions"]}),(0,Q.jsx)(U.BT,{children:"Upload the same content in different languages. Files will be grouped together automatically."})]}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{onDrop:ia,onDragOver:ta,onDragLeave:na,className:(0,H.cn)("border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer",je?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:[(0,Q.jsx)("input",{type:"file",accept:"video/mp4,audio/mp3,audio/mpeg,audio/m4a,audio/x-m4a,audio/mp4",onChange:e=>ia(e),className:"hidden",id:"multi-file-upload",multiple:!0}),(0,Q.jsx)("label",{htmlFor:"multi-file-upload",className:"cursor-pointer",children:(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)("div",{className:"inline-flex p-3 rounded-full bg-muted",children:(0,Q.jsx)(o.A,{className:"h-6 w-6 text-muted-foreground"})}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{className:"font-medium",children:"Drop files here or click to browse"}),(0,Q.jsx)("p",{className:"text-sm text-muted-foreground",children:"You can upload multiple files at once"})]})]})})]}),ss.length>0&&(0,Q.jsxs)("div",{className:"space-y-3",children:[(0,Q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Q.jsxs)("h4",{className:"text-sm font-medium",children:["Language Versions (",ss.length,")"]}),(0,Q.jsxs)(I.$,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("add-language-file").click(),children:[(0,Q.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Add Language"]}),(0,Q.jsx)("input",{type:"file",accept:"video/mp4,audio/mp3,audio/mpeg,audio/m4a,audio/x-m4a,audio/mp4",onChange:e=>{var s,a;e.preventDefault();if(null===(s=e.target)||void 0===s||null===(a=s.files)||void 0===a?void 0:a[0]){var l;const s=K.filter(e=>!ss.some(s=>s.language===e.code));ia(e,(null===(l=s[0])||void 0===l?void 0:l.code)||"en")}us(!1)},className:"hidden",id:"add-language-file"})]}),(0,Q.jsx)("div",{className:"space-y-2",children:ss.map(e=>{K.find(s=>s.code===e.language);return(0,Q.jsxs)(c.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:(0,H.cn)("flex items-center gap-3 p-3 rounded-lg border","success"===e.status&&"border-green-500/50 bg-green-500/10","error"===e.status&&"border-red-500/50 bg-red-500/10","uploading"===e.status&&"border-primary/50 bg-primary/10"),children:[(0,Q.jsx)("div",{className:"p-2 rounded bg-muted",children:e.file.type.startsWith("video/")?(0,Q.jsx)(x.A,{className:"h-5 w-5 text-muted-foreground"}):(0,Q.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground"})}),(0,Q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Q.jsx)("p",{className:"text-sm font-medium truncate",children:e.file.name}),(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,H.v7)(e.file.size)}),"uploading"===e.status&&(0,Q.jsx)(z.k,{value:e.progress,className:"h-1 mt-1"})]}),(0,Q.jsxs)($.l6,{value:e.language,onValueChange:s=>{return a=e.id,i=s,void as(e=>e.map(e=>e.id===a?(0,l.A)((0,l.A)({},e),{},{language:i}):e));var a,i},disabled:"uploading"===e.status||"success"===e.status,children:[(0,Q.jsx)($.bq,{className:"w-40",children:(0,Q.jsx)($.yv,{})}),(0,Q.jsx)($.gC,{children:K.map(s=>(0,Q.jsx)($.eb,{value:s.code,disabled:ca.includes(s.code)&&s.code!==e.language,children:s.name},s.code))})]}),(0,Q.jsxs)(E.E,{variant:"success"===e.status?"default":"error"===e.status?"destructive":"uploading"===e.status?"secondary":"outline",children:["success"===e.status&&(0,Q.jsx)(T.A,{className:"h-3 w-3 mr-1"}),"uploading"===e.status&&(0,Q.jsx)(C.A,{className:"h-3 w-3 mr-1 animate-spin"}),e.status]}),(0,Q.jsx)(I.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>{return s=e.id,void as(e=>e.filter(e=>e.id!==s));var s},disabled:"uploading"===e.status,children:(0,Q.jsx)(p.A,{className:"h-4 w-4"})})]},e.id)})})]})]})]}),ss.length>0&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsxs)(U.aR,{children:[(0,Q.jsx)(U.ZB,{children:"Content Details"}),(0,Q.jsx)(U.BT,{children:"These details will apply to all language versions"})]}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"multi-title",children:"Title *"}),(0,Q.jsx)(J.p,{id:"multi-title",placeholder:"Enter content title",value:ls,onChange:e=>is(e.target.value),required:!0})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{htmlFor:"multi-subtitle",children:"Description"}),(0,Q.jsx)(B.T,{id:"multi-subtitle",placeholder:"Enter a description (optional)",value:ts,onChange:e=>ns(e.target.value),rows:3})]}),(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Media Type"}),(0,Q.jsxs)($.l6,{value:rs,onValueChange:ds,children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"video",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(g.A,{className:"h-4 w-4"}),"Video"]})}),(0,Q.jsx)($.eb,{value:"audio",children:(0,Q.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Q.jsx)(j.A,{className:"h-4 w-4"}),"Audio"]})})]})]})]})]})]}),(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsx)(U.aR,{children:(0,Q.jsxs)(U.ZB,{className:"flex items-center gap-2",children:[(0,Q.jsx)(w.A,{className:"h-5 w-5"}),"Artist & Album (Optional)"]})}),(0,Q.jsxs)(U.Wu,{className:"space-y-4",children:[(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Artist"}),(0,Q.jsxs)("div",{className:"flex gap-2",children:[(0,Q.jsxs)($.l6,{value:js||"none",onValueChange:e=>{vs("none"===e?"":e),Ns("")},children:[(0,Q.jsx)($.bq,{className:"flex-1",children:(0,Q.jsx)($.yv,{placeholder:"Select an artist"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"none",children:"No artist"}),Os.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"outline",size:"icon",onClick:()=>ys(!0),children:(0,Q.jsx)(A.A,{className:"h-4 w-4"})})]})]}),js&&(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Album"}),(0,Q.jsxs)("div",{className:"flex gap-2",children:[(0,Q.jsxs)($.l6,{value:fs||"none",onValueChange:e=>Ns("none"===e?"":e),children:[(0,Q.jsx)($.bq,{className:"flex-1",children:(0,Q.jsx)($.yv,{placeholder:"Select an album"})}),(0,Q.jsxs)($.gC,{children:[(0,Q.jsx)($.eb,{value:"none",children:"No album (singles)"}),Gs.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:e.title},e.id))]})]}),(0,Q.jsx)(I.$,{type:"button",variant:"outline",size:"icon",onClick:()=>As(!0),children:(0,Q.jsx)(A.A,{className:"h-4 w-4"})})]})]})]})]}),(0,Q.jsxs)("div",{className:"flex gap-4",children:[(0,Q.jsx)(I.$,{type:"button",variant:"outline",onClick:()=>{as([]),is(""),ns(""),ds("video"),os(null),vs(""),Ns("")},children:"Cancel"}),(0,Q.jsxs)(I.$,{type:"button",className:"flex-1",disabled:0===ss.length||!ls.trim()||ss.some(e=>"uploading"===e.status),onClick:async()=>{if(0===ss.length||!ls.trim())return void ae({message:"Please add files and enter a title",type:"error"});const e=cs||"cg_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));for(let t=0;t<ss.length;t++){const n=ss[t];as(e=>e.map(e=>e.id===n.id?(0,l.A)((0,l.A)({},e),{},{status:"uploading"}):e));try{await R.ic.uploadMedia(n.file,ls.trim(),ts.trim(),rs,e=>{as(s=>s.map(s=>s.id===n.id?(0,l.A)((0,l.A)({},s),{},{progress:e}):s))},js||null,fs||null,n.language,e),as(e=>e.map(e=>e.id===n.id?(0,l.A)((0,l.A)({},e),{},{status:"success",progress:100}):e));const s=K.find(e=>e.code===n.language)||{name:n.language};hs(a=>[{id:"".concat(e,"-").concat(n.language),title:ls.trim(),type:rs,language:n.language,languageName:s.name,contentGroupId:e,uploadedAt:(new Date).toISOString()},...a].slice(0,10))}catch(i){var s,a;as(e=>e.map(e=>e.id===n.id?(0,l.A)((0,l.A)({},e),{},{status:"error"}):e)),ae({message:"Failed to upload ".concat(n.language," version: ").concat((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||i.message),type:"error"})}}se.invalidateQueries(["media"]),se.invalidateQueries(["admin-media"]),ae({message:"Multi-language upload completed!",type:"success"})},children:[(0,Q.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Upload All (",ss.length," files)"]})]})]})]})]}),xs.length>0&&(0,Q.jsx)(W,{open:ps,onOpenChange:gs,children:(0,Q.jsxs)(U.Zp,{children:[(0,Q.jsx)(U.aR,{className:"py-3",children:(0,Q.jsx)(O,{asChild:!0,children:(0,Q.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",children:[(0,Q.jsxs)(U.ZB,{className:"text-base flex items-center gap-2",children:[(0,Q.jsx)(L.A,{className:"h-4 w-4 text-green-500"}),"Recent Uploads (",xs.length,")"]}),ps?(0,Q.jsx)(F.A,{className:"h-4 w-4"}):(0,Q.jsx)(P.A,{className:"h-4 w-4"})]})})}),(0,Q.jsx)(G,{children:(0,Q.jsx)(U.Wu,{className:"pt-0",children:(0,Q.jsx)("div",{className:"space-y-2",children:xs.map((e,s)=>(0,Q.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[(0,Q.jsx)("div",{className:"p-1.5 rounded bg-muted",children:e.isHls?(0,Q.jsx)(m.A,{className:"h-4 w-4 text-green-500"}):"video"===e.type?(0,Q.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"}):(0,Q.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,Q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Q.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,Q.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.uploadedAt).toLocaleTimeString()})]}),e.isHls&&(0,Q.jsxs)(E.E,{variant:"default",className:"flex items-center gap-1 bg-green-600",children:[(0,Q.jsx)(m.A,{className:"h-3 w-3"}),"HLS ",e.segmentCount&&"(".concat(e.segmentCount,")")]}),(0,Q.jsxs)(E.E,{variant:"secondary",className:"flex items-center gap-1",children:[(0,Q.jsx)(v.A,{className:"h-3 w-3"}),e.languageName]}),e.contentGroupId&&(0,Q.jsxs)(E.E,{variant:"outline",className:"flex items-center gap-1",children:[(0,Q.jsx)(N.A,{className:"h-3 w-3"}),"Grouped"]})]},"".concat(e.id,"-").concat(s)))})})})]})}),(0,Q.jsxs)(d.N,{children:[(_s.isSuccess||sa.isSuccess)&&(0,Q.jsxs)(c.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-green-500 bg-green-500/10 p-4 rounded-lg",children:[(0,Q.jsx)(L.A,{className:"h-5 w-5"}),(0,Q.jsx)("span",{children:"Upload successful!"})]}),(_s.isError||sa.isError)&&(0,Q.jsxs)(c.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-500 bg-red-500/10 p-4 rounded-lg",children:[(0,Q.jsx)(k.A,{className:"h-5 w-5"}),(0,Q.jsx)("span",{children:(null===(a=_s.error)||void 0===a||null===(V=a.response)||void 0===V||null===(X=V.data)||void 0===X?void 0:X.message)||(null===(_=sa.error)||void 0===_||null===(Y=_.response)||void 0===Y||null===(ee=Y.data)||void 0===ee?void 0:ee.message)||"Upload failed"})]})]}),(0,Q.jsx)(q.lG,{open:bs,onOpenChange:ys,children:(0,Q.jsxs)(q.Cf,{className:"max-w-sm",children:[(0,Q.jsxs)(q.c7,{children:[(0,Q.jsx)(q.L3,{children:"Create New Artist"}),(0,Q.jsx)(q.rr,{children:"Add a new artist to organize your content"})]}),(0,Q.jsxs)("div",{className:"py-4",children:[(0,Q.jsx)(Z.J,{children:"Artist Name"}),(0,Q.jsx)(J.p,{value:Cs,onChange:e=>Ss(e.target.value),placeholder:"e.g., Eckhart Tolle",className:"mt-2"})]}),(0,Q.jsxs)(q.Es,{children:[(0,Q.jsx)(I.$,{variant:"ghost",onClick:()=>ys(!1),children:"Cancel"}),(0,Q.jsxs)(I.$,{onClick:()=>{Cs.trim()&&Ks.mutate({name:Cs.trim()})},disabled:!Cs.trim()||Ks.isLoading,children:[Ks.isLoading&&(0,Q.jsx)(C.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Artist"]})]})]})}),(0,Q.jsx)(q.lG,{open:ws,onOpenChange:As,children:(0,Q.jsxs)(q.Cf,{className:"max-w-sm",children:[(0,Q.jsxs)(q.c7,{children:[(0,Q.jsx)(q.L3,{children:"Create New Album"}),(0,Q.jsxs)(q.rr,{children:["Add a new album for ",null===ra||void 0===ra?void 0:ra.name]})]}),(0,Q.jsxs)("div",{className:"py-4",children:[(0,Q.jsx)(Z.J,{children:"Album Title"}),(0,Q.jsx)(J.p,{value:ks,onChange:e=>Ts(e.target.value),placeholder:"e.g., The Power of Now",className:"mt-2"})]}),(0,Q.jsxs)(q.Es,{children:[(0,Q.jsx)(I.$,{variant:"ghost",onClick:()=>As(!1),children:"Cancel"}),(0,Q.jsxs)(I.$,{onClick:()=>{ks.trim()&&js&&Xs.mutate({title:ks.trim(),artistId:js})},disabled:!ks.trim()||Xs.isLoading,children:[Xs.isLoading&&(0,Q.jsx)(C.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Album"]})]})]})}),(0,Q.jsx)(q.lG,{open:Ls,onOpenChange:Fs,children:(0,Q.jsxs)(q.Cf,{children:[(0,Q.jsxs)(q.c7,{children:[(0,Q.jsx)(q.L3,{children:"Link to Existing Content"}),(0,Q.jsx)(q.rr,{children:"Choose an existing content to add this as a language variant"})]}),(0,Q.jsx)("div",{className:"py-4 space-y-4",children:(0,Q.jsxs)("div",{className:"space-y-2",children:[(0,Q.jsx)(Z.J,{children:"Select Content"}),(0,Q.jsxs)($.l6,{value:Ds,onValueChange:Us,children:[(0,Q.jsx)($.bq,{children:(0,Q.jsx)($.yv,{placeholder:"Select content to link"})}),(0,Q.jsx)($.gC,{children:Qs.map(e=>(0,Q.jsx)($.eb,{value:e.id,children:(0,Q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Q.jsx)("span",{children:e.title}),(0,Q.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",e.languages.join(", "),")"]})]})},e.id))})]})]})}),(0,Q.jsxs)(q.Es,{children:[(0,Q.jsx)(I.$,{variant:"ghost",onClick:()=>Fs(!1),children:"Cancel"}),(0,Q.jsxs)(I.$,{onClick:()=>{Ps&&Ds&&(os(Ds),ae({message:"Content will be linked to existing group",type:"success"})),Fs(!1),Rs(null),Us("")},disabled:!Ds,children:[(0,Q.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Link Content"]})]})]})})]})}},13416:(e,s,a)=>{a.d(s,{T:()=>c});var l=a(27051),i=a(53986),t=a(65043),n=a(99766),r=a(70579);const d=["className"],c=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,d);return(0,r.jsx)("textarea",(0,l.A)({className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s},t))});c.displayName="Textarea"},19690:(e,s,a)=>{a.d(s,{Xi:()=>h,av:()=>p,j7:()=>x,tU:()=>u});var l=a(27051),i=a(53986),t=a(65043),n=a(47127),r=a(99766),d=a(70579);const c=["className"],o=["className"],m=["className"],u=n.bL,x=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,c);return(0,d.jsx)(n.B8,(0,l.A)({ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a)},t))});x.displayName=n.B8.displayName;const h=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,o);return(0,d.jsx)(n.l9,(0,l.A)({ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a)},t))});h.displayName=n.l9.displayName;const p=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,m);return(0,d.jsx)(n.UC,(0,l.A)({ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a)},t))});p.displayName=n.UC.displayName},84370:(e,s,a)=>{a.d(s,{bq:()=>b,eb:()=>C,gC:()=>A,l6:()=>f,yv:()=>N});var l=a(27051),i=a(53986),t=a(65043),n=a(22095),r=a(36210),d=a(92382),c=a(15711),o=a(99766),m=a(70579);const u=["className","children"],x=["className"],h=["className"],p=["className","children","position"],g=["className"],j=["className","children"],v=["className"],f=n.bL,N=(n.YJ,n.WT),b=t.forwardRef((e,s)=>{let{className:a,children:t}=e,r=(0,i.A)(e,u);return(0,m.jsxs)(n.l9,(0,l.A)((0,l.A)({ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},r),{},{children:[t,(0,m.jsx)(n.In,{asChild:!0,children:(0,m.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]}))});b.displayName=n.l9.displayName;const y=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,x);return(0,m.jsx)(n.PP,(0,l.A)((0,l.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},t),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});y.displayName=n.PP.displayName;const w=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,h);return(0,m.jsx)(n.wn,(0,l.A)((0,l.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},t),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});w.displayName=n.wn.displayName;const A=t.forwardRef((e,s)=>{let{className:a,children:t,position:r="popper"}=e,d=(0,i.A)(e,p);return(0,m.jsx)(n.ZL,{children:(0,m.jsxs)(n.UC,(0,l.A)((0,l.A)({ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r},d),{},{children:[(0,m.jsx)(y,{}),(0,m.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,m.jsx)(w,{})]}))})});A.displayName=n.UC.displayName;t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,g);return(0,m.jsx)(n.JU,(0,l.A)({ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},t))}).displayName=n.JU.displayName;const C=t.forwardRef((e,s)=>{let{className:a,children:t}=e,d=(0,i.A)(e,j);return(0,m.jsxs)(n.q7,(0,l.A)((0,l.A)({ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},d),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(n.VF,{children:(0,m.jsx)(r.A,{className:"h-4 w-4"})})}),(0,m.jsx)(n.p4,{children:t})]}))});C.displayName=n.q7.displayName;t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,v);return(0,m.jsx)(n.wv,(0,l.A)({ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a)},t))}).displayName=n.wv.displayName},91140:(e,s,a)=>{a.d(s,{BT:()=>j,Wu:()=>v,ZB:()=>g,Zp:()=>h,aR:()=>p});var l=a(27051),i=a(53986),t=a(65043),n=a(99766),r=a(70579);const d=["className"],c=["className"],o=["className","children"],m=["className"],u=["className"],x=["className"],h=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,d);return(0,r.jsx)("div",(0,l.A)({ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",a)},t))});h.displayName="Card";const p=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,c);return(0,r.jsx)("div",(0,l.A)({ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a)},t))});p.displayName="CardHeader";const g=t.forwardRef((e,s)=>{let{className:a,children:t}=e,d=(0,i.A)(e,o);return(0,r.jsx)("h3",(0,l.A)((0,l.A)({ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a)},d),{},{children:t}))});g.displayName="CardTitle";const j=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,m);return(0,r.jsx)("p",(0,l.A)({ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a)},t))});j.displayName="CardDescription";const v=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,u);return(0,r.jsx)("div",(0,l.A)({ref:s,className:(0,n.cn)("p-6 pt-0",a)},t))});v.displayName="CardContent";t.forwardRef((e,s)=>{let{className:a}=e,t=(0,i.A)(e,x);return(0,r.jsx)("div",(0,l.A)({ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a)},t))}).displayName="CardFooter"}}]);
//# sourceMappingURL=1879.ccd04737.chunk.js.map