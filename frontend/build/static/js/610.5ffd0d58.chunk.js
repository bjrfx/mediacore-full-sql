/*! For license information please see 610.5ffd0d58.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[610],{31555:(e,s,a)=>{a.d(s,{E:()=>r});var i=a(27051),t=a(53986),l=(a(65043),a(99766)),c=a(70579);const n=["className"];function r(e){let{className:s}=e,a=(0,t.A)(e,n);return(0,c.jsx)("div",(0,i.A)({className:(0,l.cn)("animate-pulse rounded-md bg-muted",s)},a))}},31837:(e,s,a)=>{a.d(s,{A:()=>i});const i=(0,a(21639).A)("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]])},48186:(e,s,a)=>{a.d(s,{A:()=>i});const i=(0,a(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},50610:(e,s,a)=>{a.r(s),a.d(s,{default:()=>T});var i=a(65043),t=a(73216),l=a(12265),c=a(81228),n=a(92382),r=a(75088),d=a(7104),o=a(14918),x=a(31837),m=a(48186),h=a(19829),j=a(19340),u=a(64830),v=a(36661),w=a(53735),f=a(88306),N=a(82119),y=a(8707),g=a(81199),p=a(43677),k=a(75699),A=a(66305),b=a(18717),C=a(13390),z=a(79026),$=a(31555),M=a(17484),P=a(99766),E=a(70579);function T(){const{id:e}=(0,t.g)(),s=(0,t.Zp)(),{user:a}=(0,b.nc)(),{currentTrack:T,isPlaying:_,progress:q,duration:F,volume:H,isMuted:U,repeatMode:L,shuffleEnabled:S,playTrack:B,togglePlayPause:I,seek:V,setVolume:R,toggleMute:D,toggleRepeat:G,toggleShuffle:K,skipNext:O,skipPrevious:Q}=(0,b.ut)(),{isLiked:Y,toggleLike:Z,addToHistory:J}=(0,b.CA)(),{data:W,isLoading:X,error:ee}=(0,l.I)({queryKey:["media",e],queryFn:()=>A.O0.getMediaById(e),enabled:!!e}),se=null===W||void 0===W?void 0:W.data;(0,i.useEffect)(()=>{!se||T&&T.id===se.id||(B(se),J(se))},[null===se||void 0===se?void 0:se.id,null===T||void 0===T?void 0:T.id,B,J]);const ae=async()=>{if(navigator.share)try{await navigator.share({title:null===se||void 0===se?void 0:se.title,text:"Check out ".concat(null===se||void 0===se?void 0:se.title),url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href)},ie=F>0?q/F*100:0;return ee?(0,E.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,E.jsxs)("div",{className:"text-center",children:[(0,E.jsx)("p",{className:"text-lg text-muted-foreground mb-4",children:"Failed to load media"}),(0,E.jsx)(C.$,{onClick:()=>s(-1),children:"Go Back"})]})}):(0,E.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,P.cn)("min-h-screen flex flex-col","video"===(null===se||void 0===se?void 0:se.mediaType)?"bg-black":"bg-gradient-to-b from-card to-background"),children:[(0,E.jsxs)("header",{className:"flex items-center justify-between p-4 z-10",children:[(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:"text-white",onClick:()=>s(-1),children:(0,E.jsx)(n.A,{className:"h-6 w-6"})}),(0,E.jsx)("p",{className:"text-sm text-white/70 truncate max-w-[200px]",children:"Now Playing"}),(0,E.jsxs)(M.rI,{children:[(0,E.jsx)(M.ty,{asChild:!0,children:(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:"text-white",children:(0,E.jsx)(m.A,{className:"h-5 w-5"})})}),(0,E.jsxs)(M.SQ,{align:"end",children:[(0,E.jsxs)(M._2,{onClick:ae,children:[(0,E.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Share"]}),a&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(M._2,{onClick:()=>se&&Z(se),children:[(0,E.jsx)(o.A,{className:"h-4 w-4 mr-2"}),Y(null===se||void 0===se?void 0:se.id)?"Remove from Favorites":"Add to Favorites"]}),(0,E.jsxs)(M._2,{children:[(0,E.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Add to Playlist"]})]}),(0,E.jsx)(M.mB,{}),(0,E.jsxs)(M._2,{children:[(0,E.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})]}),(0,E.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-4",children:[X?(0,E.jsx)($.E,{className:"w-72 h-72 rounded-lg"}):"video"===(null===se||void 0===se?void 0:se.mediaType)?(0,E.jsx)("div",{className:"relative w-full max-w-4xl aspect-video bg-black rounded-lg overflow-hidden",children:(0,E.jsx)("video",{src:se.streamUrl||se.fileUrl,poster:se.thumbnailUrl,className:"w-full h-full",controls:!1})}):(0,E.jsx)(c.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200},className:"relative",children:null!==se&&void 0!==se&&se.thumbnailUrl?(0,E.jsx)("img",{src:se.thumbnailUrl,alt:se.title,className:(0,P.cn)("w-72 h-72 rounded-lg shadow-2xl object-cover",_&&"animate-pulse")}):(0,E.jsx)("div",{className:"w-72 h-72 rounded-lg bg-gradient-to-br from-primary/30 to-primary/10 flex items-center justify-center shadow-2xl",children:(0,E.jsx)(h.A,{className:"h-24 w-24 text-primary/50"})})}),(0,E.jsxs)("div",{className:"mt-8 text-center w-full max-w-md",children:[(0,E.jsx)("h1",{className:"text-2xl font-bold text-white truncate",children:X?(0,E.jsx)($.E,{className:"h-8 w-48 mx-auto"}):null===se||void 0===se?void 0:se.title}),(0,E.jsx)("p",{className:"text-white/70 mt-2 truncate",children:X?(0,E.jsx)($.E,{className:"h-5 w-32 mx-auto"}):(null===se||void 0===se?void 0:se.artist)||(null===se||void 0===se?void 0:se.description)})]}),(0,E.jsxs)("div",{className:"w-full max-w-md mt-8",children:[(0,E.jsx)(z.A,{value:[ie],max:100,step:.1,onValueChange:e=>{const s=e[0]/100*F;V(s)},className:"cursor-pointer"}),(0,E.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-white/50",children:[(0,E.jsx)("span",{children:(0,P.a3)(q)}),(0,E.jsx)("span",{children:(0,P.a3)(F)})]})]}),(0,E.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-6",children:[(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:(0,P.cn)("text-white/70 hover:text-white",S&&"text-primary"),onClick:K,children:(0,E.jsx)(N.A,{className:"h-5 w-5"})}),(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:"text-white hover:scale-110 transition-transform",onClick:Q,children:(0,E.jsx)(y.A,{className:"h-6 w-6"})}),(0,E.jsx)(C.$,{size:"icon",className:"h-16 w-16 rounded-full bg-white text-black hover:scale-105 transition-transform",onClick:I,children:_?(0,E.jsx)(j.A,{className:"h-8 w-8"}):(0,E.jsx)(u.A,{className:"h-8 w-8 ml-1"})}),(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:"text-white hover:scale-110 transition-transform",onClick:O,children:(0,E.jsx)(g.A,{className:"h-6 w-6"})}),(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:(0,P.cn)("text-white/70 hover:text-white","off"!==L&&"text-primary"),onClick:G,children:"one"===L?(0,E.jsx)(v.A,{className:"h-5 w-5"}):(0,E.jsx)(w.A,{className:"h-5 w-5"})})]}),(0,E.jsxs)("div",{className:"flex items-center justify-between w-full max-w-md mt-8",children:[(0,E.jsxs)("div",{className:"flex items-center gap-2",children:[(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:"text-white/70",onClick:D,children:U||0===H?(0,E.jsx)(k.A,{className:"h-5 w-5"}):(0,E.jsx)(p.A,{className:"h-5 w-5"})}),(0,E.jsx)("div",{className:"w-24",children:(0,E.jsx)(z.A,{value:[U?0:100*H],max:100,onValueChange:e=>R(e[0]/100)})})]}),(0,E.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:"text-white/70",onClick:()=>se&&Z(se),children:(0,E.jsx)(o.A,{className:(0,P.cn)("h-5 w-5",Y(null===se||void 0===se?void 0:se.id)&&"fill-primary text-primary")})}),(0,E.jsx)(C.$,{variant:"ghost",size:"icon",className:"text-white/70",onClick:ae,children:(0,E.jsx)(f.A,{className:"h-5 w-5"})})]})]}),se&&(0,E.jsx)("div",{className:"mt-8 text-center text-white/50 text-sm",children:(0,E.jsxs)("p",{className:"flex items-center justify-center gap-4",children:[(0,E.jsxs)("span",{className:"flex items-center gap-1",children:[(0,E.jsx)(r.A,{className:"h-4 w-4"}),(0,P.a3)(se.duration)]}),se.createdAt&&(0,E.jsxs)("span",{children:["Added ",(0,P.Yq)(se.createdAt)]})]})})]})]})}},88306:(e,s,a)=>{a.d(s,{A:()=>i});const i=(0,a(21639).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])}}]);
//# sourceMappingURL=610.5ffd0d58.chunk.js.map