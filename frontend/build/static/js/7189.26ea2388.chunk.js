/*! For license information please see 7189.26ea2388.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[7189],{2284:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(21639).A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},17189:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var a=s(65043),i=s(35475),l=s(12265),n=s(81228),r=s(96938),o=s(75088),c=s(2284),d=s(19829),m=s(39292),x=s(44919),h=s(9333),p=s(40614),u=s(84105),y=s(56099),g=s(66305),f=s(18717),b=s(45735),v=s(92264),j=s(13390),N=s(99766),w=s(70579);const k=(e,t)=>{let s;return function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];clearTimeout(s),s=setTimeout(()=>e(...i),t)}},A=[{id:"all",label:"All",icon:y.A},{id:"video",label:"Videos",icon:h.A},{id:"audio",label:"Audio",icon:d.A}];function S(){const[e,t]=(0,i.ok)(),s=e.get("q")||"",d=e.get("type")||"all",[h,y]=(0,a.useState)(s),[S,C]=(0,a.useState)(s),[L,M]=(0,a.useState)(d),[P,q]=(0,a.useState)(()=>{const e=localStorage.getItem("recentSearches");return e?JSON.parse(e):[]}),{viewMode:T,setViewMode:z}=(0,f.j_)(),I=(0,a.useMemo)(()=>k((e,s)=>{C(e),e?(t({q:e,type:s}),q(t=>{const s=[e,...t.filter(t=>t!==e)].slice(0,5);return localStorage.setItem("recentSearches",JSON.stringify(s)),s})):t({})},300),[t]);(0,a.useEffect)(()=>{I(h,L)},[h,L,I]);const{data:V,isLoading:O}=(0,l.I)({queryKey:["search",L],queryFn:()=>g.O0.getMedia({type:"all"===L?void 0:L,limit:100})}),$=(null===V||void 0===V?void 0:V.data)||[],F=S?$.filter(e=>{var t,s,a;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(S.toLowerCase()))||(null===(s=e.subtitle)||void 0===s?void 0:s.toLowerCase().includes(S.toLowerCase()))||(null===(a=e.artistName)||void 0===a?void 0:a.toLowerCase().includes(S.toLowerCase()))}):$,J=$.slice(0,6);return(0,w.jsxs)("div",{className:"min-h-full -m-4 sm:-m-6 md:m-0 md:p-0",children:[(0,w.jsx)("div",{className:"sticky top-0 z-30 bg-background/95 backdrop-blur-lg border-b border-border md:border-0 md:static md:bg-transparent md:backdrop-blur-none",children:(0,w.jsxs)("div",{className:"px-4 py-3 md:px-0 md:py-4",children:[(0,w.jsx)(n.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:(0,N.cn)("text-2xl md:text-3xl font-bold mb-4 transition-all",h&&"hidden md:block"),children:"Search"}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(m.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),(0,w.jsx)(v.p,{type:"text",placeholder:"Artists, songs, or podcasts",value:h,onChange:e=>y(e.target.value),className:(0,N.cn)("w-full pl-12 pr-12 h-12 md:h-14 bg-secondary/50 md:bg-secondary rounded-full border-0 text-base md:text-lg","focus:ring-2 focus:ring-primary/50 focus:bg-secondary transition-all","placeholder:text-muted-foreground/60"),autoFocus:!1}),(0,w.jsx)(r.N,{children:h&&(0,w.jsx)(n.P.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>{y(""),C(""),t({})},className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground active:scale-90 transition-all",children:(0,w.jsx)(p.A,{className:"h-5 w-5"})})})]}),(0,w.jsx)("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-1 scrollbar-hide",children:A.map(e=>{const t=e.icon;return(0,w.jsxs)(n.P.button,{whileTap:{scale:.95},onClick:()=>M(e.id),className:(0,N.cn)("flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all",L===e.id?"bg-primary text-primary-foreground shadow-lg":"bg-secondary hover:bg-secondary/80 text-foreground"),children:[(0,w.jsx)(t,{className:"h-4 w-4"}),e.label]},e.id)})}),(0,w.jsxs)("div",{className:"hidden md:flex items-center gap-2 mt-4",children:[(0,w.jsxs)(j.$,{variant:"grid"===T?"secondary":"ghost",size:"sm",onClick:()=>z("grid"),children:[(0,w.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Grid"]}),(0,w.jsxs)(j.$,{variant:"list"===T?"secondary":"ghost",size:"sm",onClick:()=>z("list"),children:[(0,w.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"List"]})]})]})}),(0,w.jsxs)("div",{className:"px-4 md:px-0 pb-4",children:[!S&&(0,w.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[P.length>0&&(0,w.jsxs)("div",{className:"mb-8",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,w.jsxs)("h2",{className:"text-lg md:text-xl font-bold flex items-center gap-2",children:[(0,w.jsx)(o.A,{className:"h-5 w-5"}),"Recent Searches"]}),(0,w.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>{q([]),localStorage.removeItem("recentSearches")},className:"text-xs",children:"Clear all"})]}),(0,w.jsx)("div",{className:"flex flex-col gap-2",children:P.map((e,t)=>(0,w.jsxs)(n.P.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},onClick:()=>(e=>{y(e)})(e),className:"flex items-center justify-between p-3 rounded-xl hover:bg-secondary/50 transition-all group",children:[(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"}),(0,w.jsx)("span",{className:"text-sm md:text-base",children:e})]}),(0,w.jsx)(j.$,{variant:"ghost",size:"sm",onClick:t=>((e,t)=>{t.stopPropagation(),q(t=>{const s=t.filter(t=>t!==e);return localStorage.setItem("recentSearches",JSON.stringify(s)),s})})(e,t),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 h-auto",children:(0,w.jsx)(p.A,{className:"h-4 w-4"})})]},t))})]}),(0,w.jsxs)("div",{className:"mb-8",children:[(0,w.jsxs)("h2",{className:"text-lg md:text-xl font-bold mb-4 flex items-center gap-2",children:[(0,w.jsx)(x.A,{className:"h-5 w-5"}),"Trending Now"]}),(0,w.jsx)(b.Vs,{media:J,isLoading:O,emptyMessage:"No trending content available"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-lg md:text-xl font-bold mb-4",children:"Browse All"}),(0,w.jsx)(b.Vs,{media:$,isLoading:O,emptyMessage:"No content available"})]})]}),S&&(0,w.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,w.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,w.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:O?"Searching...":(0,w.jsxs)(w.Fragment,{children:[F.length," result",1!==F.length?"s":""," for"," ",(0,w.jsxs)("span",{className:"text-foreground font-semibold",children:['"',S,'"']})]})})}),(0,w.jsx)(b.Vs,{media:F,isLoading:O,emptyMessage:'No results found for "'.concat(S,'". Try a different search.')})]})]})]})}},44919:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(21639).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},84105:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(21639).A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])}}]);
//# sourceMappingURL=7189.26ea2388.chunk.js.map