{"version":3,"file":"static/js/369.b2a97864.chunk.js","mappings":"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","sources":["pages/EmbedPlayer.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { useParams, useSearchParams } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport { motion } from 'framer-motion';\nimport {\n  Play,\n  Pause,\n  Volume2,\n  VolumeX,\n  Maximize,\n  Minimize,\n  SkipBack,\n  SkipForward,\n  Loader2,\n  AlertCircle,\n} from 'lucide-react';\nimport { publicApi } from '../services/api';\nimport { cn, formatDuration } from '../lib/utils';\n\n/**\n * EmbedPlayer - Lightweight embeddable media player\n * \n * URL: /embed/:id\n * \n * Features:\n * - Lightweight and fast loading\n * - Responsive design\n * - Works for both audio and video\n * - No external dependencies on app state\n * - Supports autoplay parameter\n * - Privacy-respecting (no tracking unless explicitly enabled)\n * \n * Query Parameters:\n * - autoplay=1 - Start playing automatically\n * - loop=1 - Loop the media\n * - muted=1 - Start muted\n * - start=<seconds> - Start at specific time\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001';\nconst APP_DOMAIN = process.env.REACT_APP_DOMAIN || 'https://app.mediacore.in';\n\nexport default function EmbedPlayer() {\n  const { id } = useParams();\n  const [searchParams] = useSearchParams();\n  \n  // URL parameters\n  const autoplay = searchParams.get('autoplay') === '1';\n  const loop = searchParams.get('loop') === '1';\n  const startMuted = searchParams.get('muted') === '1';\n  const startTime = parseInt(searchParams.get('start') || '0', 10);\n\n  // Player state\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(startMuted);\n  const [volume, setVolume] = useState(startMuted ? 0 : 1);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showControls, setShowControls] = useState(true);\n  const [hasInteracted, setHasInteracted] = useState(false);\n\n  // Refs\n  const mediaRef = useRef(null);\n  const containerRef = useRef(null);\n  const controlsTimeoutRef = useRef(null);\n\n  // Fetch media data\n  const { data, isLoading: isQueryLoading, error } = useQuery({\n    queryKey: ['embedMedia', id],\n    queryFn: () => publicApi.getMediaById(id),\n    enabled: !!id,\n    staleTime: 10 * 60 * 1000, // 10 minutes\n  });\n\n  const media = data?.data;\n  const isVideo = media?.type === 'video';\n\n  // Get media source URL\n  const getMediaUrl = () => {\n    if (!media) return '';\n    // Handle HLS\n    if (media.isHls && media.hlsPlaylistUrl) {\n      return media.hlsPlaylistUrl;\n    }\n    return media.fileUrl || media.filePath || '';\n  };\n\n  // Handle autoplay when media loads\n  useEffect(() => {\n    if (media && autoplay && !hasInteracted) {\n      // Browsers require muted for autoplay\n      setIsMuted(true);\n      handlePlay();\n    }\n  }, [media, autoplay]);\n\n  // Set start time\n  useEffect(() => {\n    if (mediaRef.current && startTime > 0) {\n      mediaRef.current.currentTime = startTime;\n    }\n  }, [startTime, isLoading]);\n\n  // Controls auto-hide\n  useEffect(() => {\n    const hideControls = () => {\n      if (isPlaying && isVideo) {\n        controlsTimeoutRef.current = setTimeout(() => {\n          setShowControls(false);\n        }, 3000);\n      }\n    };\n\n    hideControls();\n\n    return () => {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, [isPlaying, isVideo, showControls]);\n\n  // Fullscreen handling\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      setIsFullscreen(!!document.fullscreenElement);\n    };\n\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange);\n    };\n  }, []);\n\n  // Player controls\n  const handlePlay = () => {\n    if (!mediaRef.current) return;\n    \n    setHasInteracted(true);\n    \n    if (isPlaying) {\n      mediaRef.current.pause();\n      setIsPlaying(false);\n    } else {\n      mediaRef.current.play()\n        .then(() => setIsPlaying(true))\n        .catch((err) => {\n          console.error('Playback failed:', err);\n          // If autoplay fails, require user interaction\n          if (err.name === 'NotAllowedError') {\n            setIsMuted(true);\n            setVolume(0);\n            mediaRef.current.muted = true;\n            mediaRef.current.play()\n              .then(() => setIsPlaying(true))\n              .catch(console.error);\n          }\n        });\n    }\n  };\n\n  const handleToggleMute = () => {\n    if (!mediaRef.current) return;\n    const newMuted = !isMuted;\n    setIsMuted(newMuted);\n    mediaRef.current.muted = newMuted;\n    if (!newMuted && volume === 0) {\n      setVolume(1);\n      mediaRef.current.volume = 1;\n    }\n  };\n\n  const handleVolumeChange = (e) => {\n    if (!mediaRef.current) return;\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    mediaRef.current.volume = newVolume;\n    setIsMuted(newVolume === 0);\n  };\n\n  const handleSeek = (e) => {\n    if (!mediaRef.current) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const percent = (e.clientX - rect.left) / rect.width;\n    const time = percent * duration;\n    mediaRef.current.currentTime = time;\n    setCurrentTime(time);\n  };\n\n  const handleTimeUpdate = () => {\n    if (mediaRef.current) {\n      setCurrentTime(mediaRef.current.currentTime);\n    }\n  };\n\n  const handleLoadedMetadata = () => {\n    if (mediaRef.current) {\n      setDuration(mediaRef.current.duration);\n      setIsLoading(false);\n    }\n  };\n\n  const handleEnded = () => {\n    setIsPlaying(false);\n    if (loop && mediaRef.current) {\n      mediaRef.current.currentTime = 0;\n      mediaRef.current.play();\n      setIsPlaying(true);\n    }\n  };\n\n  const toggleFullscreen = async () => {\n    if (!containerRef.current) return;\n\n    if (isFullscreen) {\n      await document.exitFullscreen();\n    } else {\n      await containerRef.current.requestFullscreen();\n    }\n  };\n\n  const handleMouseMove = () => {\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n  };\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"w-full h-full min-h-[200px] bg-black flex items-center justify-center\">\n        <div className=\"text-center text-white/80 px-4\">\n          <AlertCircle className=\"h-10 w-10 mx-auto mb-3 opacity-50\" />\n          <p className=\"text-sm\">Content not available</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Loading state\n  if (isQueryLoading || !media) {\n    return (\n      <div className=\"w-full h-full min-h-[200px] bg-black flex items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-white/50\" />\n      </div>\n    );\n  }\n\n  const progressPercent = duration > 0 ? (currentTime / duration) * 100 : 0;\n\n  return (\n    <div \n      ref={containerRef}\n      className={cn(\n        \"relative w-full bg-black overflow-hidden\",\n        isVideo ? \"aspect-video\" : \"h-[152px]\"\n      )}\n      onMouseMove={handleMouseMove}\n      onMouseEnter={() => setShowControls(true)}\n    >\n      {/* Media Element */}\n      {isVideo ? (\n        <video\n          ref={mediaRef}\n          src={getMediaUrl()}\n          poster={media.thumbnail}\n          className=\"w-full h-full object-contain\"\n          onTimeUpdate={handleTimeUpdate}\n          onLoadedMetadata={handleLoadedMetadata}\n          onEnded={handleEnded}\n          onWaiting={() => setIsLoading(true)}\n          onCanPlay={() => setIsLoading(false)}\n          playsInline\n          muted={isMuted}\n        />\n      ) : (\n        <>\n          {/* Audio background with thumbnail */}\n          <div className=\"absolute inset-0\">\n            {media.thumbnail ? (\n              <img\n                src={media.thumbnail}\n                alt=\"\"\n                className=\"w-full h-full object-cover blur-sm opacity-30\"\n              />\n            ) : (\n              <div className=\"w-full h-full bg-gradient-to-br from-primary/20 to-accent/20\" />\n            )}\n          </div>\n          \n          <audio\n            ref={mediaRef}\n            src={getMediaUrl()}\n            onTimeUpdate={handleTimeUpdate}\n            onLoadedMetadata={handleLoadedMetadata}\n            onEnded={handleEnded}\n            onWaiting={() => setIsLoading(true)}\n            onCanPlay={() => setIsLoading(false)}\n            muted={isMuted}\n          />\n          \n          {/* Audio info overlay */}\n          <div className=\"absolute inset-0 flex items-center px-4 gap-4 z-10\">\n            {/* Thumbnail */}\n            <div className=\"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0 shadow-lg\">\n              {media.thumbnail ? (\n                <img\n                  src={media.thumbnail}\n                  alt={media.title}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full bg-muted flex items-center justify-center\">\n                  <Play className=\"h-8 w-8 text-white/50\" />\n                </div>\n              )}\n            </div>\n            \n            {/* Info */}\n            <div className=\"flex-1 min-w-0 text-white\">\n              <h3 className=\"font-semibold text-sm line-clamp-1\">{media.title}</h3>\n              <p className=\"text-xs text-white/60 line-clamp-1 mt-1\">\n                {media.artistName || media.subtitle || 'Unknown'}\n              </p>\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* Loading overlay */}\n      {isLoading && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-black/50\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\n        </div>\n      )}\n\n      {/* Click to play overlay (video only, before first interaction) */}\n      {isVideo && !hasInteracted && !isPlaying && (\n        <div \n          className=\"absolute inset-0 flex items-center justify-center cursor-pointer bg-black/30\"\n          onClick={handlePlay}\n        >\n          <div className=\"w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-xl\">\n            <Play className=\"h-8 w-8 text-black ml-1\" />\n          </div>\n        </div>\n      )}\n\n      {/* Controls */}\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: showControls || !isPlaying ? 1 : 0 }}\n        className={cn(\n          \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent\",\n          isVideo ? \"pt-12 pb-3\" : \"pt-2 pb-2\"\n        )}\n      >\n        <div className=\"px-3\">\n          {/* Progress bar */}\n          <div \n            className=\"group h-1 bg-white/20 rounded-full cursor-pointer mb-2 hover:h-1.5 transition-all\"\n            onClick={handleSeek}\n          >\n            <div \n              className=\"h-full bg-primary rounded-full relative\"\n              style={{ width: `${progressPercent}%` }}\n            >\n              <div className=\"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\" />\n            </div>\n          </div>\n\n          {/* Control buttons */}\n          <div className=\"flex items-center justify-between text-white\">\n            <div className=\"flex items-center gap-2\">\n              {/* Play/Pause */}\n              <button\n                onClick={handlePlay}\n                className=\"p-1.5 hover:bg-white/10 rounded-full transition-colors\"\n              >\n                {isPlaying ? (\n                  <Pause className=\"h-5 w-5\" />\n                ) : (\n                  <Play className=\"h-5 w-5\" />\n                )}\n              </button>\n\n              {/* Volume */}\n              <div className=\"flex items-center gap-1 group/vol\">\n                <button\n                  onClick={handleToggleMute}\n                  className=\"p-1.5 hover:bg-white/10 rounded-full transition-colors\"\n                >\n                  {isMuted || volume === 0 ? (\n                    <VolumeX className=\"h-4 w-4\" />\n                  ) : (\n                    <Volume2 className=\"h-4 w-4\" />\n                  )}\n                </button>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  value={isMuted ? 0 : volume}\n                  onChange={handleVolumeChange}\n                  className=\"w-0 group-hover/vol:w-16 opacity-0 group-hover/vol:opacity-100 transition-all h-1 cursor-pointer accent-primary\"\n                />\n              </div>\n\n              {/* Time display */}\n              <span className=\"text-xs text-white/70 ml-2\">\n                {formatDuration(currentTime)} / {formatDuration(duration)}\n              </span>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              {/* MediaCore branding */}\n              <a\n                href={`${APP_DOMAIN}/${isVideo ? 'watch' : 'listen'}/${id}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-xs text-white/50 hover:text-white/80 transition-colors px-2\"\n              >\n                MediaCore\n              </a>\n\n              {/* Fullscreen (video only) */}\n              {isVideo && (\n                <button\n                  onClick={toggleFullscreen}\n                  className=\"p-1.5 hover:bg-white/10 rounded-full transition-colors\"\n                >\n                  {isFullscreen ? (\n                    <Minimize className=\"h-4 w-4\" />\n                  ) : (\n                    <Maximize className=\"h-4 w-4\" />\n                  )}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n"],"names":["APP_DOMAIN","process","EmbedPlayer","id","useParams","searchParams","useSearchParams","autoplay","get","loop","startMuted","startTime","parseInt","isPlaying","setIsPlaying","useState","isMuted","setIsMuted","volume","setVolume","currentTime","setCurrentTime","duration","setDuration","isFullscreen","setIsFullscreen","isLoading","setIsLoading","showControls","setShowControls","hasInteracted","setHasInteracted","mediaRef","useRef","containerRef","controlsTimeoutRef","data","isQueryLoading","error","useQuery","queryKey","queryFn","publicApi","getMediaById","enabled","staleTime","media","isVideo","type","getMediaUrl","isHls","hlsPlaylistUrl","fileUrl","filePath","useEffect","handlePlay","current","setTimeout","clearTimeout","handleFullscreenChange","document","fullscreenElement","addEventListener","removeEventListener","pause","play","then","catch","err","console","name","muted","handleTimeUpdate","handleLoadedMetadata","handleEnded","_jsx","className","children","_jsxs","AlertCircle","Loader2","progressPercent","ref","cn","onMouseMove","handleMouseMove","onMouseEnter","src","poster","thumbnail","onTimeUpdate","onLoadedMetadata","onEnded","onWaiting","onCanPlay","playsInline","_Fragment","alt","title","Play","artistName","subtitle","onClick","motion","div","initial","opacity","animate","e","rect","currentTarget","getBoundingClientRect","time","clientX","left","width","style","concat","Pause","handleToggleMute","newMuted","VolumeX","Volume2","min","max","step","value","onChange","newVolume","parseFloat","target","formatDuration","href","rel","async","exitFullscreen","requestFullscreen","Minimize","Maximize"],"ignoreList":[],"sourceRoot":""}